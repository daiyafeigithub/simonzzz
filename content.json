{"meta":{"title":"é£","subtitle":"","description":"ç”¨ä¸€ç§å¾ˆæ–°çš„æ–¹å¼å»æ€è€ƒä¸–ç•Œ","author":"Simon","url":"https://daiyafeigithub.github.io/simonzzz","root":"/simonzzz/"},"pages":[{"title":"about","date":"2025-01-08T09:59:34.187Z","updated":"2025-01-08T09:59:34.187Z","comments":true,"path":"about/index.html","permalink":"https://daiyafeigithub.github.io/simonzzz/about/index.html","excerpt":"","text":""},{"title":"åˆ†ç±»","date":"2025-04-13T08:19:25.921Z","updated":"2025-04-13T08:19:25.921Z","comments":true,"path":"categories/index.html","permalink":"https://daiyafeigithub.github.io/simonzzz/categories/index.html","excerpt":"","text":""},{"title":"experience/work","date":"2025-04-17T06:32:26.000Z","updated":"2025-04-17T06:32:26.000Z","comments":true,"path":"experience-work/index.html","permalink":"https://daiyafeigithub.github.io/simonzzz/experience-work/index.html","excerpt":"","text":""},{"title":"experience/study","date":"2025-04-17T06:32:33.000Z","updated":"2025-04-17T06:32:33.000Z","comments":true,"path":"experience-fun/index.html","permalink":"https://daiyafeigithub.github.io/simonzzz/experience-fun/index.html","excerpt":"","text":""},{"title":"","date":"2025-04-25T16:01:42.109Z","updated":"2025-04-25T16:01:42.109Z","comments":true,"path":"css/custom.css","permalink":"https://daiyafeigithub.github.io/simonzzz/css/custom.css","excerpt":"","text":"/* éŸ³ä¹é¡µé¢æ ·å¼ */ .music-page { max-width: 900px; margin: 0 auto; } .aplayer.aplayer-withlist.aplayer-fixed { max-width: 500px; margin: 0; right: 20px; bottom: 20px; } .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body { left: -66px !important; } .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover { left: 0 !important; } /* éŸ³ä¹åˆ—è¡¨æ ·å¼ */ .music-list .note { margin-bottom: 20px; } .songs-list { column-count: 2; column-gap: 20px; } @media screen and (max-width: 768px) { .songs-list { column-count: 1; } }"},{"title":"friends","date":"2025-01-08T09:59:46.033Z","updated":"2025-01-08T09:59:46.033Z","comments":true,"path":"friends/index.html","permalink":"https://daiyafeigithub.github.io/simonzzz/friends/index.html","excerpt":"","text":""},{"title":"experience/projects","date":"2025-04-17T06:32:29.000Z","updated":"2025-04-17T06:32:29.000Z","comments":true,"path":"experience-projects/index.html","permalink":"https://daiyafeigithub.github.io/simonzzz/experience-projects/index.html","excerpt":"","text":""},{"title":"æ ‡ç­¾","date":"2025-04-13T08:22:31.636Z","updated":"2025-04-13T08:22:31.636Z","comments":true,"path":"tags/index.html","permalink":"https://daiyafeigithub.github.io/simonzzz/tags/index.html","excerpt":"","text":""},{"title":"éŸ³ä¹æ”¶è—","date":"2024-03-18T16:00:00.000Z","updated":"2024-03-18T16:00:00.000Z","comments":false,"path":"music/index.html","permalink":"https://daiyafeigithub.github.io/simonzzz/music/index.html","excerpt":"","text":"ğŸµ è¿™é‡Œæ”¶å½•äº†ä¸€äº›å–œæ¬¢çš„éŸ³ä¹ï¼Œå¸Œæœ›ä½ ä¹Ÿèƒ½å–œæ¬¢ ~æ¸©é¦¨æç¤ºï¼šæœ¬ç«™éŸ³ä¹å¤–é“¾å…¨éƒ¨æ¥è‡ªç½‘æ˜“äº‘éŸ³ä¹ï¼Œå¯ä»¥ç‚¹å‡»æ’­æ”¾æŒ‰é’®æ”¶å¬ Jay å‘¨æ°ä¼¦ç²¾é€‰é›† .music-container { max-width: 900px; margin: 0 auto; padding: 20px; } .music-list { margin: 20px 0; } .songs-list { margin-top: 20px; display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; } .aplayer { margin: 15px 0 !important; box-shadow: 0 0 10px rgba(0,0,0,0.1); border-radius: 10px; } .note { margin: 15px 0; padding: 15px; border-radius: 8px; } @media screen and (max-width: 768px) { .songs-list { grid-template-columns: 1fr; } }"}],"posts":[{"title":"RabbitMQ","slug":"skills/point/rabbitmq","date":"2025-04-22T14:54:22.000Z","updated":"2025-04-22T14:54:22.000Z","comments":true,"path":"2025/04/22/skills/point/rabbitmq/","permalink":"https://daiyafeigithub.github.io/simonzzz/2025/04/22/skills/point/rabbitmq/","excerpt":"","text":"ä¸€ã€RabbitMQ æ ¸å¿ƒæ¦‚å¿µä¸æ¶æ„RabbitMQ æ˜¯åŸºäº AMQP 0-9-1 åè®®çš„æ¶ˆæ¯ä¸­é—´ä»¶ï¼Œå…¶æ ¸å¿ƒè®¾è®¡ç›®æ ‡æ˜¯å®ç°é«˜å¯é ã€å¯æ‰©å±•çš„å¼‚æ­¥é€šä¿¡ã€‚ä»¥ä¸‹æ˜¯å…³é”®ç»„ä»¶çš„è¯¦ç»†è¯´æ˜ï¼š AMQP åè®®ï¼š æ¶ˆæ¯æ¨¡å‹ï¼šç”Ÿäº§è€…ï¼ˆProducerï¼‰å°†æ¶ˆæ¯å‘é€åˆ°äº¤æ¢æœºï¼ˆExchangeï¼‰ï¼Œäº¤æ¢æœºæ ¹æ®è·¯ç”±è§„åˆ™ï¼ˆRouting Keyï¼‰å°†æ¶ˆæ¯åˆ†å‘åˆ°é˜Ÿåˆ—ï¼ˆQueueï¼‰ï¼Œæ¶ˆè´¹è€…ï¼ˆConsumerï¼‰ä»é˜Ÿåˆ—ä¸­æ¶ˆè´¹æ¶ˆæ¯ã€‚ åè®®ç‰¹æ€§ï¼šæ”¯æŒæ¶ˆæ¯ç¡®è®¤ï¼ˆAckï¼‰ã€æŒä¹…åŒ–ã€äº‹åŠ¡ç­‰æœºåˆ¶ï¼Œç¡®ä¿æ¶ˆæ¯å¯é ä¼ è¾“ã€‚ æ ¸å¿ƒç»„ä»¶ï¼š Virtual Hostï¼šé€»è¾‘éš”ç¦»å•å…ƒï¼Œå…è®¸åœ¨åŒä¸€ RabbitMQ å®ä¾‹ä¸­åˆ›å»ºå¤šä¸ªè™šæ‹Ÿç¯å¢ƒã€‚ Connection &amp; Channelï¼š Connectionï¼šTCP è¿æ¥ï¼Œèµ„æºæ¶ˆè€—è¾ƒå¤§ã€‚ Channelï¼šè½»é‡çº§çš„è™šæ‹Ÿè¿æ¥ï¼Œå¤ç”¨ Connectionï¼Œå‡å°‘ç³»ç»Ÿå¼€é”€ã€‚ Exchange ç±»å‹ï¼š Directï¼šç²¾ç¡®åŒ¹é… Routing Keyã€‚ Fanoutï¼šå¹¿æ’­æ¶ˆæ¯åˆ°æ‰€æœ‰ç»‘å®šé˜Ÿåˆ—ã€‚ Topicï¼šæ”¯æŒé€šé…ç¬¦ï¼ˆ* åŒ¹é…ä¸€ä¸ªå•è¯ï¼Œ# åŒ¹é…é›¶ä¸ªæˆ–å¤šä¸ªå•è¯ï¼‰ã€‚ Headersï¼šåŸºäºæ¶ˆæ¯å¤´å±æ€§åŒ¹é…ï¼ˆè¾ƒå°‘ä½¿ç”¨ï¼‰ã€‚ äºŒã€æ¶ˆæ¯ä¼ é€’æ¨¡å¼ä¸ Java ç¤ºä¾‹1. å‘å¸ƒ&#x2F;è®¢é˜…æ¨¡å¼ï¼ˆPub&#x2F;Subï¼‰ åœºæ™¯ï¼šæ—¥å¿—ç³»ç»Ÿå‘æ‰€æœ‰è®¢é˜…è€…å¹¿æ’­æ¶ˆæ¯ã€‚ ä»£ç ç¤ºä¾‹ï¼š123456789101112131415161718192021222324252627282930313233343536// ç”Ÿäº§è€…public class PubSubProducer &#123; private static final String EXCHANGE_NAME = &quot;pubsub_exchange&quot;; public static void main(String[] args) throws Exception &#123; ConnectionFactory factory = new ConnectionFactory(); factory.setHost(&quot;localhost&quot;); try (Connection connection = factory.newConnection(); Channel channel = connection.createChannel()) &#123; channel.exchangeDeclare(EXCHANGE_NAME, &quot;fanout&quot;); String message = &quot;Broadcast message!&quot;; channel.basicPublish(EXCHANGE_NAME, &quot;&quot;, null, message.getBytes()); System.out.println(&quot; [x] Sent &#x27;&quot; + message + &quot;&#x27;&quot;); &#125; &#125;&#125;// æ¶ˆè´¹è€…public class PubSubConsumer &#123; private static final String EXCHANGE_NAME = &quot;pubsub_exchange&quot;; public static void main(String[] args) throws Exception &#123; ConnectionFactory factory = new ConnectionFactory(); factory.setHost(&quot;localhost&quot;); Connection connection = factory.newConnection(); Channel channel = connection.createChannel(); channel.exchangeDeclare(EXCHANGE_NAME, &quot;fanout&quot;); String queueName = channel.queueDeclare().getQueue(); channel.queueBind(queueName, EXCHANGE_NAME, &quot;&quot;); DeliverCallback deliverCallback = (consumerTag, delivery) -&gt; &#123; String message = new String(delivery.getBody(), &quot;UTF-8&quot;); System.out.println(&quot; [x] Received &#x27;&quot; + message + &quot;&#x27;&quot;); &#125;; channel.basicConsume(queueName, true, deliverCallback, consumerTag -&gt; &#123;&#125;); &#125;&#125; 2. RPC æ¨¡å¼ï¼ˆRemote Procedure Callï¼‰ åœºæ™¯ï¼šå®¢æˆ·ç«¯å‘èµ·è¯·æ±‚ï¼ŒæœåŠ¡ç«¯å¤„ç†åè¿”å›ç»“æœã€‚ ä»£ç ç¤ºä¾‹ï¼š12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455// RPC å®¢æˆ·ç«¯public class RPCClient &#123; private final Channel channel; private final String replyQueue; public RPCClient() throws Exception &#123; ConnectionFactory factory = new ConnectionFactory(); factory.setHost(&quot;localhost&quot;); Connection connection = factory.newConnection(); channel = connection.createChannel(); replyQueue = channel.queueDeclare().getQueue(); &#125; public String call(String message) throws Exception &#123; final String corrId = UUID.randomUUID().toString(); AMQP.BasicProperties props = new AMQP.BasicProperties.Builder() .correlationId(corrId) .replyTo(replyQueue) .build(); channel.basicPublish(&quot;&quot;, &quot;rpc_queue&quot;, props, message.getBytes()); final BlockingQueue&lt;String&gt; response = new ArrayBlockingQueue&lt;&gt;(1); DeliverCallback deliverCallback = (consumerTag, delivery) -&gt; &#123; if (delivery.getProperties().getCorrelationId().equals(corrId)) &#123; response.offer(new String(delivery.getBody(), &quot;UTF-8&quot;)); &#125; &#125;; channel.basicConsume(replyQueue, true, deliverCallback, consumerTag -&gt; &#123;&#125;); return response.take(); &#125;&#125;// RPC æœåŠ¡ç«¯public class RPCServer &#123; private static final String RPC_QUEUE_NAME = &quot;rpc_queue&quot;; public static void main(String[] args) throws Exception &#123; ConnectionFactory factory = new ConnectionFactory(); factory.setHost(&quot;localhost&quot;); try (Connection connection = factory.newConnection(); Channel channel = connection.createChannel()) &#123; channel.queueDeclare(RPC_QUEUE_NAME, false, false, false, null); channel.basicQos(1); DeliverCallback deliverCallback = (consumerTag, delivery) -&gt; &#123; String response = &quot;Response to &quot; + new String(delivery.getBody(), &quot;UTF-8&quot;); AMQP.BasicProperties replyProps = new AMQP.BasicProperties.Builder() .correlationId(delivery.getProperties().getCorrelationId()) .build(); channel.basicPublish(&quot;&quot;, delivery.getProperties().getReplyTo(), replyProps, response.getBytes()); channel.basicAck(delivery.getEnvelope().getDeliveryTag(), false); &#125;; channel.basicConsume(RPC_QUEUE_NAME, false, deliverCallback, consumerTag -&gt; &#123;&#125;); System.out.println(&quot; [x] Awaiting RPC requests&quot;); &#125; &#125;&#125; ä¸‰ã€é«˜çº§ç‰¹æ€§ä¸æœ€ä½³å®è·µ1. æ¶ˆæ¯æŒä¹…åŒ– é˜Ÿåˆ—æŒä¹…åŒ–ï¼šå£°æ˜é˜Ÿåˆ—æ—¶è®¾ç½® durable=trueã€‚ æ¶ˆæ¯æŒä¹…åŒ–ï¼šå‘å¸ƒæ¶ˆæ¯æ—¶è®¾ç½® MessageProperties.PERSISTENT_TEXT_PLAINã€‚ ä½œç”¨ï¼šé˜²æ­¢ RabbitMQ é‡å¯åæ•°æ®ä¸¢å¤±ã€‚ 2. æ­»ä¿¡é˜Ÿåˆ—ï¼ˆDLQï¼‰ åœºæ™¯ï¼šå¤„ç†æœªè¢«æ¶ˆè´¹çš„æ¶ˆæ¯ï¼ˆå¦‚æ¶ˆæ¯è¿‡æœŸã€é˜Ÿåˆ—è¾¾åˆ°æœ€å¤§é•¿åº¦ï¼‰ã€‚ é…ç½®ï¼š123Map&lt;String, Object&gt; args = new HashMap&lt;&gt;();args.put(&quot;x-dead-letter-exchange&quot;, &quot;dlq_exchange&quot;);channel.queueDeclare(&quot;main_queue&quot;, true, false, false, args); 3. æ¶ˆæ¯ç¡®è®¤ä¸æ‰‹åŠ¨åº”ç­” æ‰‹åŠ¨ Ackï¼šæ¶ˆè´¹è€…å¤„ç†å®Œæ¶ˆæ¯åæ˜¾å¼å‘é€ç¡®è®¤ï¼Œç¡®ä¿æ¶ˆæ¯ä¸ä¸¢å¤±ã€‚123channel.basicConsume(QUEUE_NAME, false, deliverCallback, consumerTag -&gt; &#123;&#125;);// åœ¨ DeliverCallback ä¸­å¤„ç†å®Œæ¶ˆæ¯åï¼šchannel.basicAck(delivery.getEnvelope().getDeliveryTag(), false); 4. é›†ç¾¤ä¸é«˜å¯ç”¨ é›†ç¾¤æ¨¡å¼ï¼šå°†å¤šä¸ª RabbitMQ èŠ‚ç‚¹ç»„æˆé›†ç¾¤ï¼Œå…±äº«é˜Ÿåˆ—å’Œæ¶ˆæ¯ã€‚ é•œåƒé˜Ÿåˆ—ï¼šå°†é˜Ÿåˆ—æ•°æ®åŒæ­¥åˆ°å¤šä¸ªèŠ‚ç‚¹ï¼Œæå‡å¯ç”¨æ€§ã€‚ å››ã€RabbitMQ åº”ç”¨åœºæ™¯ æµé‡å‰Šå³°ï¼šåº”å¯¹ç§’æ€ã€æŠ¢çº¢åŒ…ç­‰é«˜å¹¶å‘åœºæ™¯ï¼Œé€šè¿‡é˜Ÿåˆ—ç¼“å†²è¯·æ±‚ã€‚ å¼‚æ­¥è§£è€¦ï¼šè§£è€¦è®¢å•ç³»ç»Ÿä¸åº“å­˜ç³»ç»Ÿï¼Œæå‡ç³»ç»Ÿæ‰©å±•æ€§ã€‚ æ—¥å¿—å¤„ç†ï¼šæ”¶é›†åˆ†å¸ƒå¼ç³»ç»Ÿçš„æ—¥å¿—å¹¶åˆ†å‘åˆ°åˆ†æç³»ç»Ÿã€‚ æ•°æ®åŒæ­¥ï¼šè·¨ç³»ç»Ÿæ•°æ®åŒæ­¥ï¼ˆå¦‚è®¢å•çŠ¶æ€æ›´æ–°ï¼‰ã€‚ äº”ã€æ‰©å±•é¢è¯•é¢˜ä¸ç­”æ¡ˆ1. å¦‚ä½•ä¿è¯æ¶ˆæ¯ä¸ä¸¢å¤±ï¼Ÿ ç­”æ¡ˆï¼š æŒä¹…åŒ–é˜Ÿåˆ—å’Œæ¶ˆæ¯ã€‚ ç”Ÿäº§è€…å¼€å¯ç¡®è®¤æœºåˆ¶ï¼ˆPublisher Confirmï¼‰ã€‚ æ¶ˆè´¹è€…æ‰‹åŠ¨ Ackã€‚ 2. å¦‚ä½•å¤„ç†æ¶ˆæ¯é‡å¤æ¶ˆè´¹ï¼Ÿ ç­”æ¡ˆï¼š ä½¿ç”¨æ•°æ®åº“å”¯ä¸€ç´¢å¼•æˆ– Redis è®°å½•å·²æ¶ˆè´¹æ¶ˆæ¯çš„å”¯ä¸€ IDã€‚ å¹‚ç­‰æ€§è®¾è®¡ï¼ˆå¦‚è®¢å•æ”¯ä»˜çŠ¶æ€æ£€æŸ¥ï¼‰ã€‚ 3. ä»€ä¹ˆæ˜¯æ¶ˆæ¯ç§¯å‹ï¼Ÿå¦‚ä½•è§£å†³ï¼Ÿ ç­”æ¡ˆï¼š åŸå› ï¼šæ¶ˆè´¹è€…å¤„ç†é€Ÿåº¦ä½äºç”Ÿäº§é€Ÿåº¦ã€‚ è§£å†³æ–¹æ¡ˆï¼š å¢åŠ æ¶ˆè´¹è€…å®ä¾‹ï¼ˆæ°´å¹³æ‰©å±•ï¼‰ã€‚ ä¼˜åŒ–æ¶ˆè´¹è€…å¤„ç†é€»è¾‘ã€‚ ä¸´æ—¶æ‰©å®¹é˜Ÿåˆ—æˆ–å¢åŠ åˆ†åŒºã€‚ 4. RabbitMQ ä¸ Kafka çš„åŒºåˆ«ï¼Ÿ ç­”æ¡ˆï¼š RabbitMQï¼šä½å»¶è¿Ÿã€çµæ´»è·¯ç”±ï¼Œé€‚åˆä¼ ç»Ÿæ¶ˆæ¯é˜Ÿåˆ—åœºæ™¯ã€‚ Kafkaï¼šé«˜ååã€æŒä¹…åŒ–æ—¥å¿—ï¼Œé€‚åˆå¤§æ•°æ®æµå¤„ç†ã€‚ å…­ã€æ€»ç»“RabbitMQ é€šè¿‡ä¸°å¯Œçš„æ¶ˆæ¯æ¨¡å‹å’Œå¯é çš„æœºåˆ¶ï¼Œæˆä¸ºåˆ†å¸ƒå¼ç³»ç»Ÿä¸­ä¸å¯æˆ–ç¼ºçš„ç»„ä»¶ã€‚æŒæ¡å…¶æ ¸å¿ƒåŸç†ã€é«˜çº§ç‰¹æ€§åŠå®é™…åº”ç”¨åœºæ™¯ï¼Œå¯æœ‰æ•ˆæå‡ç³»ç»Ÿè®¾è®¡èƒ½åŠ›ã€‚ç»“åˆ Spring Boot æˆ– Spring Cloud Stream å¯è¿›ä¸€æ­¥ç®€åŒ–é›†æˆã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://daiyafeigithub.github.io/simonzzz/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"RabbitMQ","slug":"RabbitMQ","permalink":"https://daiyafeigithub.github.io/simonzzz/tags/RabbitMQ/"}]},{"title":"ç¼–ç¨‹é¢˜ï¼šå¤šçº¿ç¨‹ä»»åŠ¡å¤„ç†","slug":"ask/threadArrange","date":"2025-04-22T14:50:18.000Z","updated":"2025-04-22T14:50:18.000Z","comments":true,"path":"2025/04/22/ask/threadArrange/","permalink":"https://daiyafeigithub.github.io/simonzzz/2025/04/22/ask/threadArrange/","excerpt":"","text":"é¢˜ç›® 1: æ‰¹é‡ä»»åŠ¡å¤„ç†ç³»ç»ŸèƒŒæ™¯æè¿°æŸç”µå•†å¹³å°éœ€è¦å®šæœŸç”Ÿæˆä¸€ä»½é”€å”®æŠ¥å‘Šã€‚ç”ŸæˆæŠ¥å‘Šçš„è¿‡ç¨‹åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š ç³»ç»Ÿä¼šä»æ•°æ®åº“ä¸­æå–ä¸€æ‰¹è®¢å•æ•°æ®ï¼ˆå‡è®¾å…±æœ‰ 5 ç¬”è®¢å•ï¼‰ã€‚ æ¯ç¬”è®¢å•éœ€è¦å•ç‹¬è®¡ç®—å…¶é”€å”®é¢å’Œåˆ©æ¶¦ï¼ˆè¿™äº›è®¡ç®—è¿‡ç¨‹å¯ä»¥å¹¶è¡Œè¿›è¡Œï¼Œæ¯ç¬”è®¢å•çš„è®¡ç®—æ—¶é—´éšæœºï¼ŒèŒƒå›´ä¸º 1~3 ç§’ï¼‰ã€‚ åªæœ‰å½“æ‰€æœ‰è®¢å•çš„è®¡ç®—å®Œæˆåï¼Œç³»ç»Ÿæ‰èƒ½æ±‡æ€»ç»“æœå¹¶ç”Ÿæˆæœ€ç»ˆçš„é”€å”®æŠ¥å‘Šã€‚ å…·ä½“è¦æ±‚ è®¾è®¡ä¸€ä¸ªç¨‹åºæ¨¡æ‹Ÿä¸Šè¿°æµç¨‹ï¼Œç¡®ä¿æ‰€æœ‰è®¢å•çš„è®¡ç®—ä»»åŠ¡éƒ½èƒ½æ­£ç¡®å®Œæˆã€‚ åœ¨æ‰€æœ‰è®¢å•è®¡ç®—å®Œæˆåï¼Œç³»ç»Ÿåº”æ‰“å°ä¸€æ¡æ¶ˆæ¯ï¼Œä¾‹å¦‚ &quot;Sales report generated successfully!&quot;ã€‚ ç¡®ä¿ç¨‹åºèƒ½å¤Ÿé«˜æ•ˆè¿è¡Œï¼Œé¿å…èµ„æºæµªè´¹æˆ–ä»»åŠ¡é—æ¼ã€‚ æç¤º è€ƒè™‘å¦‚ä½•è®©ä¸»ç¨‹åºçŸ¥é“æ‰€æœ‰è®¢å•çš„è®¡ç®—ä»»åŠ¡å·²ç»å®Œæˆã€‚ éœ€è¦æ³¨æ„å¹¶å‘ç¯å¢ƒä¸‹çš„æ•°æ®ä¸€è‡´æ€§é—®é¢˜ã€‚ ç¤ºä¾‹è¾“å‡º1234567891011Processing order 1...Processing order 2...Processing order 3...Processing order 4...Processing order 5...Order 1 processed.Order 3 processed.Order 2 processed.Order 5 processed.Order 4 processed.Sales report generated successfully! é¢˜ç›® 2: å¤šé˜¶æ®µç§‘ç ”å®éªŒæ¨¡æ‹ŸèƒŒæ™¯æè¿°æŸç§‘ç ”å›¢é˜Ÿæ­£åœ¨è¿›è¡Œä¸€é¡¹å¤šé˜¶æ®µçš„å®éªŒç ”ç©¶ã€‚å®éªŒåˆ†ä¸ºä¸‰ä¸ªé˜¶æ®µï¼Œæ¯ä¸ªé˜¶æ®µéƒ½éœ€è¦å¤šåç ”ç©¶äººå‘˜åä½œå®Œæˆã€‚å…·ä½“è§„åˆ™å¦‚ä¸‹ï¼š æ¯ä¸ªç ”ç©¶äººå‘˜éœ€è¦ä¾æ¬¡å®Œæˆä¸‰ä¸ªé˜¶æ®µçš„ä»»åŠ¡ï¼ˆæ¯ä¸ªé˜¶æ®µçš„ä»»åŠ¡è€—æ—¶éšæœºï¼ŒèŒƒå›´ä¸º 1~2 ç§’ï¼‰ã€‚ åœ¨æ¯ä¸ªé˜¶æ®µç»“æŸæ—¶ï¼Œæ‰€æœ‰ç ”ç©¶äººå‘˜å¿…é¡»ç­‰å¾…å…¶ä»–æˆå‘˜å®Œæˆå½“å‰é˜¶æ®µçš„ä»»åŠ¡åï¼Œæ‰èƒ½è¿›å…¥ä¸‹ä¸€ä¸ªé˜¶æ®µã€‚ å®éªŒç»“æŸåï¼Œæ¯ä¸ªç ”ç©¶äººå‘˜éœ€è¦æäº¤è‡ªå·±çš„å®éªŒç»“æœã€‚ å…·ä½“è¦æ±‚ å‡è®¾æœ‰ 4 åç ”ç©¶äººå‘˜å‚ä¸å®éªŒã€‚ æ¨¡æ‹Ÿæ•´ä¸ªå®éªŒè¿‡ç¨‹ï¼Œç¡®ä¿æ‰€æœ‰ç ”ç©¶äººå‘˜æŒ‰ç…§è§„åˆ™å®Œæˆä»»åŠ¡ã€‚ åœ¨æ¯ä¸ªé˜¶æ®µç»“æŸæ—¶ï¼Œæ‰“å°ä¸€æ¡æ¶ˆæ¯ï¼Œä¾‹å¦‚ &quot;Phase X completed by all researchers&quot;ã€‚ å®éªŒç»“æŸåï¼Œæ¯ä½ç ”ç©¶äººå‘˜æ‰“å°ä¸€æ¡æ¶ˆæ¯ï¼Œä¾‹å¦‚ &quot;Researcher-X has submitted the results&quot;ã€‚ æç¤º è€ƒè™‘å¦‚ä½•ç¡®ä¿ç ”ç©¶äººå‘˜åœ¨æ¯ä¸ªé˜¶æ®µéƒ½èƒ½åŒæ­¥åä½œã€‚ æ³¨æ„é¿å…æŸäº›ç ”ç©¶äººå‘˜æå‰è¿›å…¥ä¸‹ä¸€é˜¶æ®µçš„æƒ…å†µã€‚ ç¤ºä¾‹è¾“å‡º12345678910111213141516171819Researcher 1 is working on Phase 1...Researcher 2 is working on Phase 1...Researcher 3 is working on Phase 1...Researcher 4 is working on Phase 1...Phase 1 completed by all researchersResearcher 1 is working on Phase 2...Researcher 2 is working on Phase 2...Researcher 3 is working on Phase 2...Researcher 4 is working on Phase 2...Phase 2 completed by all researchersResearcher 1 is working on Phase 3...Researcher 2 is working on Phase 3...Researcher 3 is working on Phase 3...Researcher 4 is working on Phase 3...Phase 3 completed by all researchersResearcher 1 has submitted the resultsResearcher 2 has submitted the resultsResearcher 3 has submitted the resultsResearcher 4 has submitted the results æ€»ç»“è¿™ä¸¤ä¸ªé¢˜ç›®åˆ†åˆ«æ¨¡æ‹Ÿäº†æ‰¹é‡ä»»åŠ¡å¤„ç†å’Œå¤šé˜¶æ®µåä½œçš„å®é™…ä¸šåŠ¡åœºæ™¯ï¼Œç”¨æˆ·å¯ä»¥æ ¹æ®éœ€æ±‚è‡ªè¡Œé€‰æ‹©åˆé€‚çš„åŒæ­¥æœºåˆ¶ï¼ˆå¦‚ CountDownLatch æˆ– CyclicBarrierï¼‰ã€‚è¿™ç§è®¾è®¡æ–¹å¼æ›´è´´è¿‘å®é™…é¡¹ç›®å¼€å‘ä¸­çš„éœ€æ±‚åˆ†æä¸è§£å†³æ–¹æ¡ˆè®¾è®¡æµç¨‹ï¼Œæœ‰åŠ©äºåŸ¹å…»ç”¨æˆ·è§£å†³å®é™…é—®é¢˜çš„èƒ½åŠ›ã€‚","categories":[],"tags":[]},{"title":"é¢è¯•å®˜é—®ï¼šè¯·é—®åœ¨ä½ çš„é¡¹ç›®ä¸­å¦‚ä½•ä½¿ç”¨çš„çº¿ç¨‹æ± ","slug":"skills/interview/interview","date":"2025-04-22T14:39:37.000Z","updated":"2025-04-22T14:39:37.000Z","comments":true,"path":"2025/04/22/skills/interview/interview/","permalink":"https://daiyafeigithub.github.io/simonzzz/2025/04/22/skills/interview/interview/","excerpt":"","text":"ä¸šåŠ¡åœºæ™¯ï¼šé‡‘èäº¤æ˜“å¤„ç†ç³»ç»Ÿåœºæ™¯æè¿°å‡è®¾æˆ‘ä»¬æ­£åœ¨å¼€å‘ä¸€ä¸ªé‡‘èäº¤æ˜“å¤„ç†ç³»ç»Ÿï¼Œç³»ç»Ÿéœ€è¦å¤„ç†å¤§é‡çš„äº¤æ˜“è¯·æ±‚ï¼Œä¾‹å¦‚è‚¡ç¥¨äº¤æ˜“ã€è½¬è´¦ã€æ”¯ä»˜ç­‰ã€‚æ¯ä¸ªäº¤æ˜“è¯·æ±‚éœ€è¦æ‰§è¡Œä¸€äº›çŸ­ç”Ÿå‘½å‘¨æœŸçš„ä»»åŠ¡ï¼Œä¾‹å¦‚éªŒè¯äº¤æ˜“ä¿¡æ¯ã€è®¡ç®—äº¤æ˜“é‡‘é¢ã€æ›´æ–°è´¦æˆ·ä½™é¢ã€é€šçŸ¥ç”¨æˆ·ç­‰ã€‚ç”±äºäº¤æ˜“è¯·æ±‚çš„æ•°é‡è¾ƒå¤§ä¸”æ¯ä¸ªä»»åŠ¡çš„æ‰§è¡Œæ—¶é—´è¾ƒçŸ­ï¼Œä½¿ç”¨ CachedThreadPool å¯ä»¥æœ‰æ•ˆåœ°ç®¡ç†å’Œå¤ç”¨çº¿ç¨‹ï¼Œå‡å°‘çº¿ç¨‹åˆ›å»ºå’Œé”€æ¯çš„å¼€é”€ï¼Œæé«˜ç³»ç»Ÿçš„æ€§èƒ½å’Œå“åº”é€Ÿåº¦ã€‚ æ­¤å¤–ï¼Œä¸ºäº†ç¡®ä¿æ¯ä¸ªäº¤æ˜“è¯·æ±‚çš„çº¿ç¨‹å®‰å…¨æ€§å’Œæ•°æ®éš”ç¦»æ€§ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ ThreadLocal æ¥å­˜å‚¨æ¯ä¸ªçº¿ç¨‹çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚ä¸ºäº†åŒæ­¥å¤šä¸ªä»»åŠ¡çš„å®Œæˆï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ CountDownLatch æ¥ç­‰å¾…æ‰€æœ‰ä»»åŠ¡å®Œæˆã€‚ ä»£ç å®ç°123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194package basic.multipleThread;import java.util.concurrent.*;public class FinancialTransactionSystem &#123; private ExecutorService cachedThreadPool; private CountDownLatch latch; public FinancialTransactionSystem(int numberOfTasks) &#123; // åˆ›å»ºä¸€ä¸ªå¯ç¼“å­˜çš„çº¿ç¨‹æ±  this.cachedThreadPool = Executors.newCachedThreadPool(); // åˆå§‹åŒ– CountDownLatch this.latch = new CountDownLatch(numberOfTasks); &#125; public void processTransaction(Transaction transaction) &#123; // æäº¤äº¤æ˜“éªŒè¯ä»»åŠ¡ cachedThreadPool.submit(new TransactionValidator(transaction, latch)); // æäº¤äº¤æ˜“è®¡ç®—é‡‘é¢ä»»åŠ¡ cachedThreadPool.submit(new TransactionCalculator(transaction, latch)); // æäº¤äº¤æ˜“æ›´æ–°è´¦æˆ·ä½™é¢ä»»åŠ¡ cachedThreadPool.submit(new TransactionUpdater(transaction, latch)); // æäº¤äº¤æ˜“é€šçŸ¥ç”¨æˆ·ä»»åŠ¡ cachedThreadPool.submit(new TransactionNotifier(transaction, latch)); &#125; public void shutdown() &#123; try &#123; // ç­‰å¾…æ‰€æœ‰ä»»åŠ¡å®Œæˆ latch.await(); &#125; catch (InterruptedException e) &#123; Thread.currentThread().interrupt(); System.err.println(&quot;Main thread was interrupted: &quot; + e.getMessage()); &#125; finally &#123; // å…³é—­çº¿ç¨‹æ±  cachedThreadPool.shutdown(); &#125; &#125; public static void main(String[] args) &#123; int numberOfTasks = 40; // æ¯ä¸ªäº¤æ˜“æœ‰4ä¸ªä»»åŠ¡ FinancialTransactionSystem transactionSystem = new FinancialTransactionSystem(numberOfTasks); // æ¨¡æ‹Ÿå¤„ç†å¤šä¸ªäº¤æ˜“ for (int i = 1; i &lt;= 10; i++) &#123; Transaction transaction = new Transaction(i); transactionSystem.processTransaction(transaction); &#125; // å…³é—­çº¿ç¨‹æ±  transactionSystem.shutdown(); &#125;&#125;// äº¤æ˜“ç±»class Transaction &#123; private int transactionId; public Transaction(int transactionId) &#123; this.transactionId = transactionId; &#125; public int getTransactionId() &#123; return transactionId; &#125;&#125;// ä½¿ç”¨ ThreadLocal å­˜å‚¨æ¯ä¸ªçº¿ç¨‹çš„ä¸Šä¸‹æ–‡ä¿¡æ¯class TransactionContext &#123; private static final ThreadLocal&lt;String&gt; transactionId = new ThreadLocal&lt;&gt;(); public static void setTransactionId(String id) &#123; transactionId.set(id); &#125; public static String getTransactionId() &#123; return transactionId.get(); &#125; public static void clearTransactionId() &#123; transactionId.remove(); &#125;&#125;// äº¤æ˜“éªŒè¯ä»»åŠ¡class TransactionValidator implements Runnable &#123; private Transaction transaction; private CountDownLatch latch; public TransactionValidator(Transaction transaction, CountDownLatch latch) &#123; this.transaction = transaction; this.latch = latch; &#125; @Override public void run() &#123; try &#123; TransactionContext.setTransactionId(String.valueOf(transaction.getTransactionId())); System.out.println(&quot;TransactionValidator is running for transaction ID: &quot; + TransactionContext.getTransactionId()); // æ¨¡æ‹ŸéªŒè¯é€»è¾‘ Thread.sleep(500); &#125; catch (InterruptedException e) &#123; Thread.currentThread().interrupt(); System.err.println(&quot;TransactionValidator was interrupted: &quot; + e.getMessage()); &#125; finally &#123; TransactionContext.clearTransactionId(); latch.countDown(); &#125; &#125;&#125;// äº¤æ˜“è®¡ç®—é‡‘é¢ä»»åŠ¡class TransactionCalculator implements Runnable &#123; private Transaction transaction; private CountDownLatch latch; public TransactionCalculator(Transaction transaction, CountDownLatch latch) &#123; this.transaction = transaction; this.latch = latch; &#125; @Override public void run() &#123; try &#123; TransactionContext.setTransactionId(String.valueOf(transaction.getTransactionId())); System.out.println(&quot;TransactionCalculator is running for transaction ID: &quot; + TransactionContext.getTransactionId()); // æ¨¡æ‹Ÿè®¡ç®—é‡‘é¢é€»è¾‘ Thread.sleep(500); &#125; catch (InterruptedException e) &#123; Thread.currentThread().interrupt(); System.err.println(&quot;TransactionCalculator was interrupted: &quot; + e.getMessage()); &#125; finally &#123; TransactionContext.clearTransactionId(); latch.countDown(); &#125; &#125;&#125;// äº¤æ˜“æ›´æ–°è´¦æˆ·ä½™é¢ä»»åŠ¡class TransactionUpdater implements Runnable &#123; private Transaction transaction; private CountDownLatch latch; public TransactionUpdater(Transaction transaction, CountDownLatch latch) &#123; this.transaction = transaction; this.latch = latch; &#125; @Override public void run() &#123; try &#123; TransactionContext.setTransactionId(String.valueOf(transaction.getTransactionId())); System.out.println(&quot;TransactionUpdater is running for transaction ID: &quot; + TransactionContext.getTransactionId()); // æ¨¡æ‹Ÿæ›´æ–°è´¦æˆ·ä½™é¢é€»è¾‘ Thread.sleep(500); &#125; catch (InterruptedException e) &#123; Thread.currentThread().interrupt(); System.err.println(&quot;TransactionUpdater was interrupted: &quot; + e.getMessage()); &#125; finally &#123; TransactionContext.clearTransactionId(); latch.countDown(); &#125; &#125;&#125;// äº¤æ˜“é€šçŸ¥ç”¨æˆ·ä»»åŠ¡class TransactionNotifier implements Runnable &#123; private Transaction transaction; private CountDownLatch latch; public TransactionNotifier(Transaction transaction, CountDownLatch latch) &#123; this.transaction = transaction; this.latch = latch; &#125; @Override public void run() &#123; try &#123; TransactionContext.setTransactionId(String.valueOf(transaction.getTransactionId())); System.out.println(&quot;TransactionNotifier is running for transaction ID: &quot; + TransactionContext.getTransactionId()); // æ¨¡æ‹Ÿé€šçŸ¥ç”¨æˆ·é€»è¾‘ Thread.sleep(500); &#125; catch (InterruptedException e) &#123; Thread.currentThread().interrupt(); System.err.println(&quot;TransactionNotifier was interrupted: &quot; + e.getMessage()); &#125; finally &#123; TransactionContext.clearTransactionId(); latch.countDown(); &#125; &#125;&#125; è¯¦ç»†è¿‡ç¨‹ åˆ›å»ºçº¿ç¨‹æ± å’Œ CountDownLatchï¼š 12this.cachedThreadPool = Executors.newCachedThreadPool();this.latch = new CountDownLatch(numberOfTasks); è¿™è¡Œä»£ç åˆ›å»ºäº†ä¸€ä¸ªå¯ç¼“å­˜çš„çº¿ç¨‹æ± ï¼Œå¹¶åˆå§‹åŒ–äº†ä¸€ä¸ª CountDownLatchï¼Œç”¨äºç­‰å¾…æ‰€æœ‰ä»»åŠ¡å®Œæˆã€‚ æäº¤ä»»åŠ¡ï¼š 1234cachedThreadPool.submit(new TransactionValidator(transaction, latch));cachedThreadPool.submit(new TransactionCalculator(transaction, latch));cachedThreadPool.submit(new TransactionUpdater(transaction, latch));cachedThreadPool.submit(new TransactionNotifier(transaction, latch)); è¿™é‡Œæäº¤äº†å››ç§ä¸åŒç±»å‹çš„çº¿ç¨‹ä»»åŠ¡ï¼šTransactionValidatorï¼ˆéªŒè¯äº¤æ˜“ä¿¡æ¯ï¼‰ã€TransactionCalculatorï¼ˆè®¡ç®—äº¤æ˜“é‡‘é¢ï¼‰ã€TransactionUpdaterï¼ˆæ›´æ–°è´¦æˆ·ä½™é¢ï¼‰å’Œ TransactionNotifierï¼ˆé€šçŸ¥ç”¨æˆ·ï¼‰ã€‚æ¯ä¸ªä»»åŠ¡éƒ½å®ç°äº† Runnable æ¥å£ï¼Œå¹¶ä¼ é€’äº† CountDownLatch å®ä¾‹ã€‚ ä»»åŠ¡æ‰§è¡Œï¼š TransactionValidatorï¼šéªŒè¯äº¤æ˜“ä¿¡æ¯ã€‚ TransactionCalculatorï¼šè®¡ç®—äº¤æ˜“é‡‘é¢ã€‚ TransactionUpdaterï¼šæ›´æ–°è´¦æˆ·ä½™é¢ã€‚ TransactionNotifierï¼šé€šçŸ¥ç”¨æˆ·äº¤æ˜“çŠ¶æ€ã€‚ **ä½¿ç”¨ ThreadLocal**ï¼š 12TransactionContext.setTransactionId(String.valueOf(transaction.getTransactionId()));System.out.println(&quot;TransactionValidator is running for transaction ID: &quot; + TransactionContext.getTransactionId()); åœ¨æ¯ä¸ªä»»åŠ¡çš„ run æ–¹æ³•ä¸­ï¼Œä½¿ç”¨ ThreadLocal å­˜å‚¨å’Œè·å–å½“å‰çº¿ç¨‹çš„äº¤æ˜“ IDï¼Œç¡®ä¿æ¯ä¸ªçº¿ç¨‹çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ç‹¬ç«‹ä¸”å®‰å…¨ã€‚ **ä½¿ç”¨ CountDownLatch**ï¼š 1latch.countDown(); åœ¨æ¯ä¸ªä»»åŠ¡çš„ finally å—ä¸­è°ƒç”¨ latch.countDown()ï¼Œè¡¨ç¤ºä¸€ä¸ªä»»åŠ¡å·²å®Œæˆã€‚åœ¨ main æ–¹æ³•ä¸­è°ƒç”¨ latch.await()ï¼Œç­‰å¾…æ‰€æœ‰ä»»åŠ¡å®Œæˆã€‚ å…³é—­çº¿ç¨‹æ± ï¼š 1cachedThreadPool.shutdown(); åœ¨ finally å—ä¸­è°ƒç”¨ shutdown() æ–¹æ³•ï¼Œç¡®ä¿çº¿ç¨‹æ± åœ¨ä»»åŠ¡å®Œæˆåè¢«æ­£ç¡®å…³é—­ï¼Œé‡Šæ”¾èµ„æºã€‚ æ€»ç»“é€šè¿‡ä¸Šè¿°ç¤ºä¾‹ï¼Œå±•ç¤ºäº†å¦‚ä½•åœ¨é‡‘èäº¤æ˜“å¤„ç†ç³»ç»Ÿä¸­ä½¿ç”¨ CachedThreadPool æ¥å¤„ç†å¤§é‡çŸ­ç”Ÿå‘½å‘¨æœŸçš„ä»»åŠ¡ï¼Œå¹¶ç»“åˆ ThreadLocal å’Œ CountDownLatch æ¥ç¡®ä¿çº¿ç¨‹å®‰å…¨æ€§å’Œä»»åŠ¡åŒæ­¥ã€‚å…·ä½“ä¼˜åŒ–ç‚¹åŒ…æ‹¬ï¼š çº¿ç¨‹æ± ç®¡ç†ï¼šä½¿ç”¨ CachedThreadPool ç®¡ç†çº¿ç¨‹ï¼Œå‡å°‘çº¿ç¨‹åˆ›å»ºå’Œé”€æ¯çš„å¼€é”€ã€‚ çº¿ç¨‹å®‰å…¨ï¼šä½¿ç”¨ ThreadLocal å­˜å‚¨æ¯ä¸ªçº¿ç¨‹çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œç¡®ä¿æ•°æ®éš”ç¦»ã€‚ ä»»åŠ¡åŒæ­¥ï¼šä½¿ç”¨ CountDownLatch ç­‰å¾…æ‰€æœ‰ä»»åŠ¡å®Œæˆï¼Œç¡®ä¿ä¸»çº¿ç¨‹åœ¨æ‰€æœ‰ä»»åŠ¡å®Œæˆåæ‰ç»§ç»­æ‰§è¡Œã€‚ è¿™ç§è®¾è®¡æœ‰åŠ©äºç¡®ä¿é‡‘èç³»ç»Ÿçš„ç¨³å®šæ€§å’Œé«˜æ•ˆæ€§ï¼Œç‰¹åˆ«æ˜¯åœ¨é«˜å¹¶å‘çš„æƒ…å†µä¸‹ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://daiyafeigithub.github.io/simonzzz/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"Java","slug":"Java","permalink":"https://daiyafeigithub.github.io/simonzzz/tags/Java/"},{"name":"å¤šçº¿ç¨‹","slug":"å¤šçº¿ç¨‹","permalink":"https://daiyafeigithub.github.io/simonzzz/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/"},{"name":"çº¿ç¨‹æ± ","slug":"çº¿ç¨‹æ± ","permalink":"https://daiyafeigithub.github.io/simonzzz/tags/%E7%BA%BF%E7%A8%8B%E6%B1%A0/"}]},{"title":"åˆ©ç”¨å¤§æ¨¡å‹å®ç°å…¬å¸ä¸šåŠ¡çš„è‡ªåŠ¨åŒ–","slug":"AI/howtomakeayewuxian","date":"2025-04-20T14:43:00.000Z","updated":"2025-04-20T14:43:00.000Z","comments":true,"path":"2025/04/20/AI/howtomakeayewuxian/","permalink":"https://daiyafeigithub.github.io/simonzzz/2025/04/20/AI/howtomakeayewuxian/","excerpt":"","text":"ä¸€ã€æŠ€æœ¯æ ˆé€‰æ‹©1. åŸºç¡€æŠ€æœ¯æ¡†æ¶ å¤§æ¨¡å‹å¹³å°ï¼š å¼€æºæ¨¡å‹ï¼šLLaMAã€Falconã€Stable Diffusionï¼ˆæ ¹æ®ä¸šåŠ¡ç±»å‹é€‰æ‹©ï¼‰ã€‚ é—­æºæ¨¡å‹ï¼šé˜¿é‡Œäº‘é€šä¹‰åƒé—®ã€ç™¾åº¦æ–‡å¿ƒä¸€è¨€ã€OpenAI GPT ç³»åˆ—ï¼ˆé€šè¿‡ API è°ƒç”¨ï¼‰ã€‚ å¼€å‘å·¥å…·ï¼š æ¨¡å‹è®­ç»ƒï¼šHugging Face Transformersã€PyTorchã€TensorFlowã€‚ éƒ¨ç½²å·¥å…·ï¼šFastAPIï¼ˆAPI æœåŠ¡ï¼‰ã€Dockerï¼ˆå®¹å™¨åŒ–ï¼‰ã€Kubernetesï¼ˆé›†ç¾¤ç®¡ç†ï¼‰ã€‚ ä½ä»£ç å¹³å°ï¼šé˜¿é‡Œäº‘ç™¾ç‚¼ã€ç™¾åº¦AI Studioï¼ˆé€‚åˆå¿«é€Ÿå¼€å‘ï¼‰ã€‚ 2. æ•°æ®ç›¸å…³æŠ€æœ¯ æ•°æ®é¢„å¤„ç†ï¼šPandasï¼ˆæ•°æ®æ¸…æ´—ï¼‰ã€NLTK&#x2F;Spacyï¼ˆæ–‡æœ¬å¤„ç†ï¼‰ã€OpenCVï¼ˆå›¾åƒå¤„ç†ï¼‰ã€‚ æ•°æ®æ ‡æ³¨å·¥å…·ï¼šLabel Studioã€CVATï¼ˆç”¨äºæ ‡æ³¨è®­ç»ƒæ•°æ®ï¼‰ã€‚ æ•°æ®å­˜å‚¨ï¼šMySQL&#x2F;MongoDBï¼ˆç»“æ„åŒ–æ•°æ®ï¼‰ã€Elasticsearchï¼ˆæ—¥å¿—&#x2F;éç»“æ„åŒ–æ•°æ®ï¼‰ã€‚ 3. æ¨¡å‹ä¼˜åŒ–æŠ€æœ¯ å¾®è°ƒï¼ˆFine-tuningï¼‰ï¼šLoRAã€P-Tuningã€å…¨é‡å¾®è°ƒã€‚ æ¨¡å‹å‹ç¼©ï¼šé‡åŒ–ï¼ˆ8-bit&#x2F;4-bitï¼‰ã€å‰ªæã€è’¸é¦ï¼ˆDistillationï¼‰ã€‚ æ¨ç†åŠ é€Ÿï¼šONNX Runtimeã€TensorRTã€vLLMã€‚ äºŒã€è®­ç»ƒå…¬å¸ä¸šåŠ¡æ¨¡å‹çš„æ­¥éª¤1. æ˜ç¡®ä¸šåŠ¡åœºæ™¯ éœ€æ±‚åˆ†æï¼šç¡®å®šéœ€è¦æ›¿æ¢äººå·¥çš„å…·ä½“ç¯èŠ‚ï¼ˆå¦‚å®¢æœå¯¹è¯ã€æ•°æ®å½•å…¥ã€æŠ¥å‘Šç”Ÿæˆã€å›¾åƒè¯†åˆ«ç­‰ï¼‰ã€‚ ä»»åŠ¡ç±»å‹ï¼š æ–‡æœ¬ç”Ÿæˆï¼šå¦‚è‡ªåŠ¨ç”Ÿæˆé‚®ä»¶ã€æŠ¥å‘Šã€ä»£ç ã€‚ åˆ†ç±»&#x2F;è¯†åˆ«ï¼šå¦‚å®¢æˆ·æ„å›¾è¯†åˆ«ã€ç¥¨æ®åˆ†ç±»ã€‚ å¯¹è¯ç†è§£ï¼šå¦‚æ™ºèƒ½å®¢æœã€è¯­éŸ³åŠ©æ‰‹ã€‚ å¤šæ¨¡æ€ä»»åŠ¡ï¼šå¦‚å›¾åƒæè¿°ç”Ÿæˆã€è§†é¢‘å†…å®¹åˆ†æã€‚ 2. æ•°æ®å‡†å¤‡ æ•°æ®æ”¶é›†ï¼š ä»å…¬å¸å†…éƒ¨ç³»ç»Ÿï¼ˆå¦‚ CRMã€ERPï¼‰å¯¼å‡ºå†å²æ•°æ®ã€‚ æ”¶é›†äººå·¥æ“ä½œçš„æ ‡æ³¨æ•°æ®ï¼ˆå¦‚å®¢æœå¯¹è¯è®°å½•ã€æ ‡æ³¨è¿‡çš„å›¾ç‰‡ï¼‰ã€‚ æ•°æ®æ¸…æ´—ï¼š å»é™¤å™ªå£°ï¼ˆé‡å¤ã€é”™è¯¯ã€æ— å…³æ•°æ®ï¼‰ã€‚ ç»Ÿä¸€æ ¼å¼ï¼ˆå¦‚æ—¶é—´æˆ³ã€æ–‡æœ¬ç¼–ç ï¼‰ã€‚ æ•°æ®æ ‡æ³¨ï¼š å¯¹æ— æ ‡ç­¾æ•°æ®è¿›è¡Œäººå·¥æ ‡æ³¨ï¼ˆå¦‚åˆ†ç±»æ ‡ç­¾ã€å®ä½“æ ‡æ³¨ï¼‰ã€‚ ä½¿ç”¨åŠè‡ªåŠ¨æ ‡æ³¨å·¥å…·ï¼ˆå¦‚ä¸»åŠ¨å­¦ä¹ ï¼‰å‡å°‘äººå·¥æˆæœ¬ã€‚ 3. æ¨¡å‹é€‰æ‹©ä¸è®­ç»ƒ é¢„è®­ç»ƒæ¨¡å‹é€‰æ‹©ï¼š æ–‡æœ¬ä»»åŠ¡ï¼šQwenã€GPT-3.5ã€Llama-2ã€‚ å›¾åƒä»»åŠ¡ï¼šStable Diffusionã€ResNetã€‚ å¤šæ¨¡æ€ä»»åŠ¡ï¼šCLIPã€OFAã€‚ æ¨¡å‹å¾®è°ƒï¼š å…¨é‡å¾®è°ƒï¼šä½¿ç”¨å…¬å¸æ•°æ®å¯¹æ¨¡å‹è¿›è¡Œå…¨é‡å‚æ•°æ›´æ–°ï¼ˆèµ„æºæ¶ˆè€—å¤§ï¼‰ã€‚ é«˜æ•ˆå¾®è°ƒï¼šä½¿ç”¨ LoRA æˆ– P-Tuningï¼ˆä»…è®­ç»ƒéƒ¨åˆ†å‚æ•°ï¼ŒèŠ‚çœèµ„æºï¼‰ã€‚ ç¤ºä¾‹ä»£ç ï¼ˆHugging Faceï¼‰ï¼š123456from transformers import AutoModelForSequenceClassification, Trainer, TrainingArgumentsmodel = AutoModelForSequenceClassification.from_pretrained(&quot;bert-base-uncased&quot;)training_args = TrainingArguments(output_dir=&quot;./results&quot;, per_device_train_batch_size=16)trainer = Trainer(model=model, args=training_args, train_dataset=train_dataset)trainer.train() 4. æ¨¡å‹è¯„ä¼°ä¸ä¼˜åŒ– è¯„ä¼°æŒ‡æ ‡ï¼š æ–‡æœ¬ç”Ÿæˆï¼šBLEUã€ROUGEã€äººå·¥è¯„åˆ†ã€‚ åˆ†ç±»ä»»åŠ¡ï¼šå‡†ç¡®ç‡ã€F1 Scoreã€‚ æ—¶å»¶ä¸ååé‡ï¼šTPSï¼ˆæ¯ç§’å¤„ç†äº‹åŠ¡æ•°ï¼‰ã€å“åº”æ—¶é—´ã€‚ ä¼˜åŒ–æ–¹æ³•ï¼š æ¨¡å‹å‹ç¼©ï¼šä½¿ç”¨é‡åŒ–ï¼ˆå¦‚ bitsandbytes åº“ï¼‰å‡å°‘æ¨¡å‹ä½“ç§¯ã€‚ ç¼“å­˜æœºåˆ¶ï¼šå¯¹é«˜é¢‘æŸ¥è¯¢ç¼“å­˜ç»“æœï¼ˆå¦‚ Redisï¼‰ã€‚ å¹¶è¡Œæ¨ç†ï¼šä½¿ç”¨å¤š GPU æˆ–åˆ†å¸ƒå¼æ¨ç†ï¼ˆå¦‚ vLLMï¼‰ã€‚ ä¸‰ã€æ¨¡å‹éƒ¨ç½²ä¸ä¸šåŠ¡é›†æˆ1. éƒ¨ç½²æ–¹å¼ API æœåŠ¡ï¼š ä½¿ç”¨ FastAPI æˆ– Flask å°è£…æ¨¡å‹ä¸º RESTful APIã€‚ ç¤ºä¾‹ä»£ç ï¼ˆFastAPIï¼‰ï¼š123456789from fastapi import FastAPIfrom transformers import pipelineapp = FastAPI()model = pipeline(&quot;text-generation&quot;, model=&quot;your-finetuned-model&quot;)@app.post(&quot;/generate&quot;)def generate_text(prompt: str): return model(prompt) ç§æœ‰åŒ–éƒ¨ç½²ï¼š ä½¿ç”¨ Docker å®¹å™¨åŒ–éƒ¨ç½²ï¼Œç»“åˆ Kubernetes ç®¡ç†é›†ç¾¤ã€‚ éƒ¨ç½²åˆ°æœ¬åœ°æœåŠ¡å™¨æˆ–ç§æœ‰äº‘ï¼ˆå¦‚é˜¿é‡Œäº‘ä¸“æœ‰äº‘ï¼‰ã€‚ 2. ä¸ä¸šåŠ¡ç³»ç»Ÿé›†æˆ è§¦å‘æ–¹å¼ï¼š å®æ—¶è°ƒç”¨ï¼šé€šè¿‡ API ç›´æ¥ä¸ä¸šåŠ¡ç³»ç»Ÿï¼ˆå¦‚ CRMã€ERPï¼‰å¯¹æ¥ã€‚ æ‰¹é‡å¤„ç†ï¼šå®šæ—¶ä»»åŠ¡ï¼ˆå¦‚ Airflowï¼‰è°ƒç”¨æ¨¡å‹å¤„ç†æ‰¹é‡æ•°æ®ã€‚ æ—¥å¿—ä¸ç›‘æ§ï¼š ä½¿ç”¨ Prometheus + Grafana ç›‘æ§æ¨¡å‹æ€§èƒ½ã€‚ è®°å½•è¯·æ±‚æ—¥å¿—ï¼Œç”¨äºåç»­åˆ†æä¸ä¼˜åŒ–ã€‚ å››ã€æ›¿æ¢äººå·¥çš„å…³é”®æŒ‘æˆ˜ä¸è§£å†³æ–¹æ¡ˆ1. æ•°æ®å®‰å…¨ä¸éšç§ æŒ‘æˆ˜ï¼šå…¬å¸æ•°æ®å¯èƒ½åŒ…å«æ•æ„Ÿä¿¡æ¯ï¼ˆå¦‚å®¢æˆ·èµ„æ–™ã€è´¢åŠ¡æ•°æ®ï¼‰ã€‚ è§£å†³æ–¹æ¡ˆï¼š æ•°æ®è„±æ•ï¼šå¯¹æ•æ„Ÿå­—æ®µï¼ˆå¦‚èº«ä»½è¯å·ã€ç”µè¯å·ç ï¼‰è¿›è¡Œæ©ç å¤„ç†ã€‚ ç§æœ‰åŒ–éƒ¨ç½²ï¼šæ¨¡å‹å’Œæ•°æ®å‡éƒ¨ç½²åœ¨å…¬å¸å†…ç½‘ï¼Œé¿å…å¤–ä¼ ã€‚ 2. æ¨¡å‹é²æ£’æ€§ æŒ‘æˆ˜ï¼šæ¨¡å‹å¯èƒ½åœ¨é•¿å°¾åœºæ™¯ï¼ˆå¦‚ç½•è§é—®é¢˜ï¼‰è¡¨ç°ä¸ä½³ã€‚ è§£å†³æ–¹æ¡ˆï¼š å¢åŠ å…œåº•é€»è¾‘ï¼šå¯¹æ¨¡å‹æ— æ³•å¤„ç†çš„è¯·æ±‚ï¼Œè‡ªåŠ¨è½¬äººå·¥æˆ–è¿”å›é»˜è®¤ç­”æ¡ˆã€‚ æŒç»­å­¦ä¹ ï¼šå®šæœŸç”¨æ–°æ•°æ®é‡æ–°è®­ç»ƒæ¨¡å‹ã€‚ 3. æˆæœ¬æ§åˆ¶ æŒ‘æˆ˜ï¼šå¤§æ¨¡å‹æ¨ç†æˆæœ¬é«˜ï¼ˆå°¤å…¶æ˜¯é—­æºæ¨¡å‹ APIï¼‰ã€‚ è§£å†³æ–¹æ¡ˆï¼š ä½¿ç”¨è½»é‡çº§æ¨¡å‹ï¼ˆå¦‚ DistilBERTï¼‰ã€‚ æŒ‰éœ€è°ƒç”¨ï¼šä»…å¯¹å…³é”®ä»»åŠ¡è°ƒç”¨å¤§æ¨¡å‹ï¼Œå…¶ä»–ä»»åŠ¡ä½¿ç”¨è§„åˆ™å¼•æ“æˆ–å°æ¨¡å‹ã€‚ äº”ã€æˆåŠŸæ¡ˆä¾‹å‚è€ƒ æ™ºèƒ½å®¢æœï¼š åœºæ™¯ï¼šæ›¿æ¢äººå·¥å®¢æœï¼Œè‡ªåŠ¨å›ç­”ç”¨æˆ·é—®é¢˜ã€‚ æŠ€æœ¯ï¼šä½¿ç”¨ Qwen æˆ– GPT-3.5 å¾®è°ƒï¼Œç»“åˆå¯¹è¯å†å²å’ŒçŸ¥è¯†åº“ã€‚ æ•ˆæœï¼šå“åº”æ—¶é—´ç¼©çŸ­è‡³ç§’çº§ï¼Œäººå·¥æ›¿ä»£ç‡æå‡ 70%ã€‚ è‡ªåŠ¨åŒ–æŠ¥å‘Šç”Ÿæˆï¼š åœºæ™¯ï¼šæ ¹æ®é”€å”®æ•°æ®è‡ªåŠ¨ç”Ÿæˆæ—¥æŠ¥ã€å‘¨æŠ¥ã€‚ æŠ€æœ¯ï¼šä½¿ç”¨ T5 æˆ– BART æ¨¡å‹ï¼Œè¾“å…¥ç»“æ„åŒ–æ•°æ®è¾“å‡ºè‡ªç„¶è¯­è¨€æ–‡æœ¬ã€‚ æ•ˆæœï¼šæŠ¥å‘Šç”Ÿæˆæ—¶é—´ä»å°æ—¶çº§ç¼©çŸ­è‡³åˆ†é’Ÿçº§ã€‚ å›¾åƒè´¨æ£€ï¼š åœºæ™¯ï¼šå·¥å‚æµæ°´çº¿äº§å“ç¼ºé™·æ£€æµ‹ã€‚ æŠ€æœ¯ï¼šä½¿ç”¨ YOLOv8 æˆ– Faster R-CNN æ¨¡å‹ï¼Œç»“åˆå°‘é‡æ ‡æ³¨æ•°æ®å¾®è°ƒã€‚ æ•ˆæœï¼šæ£€æµ‹å‡†ç¡®ç‡æå‡è‡³ 98%ï¼Œäººå·¥å¤æ£€ç‡é™ä½ 90%ã€‚ å…­ã€æ€»ç»“ æŠ€æœ¯è·¯å¾„ï¼šæ•°æ®å‡†å¤‡ â†’ æ¨¡å‹å¾®è°ƒ â†’ éƒ¨ç½²ä¸º API â†’ ä¸ä¸šåŠ¡ç³»ç»Ÿé›†æˆ â†’ æŒç»­ä¼˜åŒ–ã€‚ å…³é”®ç‚¹ï¼š ä¼˜å…ˆä½¿ç”¨å¼€æºæ¨¡å‹+å¾®è°ƒï¼Œè€Œéä»å¤´è®­ç»ƒã€‚ ç§æœ‰åŒ–éƒ¨ç½²ä¿éšœæ•°æ®å®‰å…¨ã€‚ é€šè¿‡ A&#x2F;B æµ‹è¯•é€æ­¥æ›¿æ¢äººå·¥ï¼Œé¿å…ä¸šåŠ¡é£é™©ã€‚ å¦‚æœéœ€è¦æ›´å…·ä½“çš„æ–¹æ¡ˆï¼ˆå¦‚ä»£ç å®ç°ã€éƒ¨ç½²ç»†èŠ‚ï¼‰ï¼Œå¯ä»¥è¿›ä¸€æ­¥è¯´æ˜ä¸šåŠ¡åœºæ™¯ï¼","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://daiyafeigithub.github.io/simonzzz/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"AI","slug":"AI","permalink":"https://daiyafeigithub.github.io/simonzzz/tags/AI/"},{"name":"Python","slug":"Python","permalink":"https://daiyafeigithub.github.io/simonzzz/tags/Python/"}]},{"title":"äº‘å—æ—…æ¸¸æ”»ç•¥","slug":"havefun/äº‘å—æ—…æ¸¸æ”»ç•¥","date":"2025-04-20T14:43:00.000Z","updated":"2025-04-20T14:43:00.000Z","comments":true,"path":"2025/04/20/havefun/äº‘å—æ—…æ¸¸æ”»ç•¥/","permalink":"https://daiyafeigithub.github.io/simonzzz/2025/04/20/havefun/%E4%BA%91%E5%8D%97%E6%97%85%E6%B8%B8%E6%94%BB%E7%95%A5/","excerpt":"","text":"ç¬¬ä¸€å¤©ï¼šåŸå¸‚äººæ–‡ä¸ç´«è‰²æµªæ¼«ä¸Šåˆï¼šè“èŠ±æ¥¹å¤§é“ï¼ˆæ•™åœºä¸­è·¯ï¼‰ äº®ç‚¹ï¼šæ­£å€¼è“èŠ±æ¥¹ç››èŠ±æœŸï¼Œæ•™åœºä¸­è·¯çº¦2å…¬é‡Œçš„ç´«è‰²èŠ±å»Šå¦‚ç€‘å¸ƒå€¾æ³»ï¼Œæ˜¯æ˜†æ˜å››æœˆæœ€æµªæ¼«çš„æ™¯è§‚ã€‚ æ‹æ‘„å»ºè®®ï¼šæ¸…æ™¨7ç‚¹å‰åˆ°è¾¾ï¼Œé¿å¼€äººæ½®ï¼Œåˆ©ç”¨é€†å…‰æ‹æ‘„èŠ±ç“£çš„é€æ˜è´¨æ„Ÿï¼›å¯ä¹˜åèµèŠ±ä¸“çº¿å·´å£«ï¼ˆ25å…ƒ&#x2F;äººï¼‰ä¿¯ç°å…¨æ™¯ã€‚ å‘¨è¾¹æ´»åŠ¨ï¼šæ²¿é€”æ¶‚é¸¦å¢™å’Œç‰¹è‰²å¸‚é›†å¯é€›ï¼Œæ¨èå°è¯•è“èŠ±æ¥¹ä¸»é¢˜é›ªç³•ã€‚ ä¸­åˆï¼šæ˜†æ˜è€è¡— &amp; æ–‡æ—è¡— ç¾é£Ÿæ¨èï¼š è¿‡æ¡¥ç±³çº¿ï¼šè€å­—å·â€œå»ºæ–°å›­â€æˆ–â€œç¦åå›­â€ï¼Œä½“éªŒæ»šæ±¤ç°çƒ«çš„ä»ªå¼æ„Ÿã€‚ å°åƒï¼šå®˜æ¸¡ç²‘ç²‘ï¼ˆçœ¼é•œç²‘ç²‘åº—ï¼‰ã€å°é”…ç±³çº¿ï¼ˆæ–‡æ—è¡—å°æ‘Šï¼‰ã€‚ æ–‡åŒ–ä½“éªŒï¼šæ¢è®¿â€œä¸œæ–¹ä¹¦åº—â€ï¼ˆ1926å¹´åˆ›åŠï¼‰ï¼ŒäºŒæ¥¼å¯è¾¹å–å’–å•¡è¾¹èµè¡—æ™¯ã€‚ ä¸‹åˆï¼šç¿ æ¹–å…¬å›­ &amp; äº‘å—é™†å†›è®²æ­¦å ‚ ç¿ æ¹–å…¬å›­ï¼šæ¼«æ­¥æ¹–å¿ƒäº­ã€ä¹æ›²æ¡¥ï¼Œæ„Ÿå—æ˜¥åŸæ…¢ç”Ÿæ´»ï¼›è‹¥å¤©æ°”æ™´å¥½ï¼Œå¯å¶é‡é›¶æ˜Ÿçš„æ™šå½’æµ·é¸¥ã€‚ é™†å†›è®²æ­¦å ‚ï¼šå…è´¹å‚è§‚é»„å¢™çº¢çª—çš„æ°‘å›½å»ºç­‘ï¼Œæ•´ç‚¹æœ‰æ¢å²—ä»ªå¼è¡¨æ¼”ï¼Œé€‚åˆæ‹æ‘„å¤å¤é£æ ¼ç…§ç‰‡ã€‚ å‚æ™šï¼šæ»‡æ± æµ·åŸ‚å¤§å æ´»åŠ¨ï¼šéª‘è¡Œæˆ–æ•£æ­¥ï¼Œæ¬£èµæ»‡æ± è½æ—¥ä½™æ™–ï¼›è‹¥æ—¶é—´å……è£•ï¼Œå¯ä¹˜ç¼†è½¦æ¨ªè·¨æ»‡æ± è‡³è¥¿å±±ä¿¯ç°å…¨æ™¯ã€‚ æ™šä¸Šï¼šå—å±æ­¥è¡Œè¡—å¤œå¸‚ æ¨èï¼šå‚£å‘³èˆ‚é¸¡è„šã€æ˜­é€šå°è‚‰ä¸²ã€çƒ¤ä¹³æ‰‡ï¼Œæ­é…æœ¨ç“œæ°´è§£è…»ã€‚ å¤œæ™¯è§‚èµï¼šé‡‘é©¬ç¢§é¸¡åŠç¯å…‰ç’€ç’¨ï¼Œé€‚åˆæ‰“å¡æ‹ç…§ã€‚ ç¬¬äºŒå¤©ï¼šè‡ªç„¶é£å…‰ä¸èŠ±æµ·ç››å®´ä¸Šåˆï¼šè¥¿å±±æ£®æ—å…¬å›­ &amp; é¾™é—¨çŸ³çªŸ ç©æ³•ï¼š ç¼†è½¦ä½“éªŒï¼šä¹˜æ»‡æ± ç´¢é“æ¨ªè·¨æ¹–é¢ï¼Œä¿¯ç°æ»‡æ± ä¸å¸‚åŒºå…¨æ™¯ã€‚ ç™»å±±è·¯çº¿ï¼šé¾™é—¨æ™¯åŒºå¾’æ­¥ï¼ˆçº¦2å°æ—¶ï¼‰ï¼Œç™»é¡¶ä¿¯ç°â€œç¡ç¾äººâ€å±±ä¸æ»‡æ± ç›¸æ˜ æˆè¶£ã€‚ ç¾é£Ÿï¼šå±±è„šèŒ¶é©¬èŠ±è¡—å“å°çƒ¤ä¹³æ‰‡ã€ç¨€è±†ç²‰ã€‚ ä¸­åˆï¼šäº‘å—æ°‘æ—æ‘ ç‰¹è‰²ï¼šä½“éªŒå‚£æ—æ³¼æ°´èŠ‚æ´»åŠ¨ï¼ˆå››æœˆæ­£å€¼å‚£å†æ–°å¹´ï¼‰ï¼Œè§‚çœ‹ã€Šé˜¿è¯—ç›ã€‹å®æ™¯æ­Œèˆï¼Œå“å°å“ˆå°¼æ—é•¿è¡—å®´ã€‚ ä¸‹åˆï¼šæ–—å—èŠ±å¸‚ &amp; æé±¼æ²³æ¹¿åœ°å…¬å›­ æ–—å—èŠ±å¸‚ï¼šäºšæ´²æœ€å¤§é²œèŠ±äº¤æ˜“å¸‚åœºï¼Œä¸‹åˆ5-6ç‚¹ä¸ºå¸è´§é«˜å³°æœŸï¼Œå¯ä½ä»·è´­å…¥ç«ç‘°ã€ç™¾åˆç­‰ï¼Œæ¨èå¤šè‚‰åŒºå’Œæ–‡åˆ›æ‰‹ä¿¡é¦†ã€‚ æé±¼æ²³æ¹¿åœ°ï¼šå‚æ™šåˆ’é€æ˜å°èˆ¹ç©¿è¡Œæ°´æ‰æ—ï¼Œæ¬£èµæ»‡æ± æ—¥è½ï¼Œå››æœˆåº•æˆ–æœ‰ä½™ç•™çš„éƒé‡‘é¦™èŠ±æµ·ã€‚ è¿”ç¨‹å‰æ™šé¤ï¼šé‡ç”ŸèŒç«é”… æ¨èé¤å…ï¼šâ€œæ»‡èŒç‹â€æˆ–â€œä¸€æœµèŒâ€ï¼Œå¿…ç‚¹é¸¡æã€æ¾èŒ¸ã€ç‰›è‚èŒï¼Œæ­é…æ±½é”…é¸¡æ±¤åº•ã€‚ ä½å®¿æ¨è ç¿ æ¹–å‘¨è¾¹ï¼šå¦‚â€œç¿ æ¹–å®¾é¦†â€ï¼Œæ­¥è¡Œå¯è¾¾å…¬å›­ã€è®²æ­¦å ‚ï¼Œæ–¹ä¾¿æ„Ÿå—è€åŸéŸµå‘³ã€‚ å—å±è¡—å•†åœˆï¼šå¦‚â€œæ˜†æ˜ä¸­å¿ƒçš‡å† å‡æ—¥é…’åº—â€ï¼Œæ¯—é‚»å¤œå¸‚ï¼Œè´­ç‰©é¤é¥®ä¾¿åˆ©ã€‚ æ³¨æ„äº‹é¡¹ é˜²æ™’ä¸ä¿æš–ï¼šæ˜†æ˜ç´«å¤–çº¿å¼ºï¼Œéœ€å¤‡é˜²æ™’éœœã€å¢¨é•œï¼›æ—©æ™šæ¸©å·®å¤§ï¼Œå»ºè®®æºå¸¦è–„å¤–å¥—ã€‚ äº¤é€šï¼šåœ°é“4å·çº¿ç›´è¾¾æ–—å—èŠ±å¸‚ï¼ˆé‡‘æ¡‚è¡—ç«™ï¼‰ï¼Œå¸‚åŒºæ™¯ç‚¹å»ºè®®æ‰“è½¦æˆ–å…±äº«å•è½¦ã€‚ èŠ±æœŸæç¤ºï¼šè“èŠ±æ¥¹æœ€ä½³æ‹æ‘„æ—¶é—´ä¸ºæ¸…æ™¨æˆ–å‚æ™šï¼Œæ•™åœºä¸­è·¯å‘¨æœ«äººæµå¯†é›†ï¼Œå»ºè®®æ—©åˆ°ã€‚ ä¹˜è½¦è·¯çº¿ç¬¬ä¸€å¤©ï¼šåŸå¸‚äººæ–‡ä¸ç´«è‰²æµªæ¼« ä¸Šåˆï¼ˆ4æœˆ26æ—¥ï¼‰ ä½å®¿å‡ºå‘ â†’ æ•™åœºä¸­è·¯è“èŠ±æ¥¹å¤§é“ äº¤é€šï¼šåœ°é“3å·çº¿è‡³ã€Œæ•™åœºä¸­è·¯ç«™ã€æ­¥è¡Œ5åˆ†é’Ÿï¼Œæˆ–æ‰“è½¦ç›´è¾¾ã€‚ æ´»åŠ¨ï¼šæ‹æ‘„è“èŠ±æ¥¹èŠ±æµ·ï¼ˆå»ºè®®7:00å‰åˆ°è¾¾ï¼Œé¿å¼€äººæµï¼‰ï¼Œå“å°è“èŠ±æ¥¹é›ªç³•ã€‚ æ•™åœºä¸­è·¯ â†’ æ˜†æ˜è€è¡— &amp; æ–‡æ—è¡— äº¤é€šï¼šæ­¥è¡Œæˆ–å…±äº«å•è½¦ï¼ˆçº¦1.5å…¬é‡Œï¼‰ã€‚ æ´»åŠ¨ï¼šè€è¡—åˆé¤ï¼ˆå»ºæ–°å›­è¿‡æ¡¥ç±³çº¿ï¼‰ï¼Œæ–‡æ—è¡—å’–å•¡é¦†æ‰“å¡ï¼Œæ¢è®¿ä¸œæ–¹ä¹¦åº—ã€‚ä¸‹åˆ æ–‡æ—è¡— â†’ ç¿ æ¹–å…¬å›­ äº¤é€šï¼šæ­¥è¡Œï¼ˆçº¦10åˆ†é’Ÿï¼‰ã€‚ æ´»åŠ¨ï¼šç¿ æ¹–æ¼«æ­¥ï¼Œå–‚æµ·é¸¥ï¼ˆè‹¥é‡æ™šå½’æµ·é¸¥ç¾¤ï¼‰ï¼Œé™†å†›è®²æ­¦å ‚å‚è§‚ï¼ˆæ³¨æ„æ¢å²—ä»ªå¼æ—¶é—´ï¼‰ã€‚ ç¿ æ¹–å…¬å›­ â†’ æ»‡æ± æµ·åŸ‚å¤§å äº¤é€šï¼šåœ°é“5å·çº¿è‡³ã€Œæ»‡æ± ç«™ã€è½¬å…¬äº¤K31è·¯ï¼Œæˆ–æ‰“è½¦ï¼ˆçº¦20åˆ†é’Ÿï¼‰ã€‚ æ´»åŠ¨ï¼šéª‘è¡Œç¯æ¹–ï¼Œæ¬£èµè½æ—¥ï¼Œå¯é€‰ç¼†è½¦è‡³è¥¿å±±ã€‚å‚æ™š æ»‡æ±  â†’ å—å±æ­¥è¡Œè¡—å¤œå¸‚ äº¤é€šï¼šåœ°é“5å·çº¿è½¬1å·çº¿è‡³ã€Œä¸œé£å¹¿åœºç«™ã€æ­¥è¡Œã€‚ æ´»åŠ¨ï¼šå“å°å¤œå¸‚å°åƒï¼ˆå‚£å‘³é¸¡è„šã€çƒ¤ä¹³æ‰‡ï¼‰ï¼Œæ‰“å¡é‡‘é©¬ç¢§é¸¡åŠå¤œæ™¯ã€‚ ç¬¬äºŒå¤©ï¼šè‡ªç„¶é£å…‰ä¸èŠ±æµ·ç››å®´ä¸Šåˆ ä½å®¿å‡ºå‘ â†’ è¥¿å±±æ£®æ—å…¬å›­ &amp; é¾™é—¨çŸ³çªŸ äº¤é€šï¼šåœ°é“3å·çº¿è‡³ã€Œè¥¿å±±å…¬å›­ç«™ã€è½¬ç¼†è½¦&#x2F;å…¬äº¤ã€‚ æ´»åŠ¨ï¼šä¹˜æ»‡æ± ç´¢é“ä¸Šå±±ï¼Œå¾’æ­¥é¾™é—¨çŸ³çªŸï¼Œä¿¯ç°æ»‡æ± å…¨æ™¯ã€‚ è¥¿å±± â†’ äº‘å—æ°‘æ—æ‘ äº¤é€šï¼šç¼†è½¦ä¸‹å±±åæ‰“è½¦ï¼ˆçº¦15åˆ†é’Ÿï¼‰ã€‚ æ´»åŠ¨ï¼šä½“éªŒå‚£æ—æ³¼æ°´èŠ‚ï¼ˆ4æœˆæ´»åŠ¨ï¼‰ï¼Œè§‚çœ‹æ­Œèˆè¡¨æ¼”ï¼Œå“å°é•¿è¡—å®´ã€‚ ä¸‹åˆ æ°‘æ—æ‘ â†’ æ–—å—èŠ±å¸‚ äº¤é€šï¼šåœ°é“4å·çº¿è‡³ã€Œé‡‘æ¡‚è¡—ç«™ã€æ­¥è¡Œ5åˆ†é’Ÿã€‚ æ´»åŠ¨ï¼šé€›äºšæ´²æœ€å¤§èŠ±å¸‚ï¼ˆä¸‹åˆ5ç‚¹åä»·æ ¼æ›´ä¼˜æƒ ï¼‰ï¼Œè´­ä¹°é²œèŠ±å’Œæ‰‹ä¿¡ã€‚ æ–—å—èŠ±å¸‚ â†’ æé±¼æ²³æ¹¿åœ°å…¬å›­ äº¤é€šï¼šå…¬äº¤K31è·¯æˆ–æ‰“è½¦ï¼ˆçº¦20åˆ†é’Ÿï¼‰ã€‚ æ´»åŠ¨ï¼šåˆ’é€æ˜å°èˆ¹æ¸¸æ°´æ‰æ—ï¼Œæ‹æ‘„æ—¥è½ä¸æ»‡æ± å€’å½±ï¼Œå¯»æ‰¾éƒé‡‘é¦™èŠ±æµ·ã€‚è¿”ç¨‹å‰ æé±¼æ²³æ¹¿åœ° â†’ é‡ç”ŸèŒç«é”…é¤å… äº¤é€šï¼šæ‰“è½¦è‡³å¸‚åŒºé¤å…ï¼ˆæ¨èã€Œæ»‡èŒç‹ã€æˆ–ã€Œä¸€æœµèŒã€ï¼‰ã€‚ æ™šé¤ï¼šå“å°æ–°é²œèŒç«é”…ï¼Œç»“æŸè¡Œç¨‹åè¿”å›ä½å®¿ã€‚ è·¯çº¿å›¾æ ‡æ³¨è¯´æ˜ äº¤é€šé¢œè‰²ï¼šåœ°é“ï¼ˆè“è‰²ï¼‰Â· å…¬äº¤ï¼ˆçº¢è‰²ï¼‰Â· æ‰“è½¦&#x2F;ç¼†è½¦ï¼ˆæ©™è‰²ï¼‰Â· æ­¥è¡Œ&#x2F;éª‘è¡Œï¼ˆç»¿è‰²ï¼‰ å…³é”®èŠ‚ç‚¹ï¼š ä½å®¿ï¼šæ¨èç¿ æ¹–æˆ–å—å±è¡—é™„è¿‘ï¼Œä¸¤å¤©å¯ä½åŒä¸€é…’åº—ã€‚ æ—¶é—´æé†’ï¼šè“èŠ±æ¥¹æ¸…æ™¨æ‹æœ€ä½³ï¼Œæ–—å—èŠ±å¸‚ä¸‹åˆ5ç‚¹åæ›´çƒ­é—¹ã€‚ ç‰¹åˆ«æç¤ºï¼š è¥¿å±±ç¼†è½¦éœ€æå‰è´­ç¥¨ï¼ˆèŠ‚å‡æ—¥å¯èƒ½æ’é˜Ÿï¼‰ï¼› æé±¼æ²³æ¹¿åœ°æ—¥è½çº¦19:30ï¼Œå»ºè®®é¢„ç•™1å°æ—¶æ‹æ‘„æ—¶é—´ã€‚ è·¯çº¿ä¼˜åŠ¿ æ™¯ç‚¹ä¸²è”é«˜æ•ˆï¼šåœ°é“+å…¬äº¤è¦†ç›–ä¸»è¦æ™¯ç‚¹ï¼Œé¿å…åå¤æŠ˜è¿”ã€‚ å­£èŠ‚é€‚é…ï¼šçªå‡º4æœˆè“èŠ±æ¥¹ã€éƒé‡‘é¦™èŠ±æµ·åŠå‚£å†æ–°å¹´æ´»åŠ¨ã€‚ çµæ´»è°ƒæ•´ï¼šè‹¥ä½“åŠ›æœ‰é™ï¼Œå¯çœç•¥è¥¿å±±å¾’æ­¥ï¼Œä¼˜å…ˆä½“éªŒèŠ±å¸‚å’Œæ¹¿åœ°ã€‚","categories":[{"name":"æ—…æ¸¸","slug":"æ—…æ¸¸","permalink":"https://daiyafeigithub.github.io/simonzzz/categories/%E6%97%85%E6%B8%B8/"}],"tags":[{"name":"æ—…æ¸¸","slug":"æ—…æ¸¸","permalink":"https://daiyafeigithub.github.io/simonzzz/tags/%E6%97%85%E6%B8%B8/"}],"author":"Simon"},{"title":"é«˜çº§Javaå¼€å‘å¿…å¤‡æŠ€èƒ½ç‚¹å’Œå¤ä¹ è®¡åˆ’","slug":"skills/interview/plan","date":"2025-04-20T14:43:00.000Z","updated":"2025-04-20T14:43:00.000Z","comments":true,"path":"2025/04/20/skills/interview/plan/","permalink":"https://daiyafeigithub.github.io/simonzzz/2025/04/20/skills/interview/plan/","excerpt":"","text":"ä¸€ã€æ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼ˆæŒ‰é‡è¦æ€§æ’åºï¼‰1. Javaæ ¸å¿ƒ é›†åˆæ¡†æ¶ï¼ˆHashMapã€ConcurrentHashMapã€ArrayListã€LinkedListã€TreeMapã€HashSetæºç åˆ†æï¼‰ å¤šçº¿ç¨‹ä¸å¹¶å‘ï¼ˆçº¿ç¨‹æ± ã€synchronizedã€volatileã€CASã€AQSã€ReentrantLockã€ReadWriteLockï¼‰ JVMï¼ˆå†…å­˜æ¨¡å‹ã€GCç®—æ³•ã€ç±»åŠ è½½æœºåˆ¶ã€JVMè°ƒä¼˜ã€å†…å­˜æ³„æ¼æ’æŸ¥ï¼‰ IO&#x2F;NIOï¼ˆBIO&#x2F;NIO&#x2F;AIOåŒºåˆ«ã€Selectorã€Bufferã€Channelï¼‰ åå°„ã€æ³¨è§£ã€åŠ¨æ€ä»£ç† 2. å¹¶å‘ç¼–ç¨‹ çº¿ç¨‹æ± ï¼ˆThreadPoolExecutorå‚æ•°ã€æ‹’ç»ç­–ç•¥ã€Callable&#x2F;Futureï¼‰ å¹¶å‘å·¥å…·ç±»ï¼ˆCountDownLatchã€CyclicBarrierã€Semaphoreã€Exchangerï¼‰ åŸå­ç±»ï¼ˆAtomicIntegerã€AtomicReferenceï¼‰ ThreadLocalï¼ˆå†…å­˜æ³„æ¼é—®é¢˜ï¼‰ æ­»é”æ£€æµ‹ä¸é¿å… 3. JVM å†…å­˜ç»“æ„ï¼ˆå †ã€æ ˆã€æ–¹æ³•åŒºã€å…ƒç©ºé—´ã€ç›´æ¥å†…å­˜ï¼‰ åƒåœ¾å›æ”¶ï¼ˆGCç®—æ³•ã€CMS&#x2F;G1&#x2F;ZGCåŸç†ã€GCæ—¥å¿—åˆ†æï¼‰ ç±»åŠ è½½æœºåˆ¶ï¼ˆåŒäº²å§”æ´¾ã€è‡ªå®šä¹‰ç±»åŠ è½½å™¨ï¼‰ JVMå‚æ•°è°ƒä¼˜ï¼ˆå †å†…å­˜åˆ†é…ã€GCç­–ç•¥é€‰æ‹©ï¼‰ 4. æ¡†æ¶ Springï¼ˆIoCã€AOPã€äº‹åŠ¡ç®¡ç†ã€å¾ªç¯ä¾èµ–ã€Beanç”Ÿå‘½å‘¨æœŸï¼‰ Spring Bootï¼ˆè‡ªåŠ¨é…ç½®åŸç†ã€Starterå¼€å‘ã€Actuatorï¼‰ Spring Cloudï¼ˆæœåŠ¡æ³¨å†Œå‘ç°ã€é…ç½®ä¸­å¿ƒã€ç†”æ–­å™¨ã€ç½‘å…³ï¼‰ MyBatisï¼ˆç¼“å­˜æœºåˆ¶ã€æ’ä»¶åŸç†ã€åŠ¨æ€SQLï¼‰ Nettyï¼ˆReactoræ¨¡å¼ã€ChannelPipelineã€ByteBufï¼‰ 5. æ•°æ®åº“ SQLä¼˜åŒ–ï¼ˆç´¢å¼•åŸç†ã€æ‰§è¡Œè®¡åˆ’ã€æ…¢æŸ¥è¯¢ä¼˜åŒ–ï¼‰ äº‹åŠ¡ï¼ˆACIDã€éš”ç¦»çº§åˆ«ã€MVCCã€åˆ†å¸ƒå¼äº‹åŠ¡ï¼‰ é”æœºåˆ¶ï¼ˆè¡Œé”ã€è¡¨é”ã€ä¹è§‚é”ã€æ‚²è§‚é”ï¼‰ åˆ†åº“åˆ†è¡¨ï¼ˆShardingSphereã€æ•°æ®è¿ç§»ã€åˆ†å¸ƒå¼IDï¼‰ NoSQLï¼ˆRedisæ•°æ®ç»“æ„ã€æŒä¹…åŒ–ã€é›†ç¾¤ã€ç¼“å­˜ç©¿é€&#x2F;é›ªå´©ï¼‰ 6. åˆ†å¸ƒå¼ç³»ç»Ÿ CAPç†è®ºã€BASEç†è®º ä¸€è‡´æ€§ç®—æ³•ï¼ˆRaftã€Paxosï¼‰ åˆ†å¸ƒå¼äº‹åŠ¡ï¼ˆ2PCã€3PCã€TCCã€Sagaï¼‰ æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆKafkaã€RocketMQã€RabbitMQï¼šæ¶ˆæ¯å¯é æ€§ã€é¡ºåºæ€§ã€é‡å¤æ¶ˆè´¹ï¼‰ åˆ†å¸ƒå¼é”ï¼ˆRedis&#x2F;ZooKeeperå®ç°ï¼‰ å¾®æœåŠ¡ï¼ˆæœåŠ¡æ²»ç†ã€é™æµã€ç†”æ–­ã€é™çº§ï¼‰ 7. è®¾è®¡æ¨¡å¼ åˆ›å»ºå‹ï¼ˆå•ä¾‹ã€å·¥å‚ã€å»ºé€ è€…ï¼‰ ç»“æ„å‹ï¼ˆä»£ç†ã€é€‚é…å™¨ã€è£…é¥°å™¨ï¼‰ è¡Œä¸ºå‹ï¼ˆè§‚å¯Ÿè€…ã€ç­–ç•¥ã€æ¨¡æ¿æ–¹æ³•ï¼‰ è®¾è®¡åŸåˆ™ï¼ˆSOLIDã€DRYã€KISSï¼‰ 8. ç³»ç»Ÿè®¾è®¡ é«˜å¹¶å‘ç³»ç»Ÿï¼ˆé™æµã€é™çº§ã€ç¼“å­˜ã€å¼‚æ­¥ï¼‰ é«˜å¯ç”¨ç³»ç»Ÿï¼ˆé›†ç¾¤ã€è´Ÿè½½å‡è¡¡ã€ç¾å¤‡ï¼‰ ä¸€è‡´æ€§è®¾è®¡ï¼ˆæœ€ç»ˆä¸€è‡´æ€§ã€è¡¥å¿æœºåˆ¶ï¼‰ ç»å…¸æ¡ˆä¾‹ï¼ˆç§’æ€ç³»ç»Ÿã€çŸ­é“¾ç”Ÿæˆã€åˆ†å¸ƒå¼ç¼“å­˜ï¼‰ 9. å·¥å…·ä¸ä¸­é—´ä»¶ Redisï¼ˆæ•°æ®ç»“æ„ã€é›†ç¾¤ã€å“¨å…µã€Pipelineï¼‰ ZooKeeperï¼ˆé€‰ä¸¾æœºåˆ¶ã€åˆ†å¸ƒå¼é”ã€é…ç½®ä¸­å¿ƒï¼‰ Elasticsearchï¼ˆå€’æ’ç´¢å¼•ã€åˆ†ç‰‡ã€æŸ¥è¯¢ä¼˜åŒ–ï¼‰ Nginxï¼ˆåå‘ä»£ç†ã€è´Ÿè½½å‡è¡¡ã€åŠ¨é™åˆ†ç¦»ï¼‰ 10. ç®—æ³•ä¸æ•°æ®ç»“æ„ LeetCodeï¼ˆé«˜é¢‘é¢˜ï¼šé“¾è¡¨ã€æ ‘ã€æ’åºã€åŠ¨æ€è§„åˆ’ï¼‰ æ’åºç®—æ³•ï¼ˆå¿«æ’ã€å½’å¹¶ã€å †æ’ï¼‰ å¤æ‚åº¦åˆ†æï¼ˆæ—¶é—´&#x2F;ç©ºé—´å¤æ‚åº¦ï¼‰ 11. æ“ä½œç³»ç»Ÿä¸ç½‘ç»œ TCP&#x2F;IPï¼ˆä¸‰æ¬¡æ¡æ‰‹ã€å››æ¬¡æŒ¥æ‰‹ã€æ»‘åŠ¨çª—å£ï¼‰ HTTP&#x2F;HTTPSï¼ˆçŠ¶æ€ç ã€Headerã€HTTP2æ–°ç‰¹æ€§ï¼‰ è¿›ç¨‹ä¸çº¿ç¨‹ï¼ˆåŒºåˆ«ã€é€šä¿¡æ–¹å¼ï¼‰ å†…å­˜ç®¡ç†ï¼ˆè™šæ‹Ÿå†…å­˜ã€é¡µé¢ç½®æ¢ç®—æ³•ï¼‰ äºŒã€å¤ä¹ è®¡åˆ’ï¼ˆ4å‘¨å†²åˆºï¼‰ç¬¬1å‘¨ï¼šJavaæ ¸å¿ƒ + å¹¶å‘ç¼–ç¨‹ Day1-2ï¼šé›†åˆæºç ï¼ˆHashMapã€ConcurrentHashMapï¼‰ Day3-4ï¼šçº¿ç¨‹æ± ã€CASã€AQSã€ReentrantLock Day5-6ï¼šJVMå†…å­˜æ¨¡å‹ã€GCç®—æ³•ã€ç±»åŠ è½½ Day7ï¼šæ¨¡æ‹Ÿé¢è¯•é¢˜ï¼ˆJavaåŸºç¡€ï¼‰ ç¬¬2å‘¨ï¼šæ¡†æ¶ + æ•°æ®åº“ Day8-9ï¼šSpring IoC&#x2F;AOPã€å¾ªç¯ä¾èµ–ã€äº‹åŠ¡ Day10-11ï¼šMyBatisç¼“å­˜ã€åŠ¨æ€SQL Day12-13ï¼šSQLä¼˜åŒ–ã€ç´¢å¼•åŸç†ã€äº‹åŠ¡éš”ç¦» Day14ï¼šæ¨¡æ‹Ÿé¢è¯•é¢˜ï¼ˆæ¡†æ¶+æ•°æ®åº“ï¼‰ ç¬¬3å‘¨ï¼šåˆ†å¸ƒå¼ç³»ç»Ÿ + ç³»ç»Ÿè®¾è®¡ Day15-16ï¼šåˆ†å¸ƒå¼äº‹åŠ¡ã€æ¶ˆæ¯é˜Ÿåˆ—ã€åˆ†å¸ƒå¼é” Day17-18ï¼šRedisæŒä¹…åŒ–ã€é›†ç¾¤ã€ç¼“å­˜é—®é¢˜ Day19-20ï¼šç³»ç»Ÿè®¾è®¡æ¡ˆä¾‹ï¼ˆç§’æ€ã€çŸ­é“¾ï¼‰ Day21ï¼šæ¨¡æ‹Ÿé¢è¯•é¢˜ï¼ˆåˆ†å¸ƒå¼+è®¾è®¡ï¼‰ ç¬¬4å‘¨ï¼šç®—æ³• + ç»¼åˆæå‡ Day22-24ï¼šåˆ·é«˜é¢‘ç®—æ³•é¢˜ï¼ˆLeetCodeä¸­ç­‰+å›°éš¾ï¼‰ Day25-26ï¼šæ“ä½œç³»ç»Ÿã€ç½‘ç»œåŸºç¡€ Day27-28ï¼šé¡¹ç›®å¤ç›˜ï¼ˆæŠ€æœ¯éš¾ç‚¹ã€ä¼˜åŒ–ç‚¹ï¼‰ Day29-30ï¼šæ¨¡æ‹Ÿé¢è¯•ï¼ˆå…¨æµç¨‹ï¼‰ ä¸‰ã€å…³é”®å»ºè®® é¡¹ç›®æ·±æŒ–ï¼šå‡†å¤‡2-3ä¸ªå¤æ‚é¡¹ç›®ï¼Œé‡ç‚¹æè¿°æŠ€æœ¯é€‰å‹ã€éš¾ç‚¹ã€ä¼˜åŒ–æ–¹æ¡ˆã€‚ æºç é˜…è¯»ï¼šè‡³å°‘ç²¾è¯»ä¸€ä¸ªæ¡†æ¶æºç ï¼ˆå¦‚Springæˆ–MyBatisï¼‰ã€‚ æ¨¡æ‹Ÿé¢è¯•ï¼šé€šè¿‡LeetCodeã€ç‰›å®¢ç½‘è¿›è¡Œæ¨¡æ‹Ÿï¼Œè®­ç»ƒè¡¨è¾¾èƒ½åŠ›ã€‚ é«˜é¢‘é—®é¢˜ï¼šå‡†å¤‡â€œä¸ºä»€ä¹ˆç¦»å¼€ä¸Šå®¶å…¬å¸â€ã€â€œèŒä¸šè§„åˆ’â€ç­‰è½¯æŠ€èƒ½é—®é¢˜ã€‚ å››ã€èµ„æºæ¨è ä¹¦ç±ï¼šã€ŠJavaå¹¶å‘ç¼–ç¨‹å®æˆ˜ã€‹ã€Šæ·±å…¥ç†è§£JVMã€‹ã€Šè®¾è®¡æ¨¡å¼ä¹‹ç¦…ã€‹ ç½‘ç«™ï¼šLeetCodeã€ç‰›å®¢ç½‘ã€æå®¢æ—¶é—´ å·¥å…·ï¼šArthasï¼ˆJVMè°ƒè¯•ï¼‰ã€JProfilerï¼ˆæ€§èƒ½åˆ†æï¼‰ å¦‚æœ‰éœ€è¦æ›´è¿›ä¹‹å¤„è¿˜è¯·è¯„è®ºåŒºæŒ‡ç‚¹ï¼","categories":[],"tags":[],"author":"Simon"},{"title":"æ€ä¹ˆåœ¨github pageséƒ¨ç½²è‡ªå·±çš„hexoé¡¹ç›®","slug":"skills/point/howToCreateHexoAtGithubPages","date":"2025-04-20T14:43:00.000Z","updated":"2025-04-20T14:43:00.000Z","comments":true,"path":"2025/04/20/skills/point/howToCreateHexoAtGithubPages/","permalink":"https://daiyafeigithub.github.io/simonzzz/2025/04/20/skills/point/howToCreateHexoAtGithubPages/","excerpt":"","text":"åœ¨ GitHub Pages ä¸Šéƒ¨ç½² Hexo é¡¹ç›®æ˜¯ä¸€ä¸ªå¸¸è§çš„éœ€æ±‚ï¼ŒHexo æ˜¯ä¸€ä¸ªåŸºäº Node.js çš„é™æ€åšå®¢ç”Ÿæˆå™¨ï¼Œè€Œ GitHub Pages æ˜¯ä¸€ä¸ªå…è´¹çš„é™æ€ç½‘ç«™æ‰˜ç®¡æœåŠ¡ã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†çš„æ­¥éª¤ï¼Œå¸®åŠ©ä½ å®Œæˆ Hexo é¡¹ç›®çš„éƒ¨ç½²ã€‚ 1. å‡†å¤‡å·¥ä½œç¡®ä¿ä½ å·²ç»å®Œæˆä»¥ä¸‹å‡†å¤‡å·¥ä½œï¼š å®‰è£… Node.js å’Œ npmã€‚ å®‰è£… Gitã€‚ åˆ›å»ºä¸€ä¸ª GitHub ä»“åº“ï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰ã€‚ 2. å®‰è£… Hexoå¦‚æœä½ è¿˜æ²¡æœ‰å®‰è£… Hexoï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤å®‰è£…ï¼š 1npm install -g hexo-cli 3. åˆå§‹åŒ– Hexo é¡¹ç›®åœ¨æœ¬åœ°åˆå§‹åŒ–ä¸€ä¸ª Hexo é¡¹ç›®ï¼š 123hexo init my-blogcd my-blognpm install my-blog æ˜¯ä½ çš„é¡¹ç›®æ–‡ä»¶å¤¹åç§°ï¼Œå¯ä»¥æ ¹æ®éœ€è¦ä¿®æ”¹ã€‚ 4. é…ç½® Hexoåœ¨ Hexo é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹ï¼Œç¼–è¾‘ _config.yml æ–‡ä»¶ï¼Œè®¾ç½®ä»¥ä¸‹å†…å®¹ï¼š é…ç½®éƒ¨ç½²ä¿¡æ¯æ‰¾åˆ° deploy éƒ¨åˆ†ï¼Œä¿®æ”¹ä¸ºä»¥ä¸‹å†…å®¹ï¼š 1234deploy: type: git repo: https://github.com/username/username.github.io.git branch: main repoï¼šä½ çš„ GitHub ä»“åº“åœ°å€ã€‚å¦‚æœä»“åº“åæ˜¯ username.github.ioï¼ŒGitHub Pages ä¼šè‡ªåŠ¨éƒ¨ç½²åˆ°æ ¹ç›®å½•ã€‚ branchï¼šéƒ¨ç½²åˆ†æ”¯ï¼Œé€šå¸¸ä¸º main æˆ– gh-pagesã€‚ é…ç½® URL å’Œæ ¹ç›®å½•æ‰¾åˆ° url å’Œ root éƒ¨åˆ†ï¼Œæ ¹æ®ä½ çš„ä»“åº“åç§°è®¾ç½®ï¼š å¦‚æœä»“åº“åæ˜¯ username.github.ioï¼š 12url: https://username.github.ioroot: / å¦‚æœä»“åº“åæ˜¯å…¶ä»–åç§°ï¼ˆå¦‚ my-blogï¼‰ï¼š 12url: https://username.github.io/my-blogroot: /my-blog/ 5. å®‰è£… Hexo éƒ¨ç½²æ’ä»¶Hexo éœ€è¦ä¸€ä¸ªæ’ä»¶æ¥æ”¯æŒ Git éƒ¨ç½²ã€‚å®‰è£… hexo-deployer-gitï¼š 1npm install hexo-deployer-git --save 6. ç”Ÿæˆé™æ€æ–‡ä»¶å¹¶éƒ¨ç½²åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š 123hexo cleanhexo generatehexo deploy hexo cleanï¼šæ¸…ç†ç¼“å­˜å’Œæ—§æ–‡ä»¶ã€‚ hexo generateï¼šç”Ÿæˆé™æ€æ–‡ä»¶åˆ° public ç›®å½•ã€‚ hexo deployï¼šå°†ç”Ÿæˆçš„é™æ€æ–‡ä»¶éƒ¨ç½²åˆ° GitHub ä»“åº“ã€‚ 7. é…ç½® GitHub Pages æ‰“å¼€ GitHub ä»“åº“ï¼Œè¿›å…¥ Settings -&gt; Pagesã€‚ åœ¨ Source éƒ¨åˆ†ï¼Œé€‰æ‹©éƒ¨ç½²åˆ†æ”¯ï¼ˆå¦‚ main æˆ– gh-pagesï¼‰ã€‚ ç¡®ä¿ Custom domain ä¸ºç©ºï¼ˆé™¤éä½ ä½¿ç”¨äº†è‡ªå®šä¹‰åŸŸåï¼‰ã€‚ ç‚¹å‡» Save ä¿å­˜è®¾ç½®ã€‚ 8. è®¿é—®ä½ çš„ GitHub Pageséƒ¨ç½²å®Œæˆåï¼Œè®¿é—®ä»¥ä¸‹ URL æŸ¥çœ‹ä½ çš„ç½‘ç«™ï¼š å¦‚æœä»“åº“åæ˜¯ username.github.ioï¼Œè®¿é—® https://username.github.ioã€‚ å¦‚æœä»“åº“åæ˜¯å…¶ä»–åç§°ï¼ˆå¦‚ my-blogï¼‰ï¼Œè®¿é—® https://username.github.io/my-blogã€‚ 9. è‡ªåŠ¨éƒ¨ç½²ï¼ˆå¯é€‰ï¼‰å¦‚æœä½ å¸Œæœ›æ¯æ¬¡æ¨é€ä»£ç æ—¶è‡ªåŠ¨éƒ¨ç½²ï¼Œå¯ä»¥ä½¿ç”¨ GitHub Actionsã€‚ åˆ›å»º GitHub Actions å·¥ä½œæµåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»º .github/workflows/deploy.yml æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233name: Deploy Hexo to GitHub Pageson: push: branches: [&quot;main&quot;]jobs: deploy: runs-on: ubuntu-latest steps: - name: Checkout uses: actions/checkout@v4 - name: Set up Node.js uses: actions/setup-node@v4 with: node-version: 18 - name: Install Hexo and dependencies run: | npm install -g hexo-cli npm install - name: Generate static files run: | hexo clean hexo generate - name: Deploy to GitHub Pages uses: peaceiris/actions-gh-pages@v3 with: github_token: $&#123;&#123; secrets.GITHUB_TOKEN &#125;&#125; publish_dir: ./public è¿™ä¸ªå·¥ä½œæµä¼šåœ¨æ¯æ¬¡æ¨é€åˆ° main åˆ†æ”¯æ—¶è‡ªåŠ¨ç”Ÿæˆé™æ€æ–‡ä»¶å¹¶éƒ¨ç½²åˆ° gh-pages åˆ†æ”¯ã€‚ 10. å¸¸è§é—®é¢˜é¡µé¢æ²¡æœ‰æ ·å¼ æ£€æŸ¥ _config.yml ä¸­çš„ url å’Œ root é…ç½®æ˜¯å¦æ­£ç¡®ã€‚ ç¡®ä¿èµ„æºæ–‡ä»¶è·¯å¾„æ­£ç¡®ï¼Œå¯ä»¥é€šè¿‡æµè§ˆå™¨å¼€å‘è€…å·¥å…·æŸ¥çœ‹æ˜¯å¦æœ‰èµ„æºåŠ è½½å¤±è´¥ã€‚ éƒ¨ç½²å¤±è´¥ æ£€æŸ¥ GitHub ä»“åº“çš„ Settings -&gt; Pagesï¼Œç¡®ä¿éƒ¨ç½²åˆ†æ”¯æ­£ç¡®ã€‚ ç¡®ä¿ hexo-deployer-git æ’ä»¶å·²å®‰è£…ã€‚ è‡ªå®šä¹‰åŸŸå å¦‚æœä½ ä½¿ç”¨äº†è‡ªå®šä¹‰åŸŸåï¼Œåœ¨ source ç›®å½•ä¸‹åˆ›å»º CNAME æ–‡ä»¶ï¼Œå†…å®¹ä¸ºä½ çš„åŸŸåã€‚ä¾‹å¦‚ï¼š1example.com æ€»ç»“é€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œä½ å¯ä»¥å°† Hexo é¡¹ç›®æˆåŠŸéƒ¨ç½²åˆ° GitHub Pagesã€‚å¦‚æœéœ€è¦è‡ªåŠ¨éƒ¨ç½²ï¼Œå¯ä»¥ä½¿ç”¨ GitHub Actions å®ç°æŒç»­é›†æˆã€‚å¦‚æœæœ‰ä»»ä½•é—®é¢˜ï¼Œå¯ä»¥å‚è€ƒ Hexo å’Œ GitHub Pages çš„å®˜æ–¹æ–‡æ¡£ï¼Œæˆ–æŸ¥çœ‹ GitHub ä»“åº“çš„æ„å»ºæ—¥å¿—ã€‚","categories":[],"tags":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://daiyafeigithub.github.io/simonzzz/tags/%E6%8A%80%E6%9C%AF/"}]},{"title":"å¦‚ä½•åœ¨vue+springbooté¡¹ç›®ä¸­ä½¿ç”¨https","slug":"skills/point/howtousehttps","date":"2025-04-20T14:43:00.000Z","updated":"2025-04-20T14:43:00.000Z","comments":true,"path":"2025/04/20/skills/point/howtousehttps/","permalink":"https://daiyafeigithub.github.io/simonzzz/2025/04/20/skills/point/howtousehttps/","excerpt":"","text":"åœ¨ Vue + Spring Boot é¡¹ç›®ä¸­ä½¿ç”¨ HTTPSï¼Œéœ€è¦åˆ†åˆ«åœ¨ Vue å‰ç«¯å’Œ Spring Boot åç«¯è¿›è¡Œé…ç½®ã€‚ä»¥ä¸‹æ˜¯å…·ä½“æ­¥éª¤ï¼š 1. ç”Ÿæˆ SSL è¯ä¹¦é¦–å…ˆï¼Œä½ éœ€è¦ä¸€ä¸ª SSL è¯ä¹¦ã€‚å¯ä»¥ä½¿ç”¨è‡ªç­¾åè¯ä¹¦è¿›è¡Œæµ‹è¯•ï¼Œæˆ–ä»å—ä¿¡ä»»çš„è¯ä¹¦é¢å‘æœºæ„ï¼ˆCAï¼‰è·å–æ­£å¼è¯ä¹¦ã€‚ è‡ªç­¾åè¯ä¹¦ç”Ÿæˆä½¿ç”¨ OpenSSL ç”Ÿæˆè‡ªç­¾åè¯ä¹¦ï¼š 1openssl req -x509 -newkey rsa:4096 -keyout key.pem -out cert.pem -days 365 -nodes è¿™å°†ç”Ÿæˆ key.pemï¼ˆç§é’¥ï¼‰å’Œ cert.pemï¼ˆè¯ä¹¦ï¼‰æ–‡ä»¶ã€‚ 2. é…ç½® Spring Boot ä½¿ç”¨ HTTPSå°†è¯ä¹¦æ”¾å…¥ Spring Boot é¡¹ç›®å°†ç”Ÿæˆçš„ key.pem å’Œ cert.pem æ–‡ä»¶æ”¾å…¥ src/main/resources ç›®å½•ã€‚ ä¿®æ”¹ application.propertiesåœ¨ application.properties ä¸­æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š 1234server.port=8443server.ssl.key-store=classpath:keystore.p12server.ssl.key-store-password=your_passwordserver.ssl.key-password=your_password å°† key.pem å’Œ cert.pem è½¬æ¢ä¸º PKCS12 æ ¼å¼ï¼š 1openssl pkcs12 -export -in cert.pem -inkey key.pem -out keystore.p12 -name tomcat -CAfile cert.pem -caname root å°†ç”Ÿæˆçš„ keystore.p12 æ”¾å…¥ src/main/resources ç›®å½•ã€‚ 3. é…ç½® Vue ä½¿ç”¨ HTTPSä¿®æ”¹ Vue å¼€å‘æœåŠ¡å™¨é…ç½®åœ¨ vue.config.js ä¸­é…ç½®å¼€å‘æœåŠ¡å™¨ä½¿ç”¨ HTTPSï¼š 12345678910111213141516171819const fs = require(&#x27;fs&#x27;);const path = require(&#x27;path&#x27;);module.exports = &#123; devServer: &#123; port: 8080, https: &#123; key: fs.readFileSync(path.resolve(__dirname, &#x27;key.pem&#x27;)), cert: fs.readFileSync(path.resolve(__dirname, &#x27;cert.pem&#x27;)), &#125;, proxy: &#123; &#x27;/api&#x27;: &#123; target: &#x27;https://localhost:8443&#x27;, secure: false, changeOrigin: true, &#125;, &#125;, &#125;,&#125;; å°† key.pem å’Œ cert.pem æ”¾å…¥ Vue é¡¹ç›®æ ¹ç›®å½•ã€‚ 4. éƒ¨ç½²é…ç½®å‰ç«¯éƒ¨ç½²å°† Vue é¡¹ç›®æ‰“åŒ…å¹¶éƒ¨ç½²åˆ°æ”¯æŒ HTTPS çš„æœåŠ¡å™¨ï¼ˆå¦‚ Nginx æˆ– Apacheï¼‰ã€‚ åç«¯éƒ¨ç½²å°† Spring Boot é¡¹ç›®æ‰“åŒ…ä¸º JAR æˆ– WAR æ–‡ä»¶ï¼Œå¹¶éƒ¨ç½²åˆ°æ”¯æŒ HTTPS çš„æœåŠ¡å™¨ã€‚ 5. æµ‹è¯•å¯åŠ¨ Spring Boot å’Œ Vue é¡¹ç›®ï¼Œåˆ†åˆ«é€šè¿‡ https://localhost:8443 å’Œ https://localhost:8080 è®¿é—®ï¼Œç¡®ä¿ HTTPS æ­£å¸¸å·¥ä½œã€‚ 6. å…¶ä»–æ³¨æ„äº‹é¡¹ è¯ä¹¦æœ‰æ•ˆæœŸï¼šè‡ªç­¾åè¯ä¹¦ä»…ç”¨äºæµ‹è¯•ï¼Œç”Ÿäº§ç¯å¢ƒåº”ä½¿ç”¨å—ä¿¡ä»»çš„ CA è¯ä¹¦ã€‚ æ··åˆå†…å®¹ï¼šç¡®ä¿å‰ç«¯èµ„æºï¼ˆå¦‚ JSã€CSSï¼‰é€šè¿‡ HTTPS åŠ è½½ï¼Œé¿å…æ··åˆå†…å®¹é—®é¢˜ã€‚ CORSï¼šå¦‚æœå‰åç«¯åˆ†ç¦»éƒ¨ç½²ï¼Œé…ç½®æ­£ç¡®çš„ CORS ç­–ç•¥ã€‚ é€šè¿‡è¿™äº›æ­¥éª¤ï¼Œä½ çš„ Vue + Spring Boot é¡¹ç›®å°†èƒ½å¤Ÿä½¿ç”¨ HTTPS è¿›è¡Œå®‰å…¨é€šä¿¡ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://daiyafeigithub.github.io/simonzzz/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"æ•™ç¨‹","slug":"æ•™ç¨‹","permalink":"https://daiyafeigithub.github.io/simonzzz/tags/%E6%95%99%E7%A8%8B/"},{"name":"deepseek","slug":"deepseek","permalink":"https://daiyafeigithub.github.io/simonzzz/tags/deepseek/"}]},{"title":"ä¸­çº§è½¯è€ƒè¯ä¹¦20å¤©å†²åˆºè®¡åˆ’","slug":"skills/point/ä¸­çº§è½¯è€ƒè¯ä¹¦20å¤©å†²åˆºè®¡åˆ’","date":"2025-04-20T14:43:00.000Z","updated":"2025-04-20T14:43:00.000Z","comments":true,"path":"2025/04/20/skills/point/ä¸­çº§è½¯è€ƒè¯ä¹¦20å¤©å†²åˆºè®¡åˆ’/","permalink":"https://daiyafeigithub.github.io/simonzzz/2025/04/20/skills/point/%E4%B8%AD%E7%BA%A7%E8%BD%AF%E8%80%83%E8%AF%81%E4%B9%A620%E5%A4%A9%E5%86%B2%E5%88%BA%E8%AE%A1%E5%88%92/","excerpt":"","text":"ä¸­çº§è½¯è€ƒï¼ˆè½¯ä»¶æ°´å¹³è€ƒè¯•ï¼‰æ˜¯ä¸­å›½è®¡ç®—æœºæŠ€æœ¯ä¸è½¯ä»¶ä¸“ä¸šæŠ€æœ¯èµ„æ ¼ï¼ˆæ°´å¹³ï¼‰è€ƒè¯•çš„ä¸€éƒ¨åˆ†ï¼Œé€šå¸¸åŒ…æ‹¬ã€ŠåŸºç¡€çŸ¥è¯†ã€‹å’Œã€Šåº”ç”¨æŠ€æœ¯ã€‹ä¸¤éƒ¨åˆ†ã€‚è·ç¦»è€ƒè¯•è¿˜æœ‰20å¤©çš„æ—¶é—´ï¼Œçªå‡»å¤ä¹ éœ€è¦é«˜æ•ˆä¸”æœ‰è®¡åˆ’åœ°è¿›è¡Œã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªè¯¦ç»†çš„å¤ä¹ è·¯çº¿è§„åˆ’ï¼Œæ¶µç›–çŸ¥è¯†ç‚¹æ¢³ç†ã€æ—¶é—´å®‰æ’å’Œå¤‡è€ƒå»ºè®®ã€‚ ä¸€ã€å¤ä¹ ç›®æ ‡ åŸºç¡€çŸ¥è¯†ï¼šæŒæ¡è€ƒè¯•å¤§çº²ä¸­çš„æ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼Œç†Ÿæ‚‰é€‰æ‹©é¢˜çš„å¸¸è§è€ƒç‚¹ã€‚ åº”ç”¨æŠ€æœ¯ï¼šç†è§£æ¡ˆä¾‹åˆ†æé¢˜çš„è§£é¢˜æ€è·¯ï¼Œèƒ½å¤Ÿå¿«é€Ÿå®šä½é—®é¢˜å¹¶ç»™å‡ºè§£å†³æ–¹æ¡ˆã€‚ æ¨¡æ‹Ÿç»ƒä¹ ï¼šé€šè¿‡çœŸé¢˜å’Œæ¨¡æ‹Ÿé¢˜è®­ç»ƒç­”é¢˜é€Ÿåº¦å’Œå‡†ç¡®ç‡ã€‚ äºŒã€å¤ä¹ è§„åˆ’ï¼ˆ20å¤©ï¼‰ç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€å·©å›ºï¼ˆç¬¬1-7å¤©ï¼‰ç›®æ ‡ï¼šå…¨é¢æ¢³ç†è€ƒè¯•å¤§çº²ä¸­çš„çŸ¥è¯†ç‚¹ï¼Œå¤¯å®åŸºç¡€ã€‚ åŸºç¡€çŸ¥è¯†éƒ¨åˆ† é‡ç‚¹å†…å®¹ï¼š è®¡ç®—æœºç³»ç»ŸçŸ¥è¯† è®¡ç®—æœºç»„æˆåŸç†ï¼ˆCPUã€å†…å­˜ã€I&#x2F;Oè®¾å¤‡ç­‰ï¼‰ æ“ä½œç³»ç»ŸåŸºç¡€ï¼ˆè¿›ç¨‹ç®¡ç†ã€å­˜å‚¨ç®¡ç†ã€æ–‡ä»¶ç³»ç»Ÿï¼‰ æ•°æ®åº“åŸºç¡€ï¼ˆå…³ç³»æ¨¡å‹ã€SQLè¯­è¨€ã€äº‹åŠ¡ç®¡ç†ï¼‰ ç½‘ç»œåŸºç¡€ ç½‘ç»œåè®®ï¼ˆTCP&#x2F;IPã€HTTPã€DNSç­‰ï¼‰ ç½‘ç»œæ¶æ„ï¼ˆOSIä¸ƒå±‚æ¨¡å‹ã€IPåœ°å€åˆ†ç±»ï¼‰ è½¯ä»¶å·¥ç¨‹ è½¯ä»¶ç”Ÿå‘½å‘¨æœŸï¼ˆéœ€æ±‚åˆ†æã€è®¾è®¡ã€ç¼–ç ã€æµ‹è¯•ã€ç»´æŠ¤ï¼‰ å¸¸è§å¼€å‘æ¨¡å‹ï¼ˆç€‘å¸ƒæ¨¡å‹ã€æ•æ·å¼€å‘ï¼‰ ä¿¡æ¯å®‰å…¨ åŠ å¯†ç®—æ³•ï¼ˆå¯¹ç§°åŠ å¯†ã€éå¯¹ç§°åŠ å¯†ï¼‰ å®‰å…¨å¨èƒä¸é˜²æŠ¤æªæ–½ æ³•å¾‹æ³•è§„ä¸æ ‡å‡†åŒ– çŸ¥è¯†äº§æƒä¿æŠ¤ æ ‡å‡†åŒ–åŸºç¡€çŸ¥è¯†ï¼ˆISOã€GB&#x2F;Tï¼‰ å¤ä¹ æ–¹æ³•ï¼š æŒ‰ç…§è€ƒè¯•å¤§çº²é€æ¡å­¦ä¹ ï¼Œä½¿ç”¨æ•™ææˆ–åœ¨çº¿è¯¾ç¨‹è¾…åŠ©ç†è§£ã€‚ åˆ¶ä½œçŸ¥è¯†ç‚¹å¡ç‰‡ï¼Œæ–¹ä¾¿éšæ—¶ç¿»é˜…è®°å¿†ã€‚ æ¯å¤©å®Œæˆä¸€éƒ¨åˆ†å†…å®¹åï¼Œåšå¯¹åº”ç« èŠ‚çš„é€‰æ‹©é¢˜ç»ƒä¹ ã€‚ åº”ç”¨æŠ€æœ¯éƒ¨åˆ† é‡ç‚¹å†…å®¹ï¼š æ¡ˆä¾‹åˆ†æ éœ€æ±‚åˆ†æï¼ˆå¦‚ä½•è¯†åˆ«ç”¨æˆ·éœ€æ±‚ï¼‰ ç³»ç»Ÿè®¾è®¡ï¼ˆæ¨¡å—åˆ’åˆ†ã€æ¥å£è®¾è®¡ï¼‰ æµ‹è¯•æ–¹æ³•ï¼ˆé»‘ç›’æµ‹è¯•ã€ç™½ç›’æµ‹è¯•ï¼‰ é¡¹ç›®ç®¡ç† é¡¹ç›®èŒƒå›´ç®¡ç† è¿›åº¦ç®¡ç†ï¼ˆå…³é”®è·¯å¾„æ³•ã€ç”˜ç‰¹å›¾ï¼‰ æˆæœ¬ç®¡ç†ï¼ˆæŒ£å€¼åˆ†æï¼‰ å¤ä¹ æ–¹æ³•ï¼š å­¦ä¹ ç»å…¸æ¡ˆä¾‹ï¼Œæ€»ç»“å¸¸è§é—®é¢˜åŠè§£é¢˜æ€è·¯ã€‚ é’ˆå¯¹æ¯ç§é¢˜å‹ï¼ˆå¦‚éœ€æ±‚å˜æ›´ã€è¿›åº¦å»¶è¯¯ç­‰ï¼‰ï¼Œæ•´ç†å‡ºæ¨¡æ¿åŒ–ç­”æ¡ˆã€‚ ç¬¬äºŒé˜¶æ®µï¼šå¼ºåŒ–è®­ç»ƒï¼ˆç¬¬8-15å¤©ï¼‰ç›®æ ‡ï¼šé€šè¿‡çœŸé¢˜å’Œæ¨¡æ‹Ÿé¢˜æå‡ç­”é¢˜èƒ½åŠ›ï¼ŒæŸ¥æ¼è¡¥ç¼ºã€‚ åŸºç¡€çŸ¥è¯†éƒ¨åˆ† æ¯å¤©å®Œæˆä¸€å¥—çœŸé¢˜æˆ–æ¨¡æ‹Ÿé¢˜çš„é€‰æ‹©é¢˜éƒ¨åˆ†ã€‚ åˆ†æé”™é¢˜ï¼Œæ ‡è®°è–„å¼±çŸ¥è¯†ç‚¹ï¼Œé’ˆå¯¹æ€§å¤ä¹ ã€‚ å¯¹é«˜é¢‘è€ƒç‚¹ï¼ˆå¦‚æ•°æ®åº“SQLè¯­å¥ã€ç½‘ç»œåè®®ç­‰ï¼‰è¿›è¡Œä¸“é¡¹ç»ƒä¹ ã€‚ åº”ç”¨æŠ€æœ¯éƒ¨åˆ† æ¯å¤©å®Œæˆ2-3é“æ¡ˆä¾‹åˆ†æé¢˜ï¼Œä¸¥æ ¼æŒ‰ç…§è€ƒè¯•æ—¶é—´è¦æ±‚å®Œæˆã€‚ æ€»ç»“ç­”é¢˜æ¨¡æ¿ï¼Œä¾‹å¦‚ï¼š éœ€æ±‚å˜æ›´é—®é¢˜ï¼šâ€œé¦–å…ˆç¡®è®¤å˜æ›´çš„å¿…è¦æ€§ï¼Œå…¶æ¬¡è¯„ä¼°å˜æ›´çš„å½±å“ï¼Œæœ€ååˆ¶å®šå®æ–½è®¡åˆ’ã€‚â€ è¿›åº¦å»¶è¯¯é—®é¢˜ï¼šâ€œåˆ†æå»¶è¯¯åŸå› ï¼Œè°ƒæ•´å…³é”®è·¯å¾„æ´»åŠ¨ï¼Œé‡æ–°åˆ†é…èµ„æºã€‚â€ æ—¶é—´åˆ†é… æ¯å¤©ä¸Šåˆï¼šåŸºç¡€çŸ¥è¯†å¤ä¹ +ç»ƒä¹  ä¸‹åˆï¼šåº”ç”¨æŠ€æœ¯æ¡ˆä¾‹åˆ†æ æ™šä¸Šï¼šé”™é¢˜å›é¡¾ä¸æ€»ç»“ ç¬¬ä¸‰é˜¶æ®µï¼šå†²åˆºæ¨¡æ‹Ÿï¼ˆç¬¬16-20å¤©ï¼‰ç›®æ ‡ï¼šæ¨¡æ‹ŸçœŸå®è€ƒè¯•ç¯å¢ƒï¼Œæå‡åº”è¯•èƒ½åŠ›ã€‚ æ•´å·æ¨¡æ‹Ÿ æ¯å¤©å®Œæˆä¸€å¥—å®Œæ•´çš„çœŸé¢˜æˆ–æ¨¡æ‹Ÿé¢˜ï¼Œä¸¥æ ¼æŒ‰ç…§è€ƒè¯•æ—¶é—´ï¼ˆåŸºç¡€çŸ¥è¯†150åˆ†é’Ÿï¼Œåº”ç”¨æŠ€æœ¯150åˆ†é’Ÿï¼‰è¿›è¡Œã€‚ æ¨¡æ‹Ÿåè®¤çœŸåˆ†æè¯•å·ï¼Œæ€»ç»“ç»éªŒæ•™è®­ã€‚ é‡ç‚¹çªç ´ é’ˆå¯¹å‰ä¸¤ä¸ªé˜¶æ®µå‘ç°çš„è–„å¼±ç¯èŠ‚ï¼Œé›†ä¸­ç²¾åŠ›å¤ä¹ ã€‚ å¯¹é«˜é¢‘è€ƒç‚¹è¿›è¡Œæœ€åçš„è®°å¿†å¼ºåŒ–ï¼Œä¾‹å¦‚ï¼š SQLæŸ¥è¯¢è¯­å¥ å…³é”®è·¯å¾„è®¡ç®—å…¬å¼ ä¿¡æ¯å®‰å…¨åŠ å¯†ç®—æ³• å¿ƒç†è°ƒæ•´ ä¿æŒè‰¯å¥½çš„ä½œæ¯ï¼Œé¿å…ç†¬å¤œã€‚ è°ƒæ•´å¿ƒæ€ï¼Œæ ‘ç«‹ä¿¡å¿ƒï¼Œç›¸ä¿¡è‡ªå·±çš„åŠªåŠ›ä¼šæœ‰å›æŠ¥ã€‚ ä¸‰ã€è¯¦ç»†çŸ¥è¯†ç‚¹æ¸…å•åŸºç¡€çŸ¥è¯† è®¡ç®—æœºç³»ç»ŸçŸ¥è¯† CPUç»“æ„ä¸åŠŸèƒ½ å†…å­˜å±‚æ¬¡ç»“æ„ï¼ˆCacheã€RAMã€ROMï¼‰ è¾“å…¥è¾“å‡ºè®¾å¤‡å·¥ä½œåŸç† æ“ä½œç³»ç»Ÿ è¿›ç¨‹ä¸çº¿ç¨‹çš„åŒºåˆ« æ­»é”çš„äº§ç”Ÿæ¡ä»¶ä¸é¢„é˜² æ–‡ä»¶ç³»ç»Ÿç»“æ„ æ•°æ®åº“ å…³ç³»æ¨¡å‹çš„åŸºæœ¬æ¦‚å¿µ SQLæŸ¥è¯¢è¯­å¥ï¼ˆSELECTã€INSERTã€UPDATEã€DELETEï¼‰ æ•°æ®åº“äº‹åŠ¡ç‰¹æ€§ï¼ˆACIDï¼‰ ç½‘ç»œåŸºç¡€ OSIä¸ƒå±‚æ¨¡å‹ä¸TCP&#x2F;IPå››å±‚æ¨¡å‹ å¸¸è§ç½‘ç»œåè®®ï¼ˆHTTPã€FTPã€SMTPï¼‰ IPåœ°å€åˆ†ç±»ä¸å­ç½‘åˆ’åˆ† ä¿¡æ¯å®‰å…¨ å¯¹ç§°åŠ å¯†ä¸éå¯¹ç§°åŠ å¯†ç®—æ³• æ•°å­—ç­¾åä¸è®¤è¯æœºåˆ¶ å¸¸è§å®‰å…¨å¨èƒï¼ˆç—…æ¯’ã€æœ¨é©¬ã€DDoSæ”»å‡»ï¼‰ åº”ç”¨æŠ€æœ¯ éœ€æ±‚åˆ†æ éœ€æ±‚è·å–æ–¹æ³•ï¼ˆè®¿è°ˆã€é—®å·è°ƒæŸ¥ï¼‰ éœ€æ±‚æ–‡æ¡£ç¼–å†™è§„èŒƒ ç³»ç»Ÿè®¾è®¡ æ¨¡å—åˆ’åˆ†åŸåˆ™ æ¥å£è®¾è®¡æ³¨æ„äº‹é¡¹ æµ‹è¯•æ–¹æ³• é»‘ç›’æµ‹è¯•ä¸ç™½ç›’æµ‹è¯•çš„åŒºåˆ« æµ‹è¯•ç”¨ä¾‹è®¾è®¡æ–¹æ³• é¡¹ç›®ç®¡ç† é¡¹ç›®èŒƒå›´ç®¡ç†å·¥å…·ï¼ˆWBSï¼‰ å…³é”®è·¯å¾„æ³•è®¡ç®— æŒ£å€¼åˆ†æå…¬å¼ï¼ˆPVã€EVã€ACã€CVã€SVï¼‰ å››ã€å¤‡è€ƒå»ºè®® åˆç†åˆ†é…æ—¶é—´ æ¯å¤©è‡³å°‘ä¿è¯6å°æ—¶çš„å¤ä¹ æ—¶é—´ï¼Œåˆ†æ®µè¿›è¡ŒåŸºç¡€çŸ¥è¯†å’Œåº”ç”¨æŠ€æœ¯çš„å­¦ä¹ ã€‚ å–„ç”¨å·¥å…· ä½¿ç”¨æ€ç»´å¯¼å›¾æ•´ç†çŸ¥è¯†ç‚¹ã€‚ ä¸‹è½½å†å¹´çœŸé¢˜å’Œæ¨¡æ‹Ÿé¢˜APPï¼Œéšæ—¶éšåœ°åˆ·é¢˜ã€‚ ä¿æŒä¸“æ³¨ å‡å°‘å¹²æ‰°ï¼Œä¸“æ³¨äºå¤ä¹ å†…å®¹ã€‚ å®šæœŸä¼‘æ¯ï¼Œé¿å…è¿‡åº¦ç–²åŠ³ã€‚ ä¸­çº§è½¯è€ƒè¯ä¹¦è€ƒè¯•è™½ç„¶éš¾åº¦é€‚ä¸­ï¼Œä½†æ¶‰åŠçš„çŸ¥è¯†ç‚¹å¹¿æ³›ï¼Œéœ€è¦è€ƒç”Ÿåœ¨çŸ­æ—¶é—´å†…é«˜æ•ˆå¤ä¹ ã€‚æŒ‰ç…§ä¸Šè¿°è§„åˆ’ï¼Œæ‚¨å¯ä»¥åœ¨20å¤©å†…å®Œæˆä»åŸºç¡€åˆ°å¼ºåŒ–å†åˆ°å†²åˆºçš„å…¨è¿‡ç¨‹å¤ä¹ ã€‚åšæŒæ¯å¤©æŒ‰è®¡åˆ’æ‰§è¡Œï¼Œç»“åˆçœŸé¢˜ç»ƒä¹ ï¼Œç›¸ä¿¡æ‚¨ä¸€å®šèƒ½å¤Ÿé¡ºåˆ©é€šè¿‡è€ƒè¯•ï¼","categories":[{"name":"è½¯è€ƒ","slug":"è½¯è€ƒ","permalink":"https://daiyafeigithub.github.io/simonzzz/categories/%E8%BD%AF%E8%80%83/"}],"tags":[{"name":"è½¯è€ƒ","slug":"è½¯è€ƒ","permalink":"https://daiyafeigithub.github.io/simonzzz/tags/%E8%BD%AF%E8%80%83/"},{"name":"ä¸­çº§è½¯è€ƒ","slug":"ä¸­çº§è½¯è€ƒ","permalink":"https://daiyafeigithub.github.io/simonzzz/tags/%E4%B8%AD%E7%BA%A7%E8%BD%AF%E8%80%83/"}],"author":"Simon"},{"title":"å¦‚ä½•åˆ©ç”¨PCå¾®ä¿¡å®¢æˆ·ç«¯å®ç°å¾®ä¿¡æœºå™¨äºº","slug":"AI/wechatrebot","date":"2025-04-15T07:44:17.000Z","updated":"2025-04-15T07:44:17.000Z","comments":true,"path":"2025/04/15/AI/wechatrebot/","permalink":"https://daiyafeigithub.github.io/simonzzz/2025/04/15/AI/wechatrebot/","excerpt":"","text":"å¾®ä¿¡æœºå™¨äººæ­å»ºæŒ‡å—æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»å¦‚ä½•ä½¿ç”¨PCå¾®ä¿¡å®¢æˆ·ç«¯æ­å»ºä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„å¾®ä¿¡æœºå™¨äººã€‚é€šè¿‡æœ¬æ•™ç¨‹ï¼Œæ‚¨å¯ä»¥å®ç°è‡ªåŠ¨å›å¤ã€æ¶ˆæ¯è½¬å‘ç­‰å®ç”¨åŠŸèƒ½ã€‚ 1. ç¯å¢ƒå‡†å¤‡1.1 å®‰è£…PyCharmé¦–å…ˆéœ€è¦å®‰è£…Pythonå¼€å‘ç¯å¢ƒPyCharmï¼š ä¸‹è½½åœ°å€ï¼šPyCharmå®˜æ–¹ä¸‹è½½ é€‰æ‹©Communityï¼ˆç¤¾åŒºç‰ˆï¼‰å³å¯æ»¡è¶³éœ€æ±‚ 1.2 è·å–é¡¹ç›®ä»£ç æˆ‘ä»¬ä½¿ç”¨WeChatRoboté¡¹ç›®ä½œä¸ºåŸºç¡€ï¼š GitHubåœ°å€ï¼šhttps://github.com/lich0821/WeChatRobot.git å›½å†…é•œåƒï¼ˆæ¨èï¼‰ï¼šhttps://gitee.com/lch0821/WeChatRobot.git 2. é¡¹ç›®é…ç½®2.1 é…ç½®Pythonè§£é‡Šå™¨ æ‰“å¼€PyCharm è¿›å…¥è®¾ç½®ï¼ˆSettingsï¼‰ é€‰æ‹©é¡¹ç›®è§£é‡Šå™¨ï¼ˆProject Interpreterï¼‰ æ·»åŠ æ–°çš„Pythonè§£é‡Šå™¨ 2.2 å®‰è£…ä¾èµ–åŒ…åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ‰¾åˆ°requirements.txtæ–‡ä»¶ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…ä¾èµ–ï¼š 1pip install -r requirements.txt 3. ä¸‹è½½å¿…è¦ç»„ä»¶3.1 ä¸‹è½½WeChatFerryè¿™æ˜¯å®ç°å¾®ä¿¡æœºå™¨äººçš„æ ¸å¿ƒç»„ä»¶ï¼š ä¸‹è½½åœ°å€ï¼šWeChatFerry v0.0.26 3.2 å®‰è£…æŒ‡å®šç‰ˆæœ¬å¾®ä¿¡é‡è¦æç¤ºï¼šå¿…é¡»ä½¿ç”¨æŒ‡å®šç‰ˆæœ¬çš„å¾®ä¿¡å®¢æˆ·ç«¯ï¼Œå¦åˆ™å¯èƒ½æ— æ³•æ­£å¸¸è¿è¡Œï¼š ä¸‹è½½åœ°å€ï¼šå¾®ä¿¡3.9.12.17ç‰ˆæœ¬ 4. è¿è¡Œæœºå™¨äºº ç¡®ä¿æ‰€æœ‰ç»„ä»¶éƒ½å·²æ­£ç¡®å®‰è£… æ‰“å¼€PyCharm è¿è¡Œé¡¹ç›®æ ¹ç›®å½•ä¸‹çš„main.pyæ–‡ä»¶ æ³¨æ„äº‹é¡¹ è¯·ç¡®ä¿ä½¿ç”¨æŒ‡å®šç‰ˆæœ¬çš„å¾®ä¿¡å®¢æˆ·ç«¯ é¦–æ¬¡è¿è¡Œæ—¶å¯èƒ½éœ€è¦ç®¡ç†å‘˜æƒé™ å»ºè®®åœ¨è¿è¡Œå‰å…³é—­å…¶ä»–å¾®ä¿¡è¿›ç¨‹ å¦‚é‡åˆ°é—®é¢˜ï¼Œå¯ä»¥æŸ¥çœ‹é¡¹ç›®æ–‡æ¡£æˆ–æäº¤Issue åç»­æ›´æ–°æœ¬æ–‡å°†æŒç»­æ›´æ–°ï¼Œæ·»åŠ æ›´å¤šå®ç”¨åŠŸèƒ½å’Œé—®é¢˜è§£å†³æ–¹æ¡ˆã€‚å¦‚æœæ‚¨æœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://daiyafeigithub.github.io/simonzzz/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"AI","slug":"AI","permalink":"https://daiyafeigithub.github.io/simonzzz/tags/AI/"},{"name":"Python","slug":"Python","permalink":"https://daiyafeigithub.github.io/simonzzz/tags/Python/"}]},{"title":"explainå…¨è§£æ","slug":"skills/mysql/explain","date":"2025-04-13T07:32:21.000Z","updated":"2025-04-13T07:32:21.000Z","comments":true,"path":"2025/04/13/skills/mysql/explain/","permalink":"https://daiyafeigithub.github.io/simonzzz/2025/04/13/skills/mysql/explain/","excerpt":"","text":"EXPLAIN æ˜¯ MySQL ä¸­ç”¨äºåˆ†æ SQL æŸ¥è¯¢æ‰§è¡Œè®¡åˆ’çš„æ ¸å¿ƒå·¥å…·ã€‚å®ƒå¯ä»¥å¸®åŠ©å¼€å‘è€…ç†è§£ MySQL å¦‚ä½•æ‰§è¡ŒæŸ¥è¯¢ï¼ˆå¦‚è¡¨è¿æ¥é¡ºåºã€ç´¢å¼•ä½¿ç”¨æƒ…å†µã€æ‰«æè¡Œæ•°ç­‰ï¼‰ï¼Œä»è€Œä¼˜åŒ–æŸ¥è¯¢æ€§èƒ½ã€‚ä»¥ä¸‹æ˜¯ EXPLAIN çš„è¯¦ç»†è§£æå’Œä½¿ç”¨ç¤ºä¾‹ã€‚ ä¸€ã€åŸºç¡€è¯­æ³•1EXPLAIN [é€‰é¡¹] SQLè¯­å¥; ä¾‹å¦‚ï¼š 1EXPLAIN SELECT * FROM users WHERE id = 1; äºŒã€è¾“å‡ºå­—æ®µè¯¦è§£EXPLAIN çš„è¾“å‡ºç»“æœåŒ…å«ä»¥ä¸‹å…³é”®å­—æ®µï¼Œæ¯ä¸ªå­—æ®µåæ˜ äº†æŸ¥è¯¢æ‰§è¡Œè®¡åˆ’çš„ç»†èŠ‚ï¼š 1. id å«ä¹‰ï¼šæŸ¥è¯¢çš„å”¯ä¸€æ ‡è¯†ç¬¦ã€‚ è§„åˆ™ï¼š ç®€å•æŸ¥è¯¢ï¼ˆå•è¡¨ï¼‰çš„ id ç›¸åŒã€‚ å¤æ‚æŸ¥è¯¢ï¼ˆå¦‚å­æŸ¥è¯¢ã€è”åˆæŸ¥è¯¢ï¼‰ä¸­ï¼Œæ¯ä¸ªå­æŸ¥è¯¢ä¼šç”Ÿæˆä¸åŒçš„ idã€‚ id å€¼è¶Šå¤§ï¼Œä¼˜å…ˆçº§è¶Šé«˜ï¼Œè¶Šå…ˆæ‰§è¡Œã€‚ 2. select_type å«ä¹‰ï¼šæŸ¥è¯¢çš„ç±»å‹ã€‚ å¸¸è§å€¼ï¼š SIMPLEï¼šç®€å•æŸ¥è¯¢ï¼ˆä¸åŒ…å«å­æŸ¥è¯¢æˆ– UNIONï¼‰ã€‚ PRIMARYï¼šæœ€å¤–å±‚çš„æŸ¥è¯¢ï¼ˆåŒ…å«å­æŸ¥è¯¢æˆ– UNIONï¼‰ã€‚ SUBQUERYï¼šå­æŸ¥è¯¢ä¸­çš„ç¬¬ä¸€ä¸ª SELECTã€‚ DERIVEDï¼šæ´¾ç”Ÿè¡¨ï¼ˆå¦‚ FROM å­å¥ä¸­çš„å­æŸ¥è¯¢ï¼‰ã€‚ UNIONï¼šUNION ä¸­çš„ç¬¬äºŒä¸ªæˆ–åç»­ SELECTã€‚ UNION RESULTï¼šUNION çš„ç»“æœã€‚ 3. table å«ä¹‰ï¼šå½“å‰æ“ä½œçš„è¡¨åã€‚ ç¤ºä¾‹ï¼š&lt;derived2&gt; è¡¨ç¤ºä¸€ä¸ªæ´¾ç”Ÿè¡¨ï¼ˆä¸´æ—¶è¡¨ï¼‰ã€‚ 4. partitions å«ä¹‰ï¼šæ¶‰åŠçš„åˆ†åŒºï¼ˆå¦‚æœè¡¨æ˜¯åˆ†åŒºè¡¨ï¼‰ã€‚ 5. type å«ä¹‰ï¼šè®¿é—®ç±»å‹ï¼ˆä»æœ€ä¼˜åˆ°æœ€å·®ï¼‰ï¼š systemï¼šè¡¨åªæœ‰ä¸€è¡Œï¼ˆç³»ç»Ÿè¡¨ï¼‰ã€‚ constï¼šé€šè¿‡ä¸»é”®æˆ–å”¯ä¸€ç´¢å¼•åŒ¹é…ä¸€è¡Œã€‚ eq_refï¼šå”¯ä¸€ç´¢å¼•æ‰«æï¼ˆå¤šè¡¨è¿æ¥æ—¶ï¼‰ã€‚ refï¼šéå”¯ä¸€ç´¢å¼•æ‰«æã€‚ rangeï¼šç´¢å¼•èŒƒå›´æ‰«æã€‚ indexï¼šå…¨ç´¢å¼•æ‰«æï¼ˆè¦†ç›–ç´¢å¼•ï¼‰ã€‚ ALLï¼šå…¨è¡¨æ‰«æï¼ˆéœ€ä¼˜åŒ–ï¼‰ã€‚ ä¼˜åŒ–ç›®æ ‡ï¼šå°½é‡é¿å… ALLï¼Œè¿½æ±‚ constã€eq_refã€refã€‚ 6. possible_keys å«ä¹‰ï¼šå¯èƒ½åº”ç”¨çš„ç´¢å¼•åˆ—è¡¨ã€‚ 7. key å«ä¹‰ï¼šå®é™…ä½¿ç”¨çš„ç´¢å¼•ã€‚ 8. key_len å«ä¹‰ï¼šç´¢å¼•ä½¿ç”¨çš„å­—èŠ‚æ•°ã€‚ ä½œç”¨ï¼šåˆ¤æ–­è”åˆç´¢å¼•æ˜¯å¦è¢«å®Œå…¨ä½¿ç”¨ã€‚ ç¤ºä¾‹ï¼šè‹¥ç´¢å¼•æ˜¯ (a, b)ï¼Œkey_len ä¸º a çš„é•¿åº¦ï¼Œè¯´æ˜åªä½¿ç”¨äº†éƒ¨åˆ†ç´¢å¼•ã€‚ 9. ref å«ä¹‰ï¼šç´¢å¼•çš„å“ªä¸€åˆ—æˆ–å¸¸é‡è¢«ç”¨äºåŒ¹é…ã€‚ ç¤ºä¾‹ï¼šconstï¼ˆå¸¸é‡ï¼‰ã€funcï¼ˆå‡½æ•°ï¼‰ã€æŸä¸ªå­—æ®µã€‚ 10. rows å«ä¹‰ï¼šé¢„ä¼°éœ€è¦æ‰«æçš„è¡Œæ•°ã€‚ ä¼˜åŒ–ç›®æ ‡ï¼šè¶Šå°è¶Šå¥½ã€‚ 11. filtered å«ä¹‰ï¼šé€šè¿‡æ¡ä»¶è¿‡æ»¤çš„è¡Œç™¾åˆ†æ¯”ï¼ˆä¸ rows ç»“åˆä¼°ç®—å®é™…è¡Œæ•°ï¼‰ã€‚ 12. Extra å«ä¹‰ï¼šé¢å¤–ä¿¡æ¯ï¼Œå…³é”®ä¼˜åŒ–æç¤ºã€‚ å¸¸è§å€¼ï¼š Using whereï¼šä½¿ç”¨ WHERE æ¡ä»¶è¿‡æ»¤ã€‚ Using indexï¼šä½¿ç”¨è¦†ç›–ç´¢å¼•ï¼ˆæ— éœ€å›è¡¨ï¼‰ã€‚ Using temporaryï¼šä½¿ç”¨ä¸´æ—¶è¡¨ï¼ˆéœ€ä¼˜åŒ–ï¼‰ã€‚ Using filesortï¼šä½¿ç”¨æ–‡ä»¶æ’åºï¼ˆéœ€ä¼˜åŒ–ï¼‰ã€‚ Select tables optimized awayï¼šæŸ¥è¯¢è¢«ä¼˜åŒ–å™¨ç›´æ¥è¿”å›ç»“æœï¼ˆå¦‚èšåˆå‡½æ•°ï¼‰ã€‚ ä¸‰ã€ç¤ºä¾‹åˆ†æç¤ºä¾‹ 1ï¼šå…¨è¡¨æ‰«æ1EXPLAIN SELECT * FROM employees; è¾“å‡ºï¼š 12345+----+-------------+-----------+------------+------+---------------+------+---------+------+------+----------+-------+| id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra |+----+-------------+-----------+------------+------+---------------+------+---------+------+------+----------+-------+| 1 | SIMPLE | employees | NULL | ALL | NULL | NULL | NULL | NULL | 3000 | 100.00 | NULL |+----+-------------+-----------+------------+------+---------------+------+---------+------+------+----------+-------+ åˆ†æï¼š type ä¸º ALLï¼ˆå…¨è¡¨æ‰«æï¼‰ï¼Œéœ€æ·»åŠ ç´¢å¼•ä¼˜åŒ–ã€‚ ç¤ºä¾‹ 2ï¼šä½¿ç”¨ç´¢å¼•1EXPLAIN SELECT name FROM employees WHERE id = 1; è¾“å‡ºï¼š 12345+----+-------------+-----------+------------+-------+---------------+---------+---------+-------+------+----------+-------------+| id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra |+----+-------------+-----------+------------+-------+---------------+---------+---------+-------+------+----------+-------------+| 1 | SIMPLE | employees | NULL | const | PRIMARY | PRIMARY | 4 | const | 1 | 100.00 | Using index |+----+-------------+-----------+------------+-------+---------------+---------+---------+-------+------+----------+-------------+ åˆ†æï¼š type ä¸º constï¼ˆä¸»é”®æŸ¥è¯¢ï¼‰ï¼ŒUsing index è¡¨ç¤ºä½¿ç”¨äº†è¦†ç›–ç´¢å¼•ã€‚ ç¤ºä¾‹ 3ï¼šå¤æ‚æŸ¥è¯¢ï¼ˆJOINï¼‰1234EXPLAIN SELECT a.name, b.salary FROM employees a JOIN salaries b ON a.id = b.employee_id WHERE a.department = &#x27;IT&#x27;; è¾“å‡ºï¼š 123456+----+-------------+-------+------------+------+---------------+---------+---------+----------------+------+----------+-------------+| id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra |+----+-------------+-------+------------+------+---------------+---------+---------+----------------+------+----------+-------------+| 1 | SIMPLE | a | NULL | ref | idx_dept | idx_dept| 768 | const | 100 | 100.00 | Using where || 1 | SIMPLE | b | NULL | ref | emp_id | emp_id | 4 | test.a.id | 10 | 100.00 | NULL |+----+-------------+-------+------------+------+---------------+---------+---------+----------------+------+----------+-------------+ åˆ†æï¼š employees è¡¨é€šè¿‡ idx_dept ç´¢å¼•ç­›é€‰å‡º 100 è¡Œã€‚ salaries è¡¨é€šè¿‡ emp_id ç´¢å¼•ä¸ employees è¡¨å…³è”ã€‚ å››ã€ä¼˜åŒ–å»ºè®® é¿å…å…¨è¡¨æ‰«æï¼ˆALLï¼‰ ä¸º WHEREã€JOINã€ORDER BY æ¡ä»¶æ·»åŠ åˆé€‚çš„ç´¢å¼•ã€‚ ç¤ºä¾‹ï¼šALTER TABLE employees ADD INDEX idx_dept (department); å‡å°‘å›è¡¨ï¼ˆUsing indexï¼‰ ä½¿ç”¨è¦†ç›–ç´¢å¼•ï¼ˆæŸ¥è¯¢å­—æ®µå…¨éƒ¨åŒ…å«åœ¨ç´¢å¼•ä¸­ï¼‰ã€‚ ä¼˜åŒ–ä¸´æ—¶è¡¨å’Œæ–‡ä»¶æ’åº å‡å°‘å¤æ‚æŸ¥è¯¢ä¸­çš„ DISTINCTã€GROUP BYã€ORDER BYã€‚ ç¡®ä¿æ’åºå­—æ®µæœ‰ç´¢å¼•ã€‚ å…³è”æŸ¥è¯¢ä¼˜åŒ– å°è¡¨é©±åŠ¨å¤§è¡¨ã€‚ ç¡®ä¿å…³è”å­—æ®µæœ‰ç´¢å¼•ã€‚ äº”ã€å¸¸è§è¯¯åŒº ç´¢å¼•è¶Šå¤šè¶Šå¥½ï¼Ÿé”™è¯¯ã€‚è¿‡å¤šçš„ç´¢å¼•ä¼šé™ä½å†™å…¥æ€§èƒ½ï¼Œéœ€æƒè¡¡æŸ¥è¯¢ä¸å†™å…¥éœ€æ±‚ã€‚ EXPLAIN çš„ rows æ˜¯å‡†ç¡®çš„ï¼Ÿä¸å‡†ç¡®ã€‚å®ƒæ˜¯ MySQL çš„é¢„ä¼°å€¼ï¼Œå®é™…è¡Œæ•°å¯èƒ½ä¸åŒã€‚ type &#x3D; range ä¸€å®šæ¯” ref å·®ï¼Ÿä¸ä¸€å®šã€‚èŒƒå›´æŸ¥è¯¢å¯èƒ½æ›´é«˜æ•ˆï¼Œéœ€ç»“åˆå…·ä½“åœºæ™¯ã€‚ å…­ã€è¿›é˜¶ç”¨æ³• åˆ†æ UPDATE&#x2F;DELETE 1EXPLAIN UPDATE employees SET salary = 10000 WHERE department = &#x27;IT&#x27;; æŸ¥çœ‹åˆ†åŒºä¿¡æ¯ 1EXPLAIN PARTITIONS SELECT * FROM partitioned_table; ç»“åˆ SHOW WARNINGS 12EXPLAIN EXTENDED SELECT ...;SHOW WARNINGS; æ€»ç»“é€šè¿‡ EXPLAINï¼Œå¯ä»¥å¿«é€Ÿå®šä½æŸ¥è¯¢æ€§èƒ½ç“¶é¢ˆï¼Œä¼˜åŒ–ç´¢å¼•å’Œ SQL é€»è¾‘ã€‚å»ºè®®åœ¨å¼€å‘è¿‡ç¨‹ä¸­å¯¹å¤æ‚æŸ¥è¯¢è¿›è¡Œå¸¸æ€åŒ–åˆ†æï¼Œé¿å…ç”Ÿäº§ç¯å¢ƒå‡ºç°æ…¢æŸ¥è¯¢ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://daiyafeigithub.github.io/simonzzz/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"mysql","slug":"mysql","permalink":"https://daiyafeigithub.github.io/simonzzz/tags/mysql/"}]},{"title":"é¢è¯•é¢˜ 2025-04-10 12:42:14","slug":"skills/interview/interview6","date":"2025-04-10T04:42:06.000Z","updated":"2025-04-10T04:42:06.000Z","comments":true,"path":"2025/04/10/skills/interview/interview6/","permalink":"https://daiyafeigithub.github.io/simonzzz/2025/04/10/skills/interview/interview6/","excerpt":"","text":"ä»¥ä¸‹æ˜¯åŸºäºè‰¾æ¢¦ç§‹ç®€å†å†…å®¹è®¾è®¡çš„30åˆ†é’Ÿæ¨¡æ‹Ÿé¢è¯•é¢˜ï¼Œæ¶µç›–æŠ€æœ¯æ·±åº¦ã€é¡¹ç›®ç»éªŒå’Œç»¼åˆèƒ½åŠ›è€ƒå¯Ÿï¼š ä¸€ã€æŠ€æœ¯åŸºç¡€è€ƒå¯Ÿï¼ˆ8åˆ†é’Ÿï¼‰ Javaæ ¸å¿ƒ ä½ åœ¨é¡¹ç›®ä¸­ä½¿ç”¨è¿‡ConcurrentHashMapï¼Œè¯·è¯´æ˜å®ƒçš„çº¿ç¨‹å®‰å…¨å®ç°åŸç†ï¼Œä¸Hashtableæœ‰ä½•åŒºåˆ«ï¼Ÿ å¦‚ä½•é€šè¿‡Java Stream APIå¯¹ä¸€ä¸ªç”¨æˆ·åˆ—è¡¨è¿›è¡Œåˆ†ç»„ç»Ÿè®¡ï¼ˆå¦‚æŒ‰åŸå¸‚åˆ†ç»„ï¼‰ï¼Ÿè¯·ä¸¾ä¾‹ä»£ç ç‰‡æ®µã€‚ JVMä¸ä¼˜åŒ– è§£é‡ŠJVMå†…å­˜æ¨¡å‹ä¸­å †å†…å­˜çš„åˆ†ä»£æœºåˆ¶ï¼ŒMinor GCå’ŒFull GCçš„è§¦å‘æ¡ä»¶æ˜¯ä»€ä¹ˆï¼Ÿ åœ¨é¡¹ç›®ä¸­æ˜¯å¦é‡åˆ°è¿‡å†…å­˜æ³„æ¼é—®é¢˜ï¼Ÿå¦‚ä½•é€šè¿‡å·¥å…·ï¼ˆå¦‚MATï¼‰å®šä½å’Œè§£å†³ï¼Ÿ æ•°æ®åº“ä¸ä¼˜åŒ– åœ¨MySQLä¸­ï¼Œç´¢å¼•çš„æœ€å·¦åŒ¹é…åŸåˆ™æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•é€šè¿‡EXPLAINåˆ†ææ…¢æŸ¥è¯¢ï¼Ÿ åˆ†åº“åˆ†è¡¨åå¦‚ä½•è§£å†³è·¨åº“æŸ¥è¯¢é—®é¢˜ï¼ŸShardingSphereçš„åˆ†ç‰‡ç­–ç•¥æœ‰å“ªäº›ï¼Ÿ äºŒã€æ¡†æ¶ä¸ä¸­é—´ä»¶ï¼ˆ10åˆ†é’Ÿï¼‰ Springç”Ÿæ€ Spring Bootçš„è‡ªåŠ¨é…ç½®åŸç†æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•è‡ªå®šä¹‰ä¸€ä¸ªStarterï¼Ÿ ä½ åœ¨é¡¹ç›®ä¸­ä½¿ç”¨Sentinelå®ç°ç†”æ–­ï¼Œå¦‚ä½•é…ç½®ä¸€ä¸ªåŸºäºå¼‚å¸¸æ¯”ä¾‹çš„ç†”æ–­ç­–ç•¥ï¼Ÿ åˆ†å¸ƒå¼ä¸å¾®æœåŠ¡ Seataçš„ATæ¨¡å¼å¦‚ä½•ä¿è¯åˆ†å¸ƒå¼äº‹åŠ¡ä¸€è‡´æ€§ï¼Ÿè¯·æè¿°å…¶ä¸¤é˜¶æ®µæäº¤è¿‡ç¨‹ã€‚ RabbitMQå¦‚ä½•ä¿è¯æ¶ˆæ¯å¯é æ€§æŠ•é€’ï¼Ÿæ¶ˆæ¯é‡å¤æ¶ˆè´¹å¦‚ä½•è§£å†³ï¼Ÿ ç¼“å­˜ä¸æ€§èƒ½ å¦‚ä½•è®¾è®¡Redisçš„ç¼“å­˜ç©¿é€è§£å†³æ–¹æ¡ˆï¼Ÿå¸ƒéš†è¿‡æ»¤å™¨çš„åŸç†å’Œé€‚ç”¨åœºæ™¯æ˜¯ä»€ä¹ˆï¼Ÿ åœ¨é¡¹ç›®ä¸­å¦‚ä½•é€šè¿‡Redisä¼˜åŒ–é«˜å¹¶å‘æŸ¥è¯¢ï¼Ÿæ˜¯å¦é‡åˆ°ç¼“å­˜å‡»ç©¿é—®é¢˜ï¼Ÿå¦‚ä½•è§£å†³ï¼Ÿ ä¸‰ã€é¡¹ç›®æ·±åº¦è¿½é—®ï¼ˆ10åˆ†é’Ÿï¼‰ ç¦å»ºç§»åŠ¨ç®¡çº¿èµ„æºç®¡ç†ç³»ç»Ÿ èµ„æºæ‹“æ‰‘å…³ç³»ç®—æ³•çš„æ ¸å¿ƒé€»è¾‘æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•å®ç°å…‰ç¼†é“¾è·¯çº§è”æŸ¥è¯¢çš„ç§’çº§å“åº”ï¼Ÿ ç»“åˆSeataå’ŒRabbitMQè§£å†³åˆ†å¸ƒå¼äº‹åŠ¡æ—¶ï¼Œæ¶ˆæ¯é‡è¯•æœºåˆ¶çš„å…·ä½“å®ç°æ­¥éª¤æ˜¯ä»€ä¹ˆï¼Ÿ æŠ€æœ¯é€‰å‹ä¸æƒè¡¡ ä¸ºä»€ä¹ˆé€‰æ‹©ShardingSphere+ Elasticsearchçš„ç»„åˆå®ç°äº¿çº§æ•°æ®æŸ¥è¯¢ï¼Ÿæ˜¯å¦è€ƒè™‘è¿‡å…¶ä»–æ–¹æ¡ˆï¼ˆå¦‚ClickHouseï¼‰ï¼Ÿ åœ¨é™æµç­–ç•¥ä¸­ï¼ŒSentinelçš„QPSé™æµå’Œçº¿ç¨‹æ•°é™æµåˆ†åˆ«é€‚ç”¨äºä»€ä¹ˆåœºæ™¯ï¼Ÿ å››ã€ç»¼åˆèƒ½åŠ›ï¼ˆ2åˆ†é’Ÿï¼‰ è®¾è®¡æ¨¡å¼ä¸é‡æ„ ä½ åœ¨é¡¹ç›®ä¸­ç”¨è¿‡å“ªäº›è®¾è®¡æ¨¡å¼ï¼Ÿè¯·ä¸¾ä¾‹è¯´æ˜å·¥å‚æ¨¡å¼åœ¨Springä¸­çš„åº”ç”¨ã€‚ å¦‚ä½•é‡æ„ä¸€æ®µé‡å¤ä»£ç ï¼Ÿè¯·æè¿°é‡æ„çš„æ­¥éª¤å’Œæ³¨æ„äº‹é¡¹ã€‚ å­¦ä¹ ä¸åä½œ æœ€è¿‘å­¦ä¹ çš„ä¸€é¡¹æ–°æŠ€æœ¯æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•å¿«é€ŸæŒæ¡å¹¶åº”ç”¨åˆ°é¡¹ç›®ä¸­ï¼Ÿ åœ¨å›¢é˜Ÿåä½œä¸­ï¼Œå¦‚ä½•è§£å†³æŠ€æœ¯æ–¹æ¡ˆåˆ†æ­§ï¼ˆå¦‚åŒäº‹åšæŒä½¿ç”¨æ•ˆç‡ä½çš„å®ç°æ–¹å¼ï¼‰ï¼Ÿ ä»¥ä¸‹æ˜¯ä¸ºè‰¾æ¢¦ç§‹ç®€å†å®šåˆ¶çš„ åœºæ™¯é¢˜è¡¥å……ï¼Œç»“åˆå…¶é¡¹ç›®ç»éªŒå’ŒæŠ€æœ¯æ ˆï¼Œæ¨¡æ‹ŸçœŸå®ä¸šåŠ¡åœºæ™¯è€ƒå¯Ÿç»¼åˆèƒ½åŠ›ï¼š äº”ã€åœºæ™¯è®¾è®¡é¢˜ï¼ˆæ–°å¢ï¼‰åœºæ™¯1ï¼šåˆ†å¸ƒå¼äº‹åŠ¡å†²çªï¼ˆç»“åˆç¦å»ºç§»åŠ¨é¡¹ç›®ï¼‰èƒŒæ™¯ï¼šåœ¨èµ„æºè°ƒåº¦æ¥å£ä¸­ï¼Œä¸¤ä¸ªå¹¶å‘è¯·æ±‚åŒæ—¶ä¿®æ”¹åŒä¸€æ¡å…‰ç¼†çš„çŠ¶æ€ï¼ˆå¦‚â€œç©ºé—²â†’å ç”¨â€ï¼‰ï¼Œå¯¼è‡´æ•°æ®ä¸ä¸€è‡´ã€‚é—®é¢˜ï¼š å¦‚ä½•é€šè¿‡Seataçš„ATæ¨¡å¼è§£å†³æ­¤é—®é¢˜ï¼Ÿè¯·æè¿°åˆ†æ”¯äº‹åŠ¡æ³¨å†Œå’Œå…¨å±€é”æœºåˆ¶çš„ä½œç”¨ã€‚ å¦‚æœå› ç½‘ç»œæ³¢åŠ¨å¯¼è‡´Seata TCåè°ƒå¤±è´¥ï¼Œå¦‚ä½•ç»“åˆRabbitMQçš„æ¶ˆæ¯é‡è¯•ä¿è¯æœ€ç»ˆä¸€è‡´æ€§ï¼Ÿ è€ƒå¯Ÿç‚¹ï¼šåˆ†å¸ƒå¼äº‹åŠ¡è¾¹ç•Œåˆ’åˆ†ã€å¼‚å¸¸å¤„ç†ä¸è¡¥å¿æœºåˆ¶è®¾è®¡ã€‚ åœºæ™¯2ï¼šçªå‘æµé‡ä¸‹çš„ç³»ç»Ÿä¿æŠ¤èƒŒæ™¯ï¼šæŸæ¬¡èµ„æºæŸ¥è¯¢æ¥å£å› ä¿ƒé”€æ´»åŠ¨æµé‡çªå¢10å€ï¼ŒRedisç¼“å­˜å‡»ç©¿å¯¼è‡´æ•°æ®åº“è´Ÿè½½é£™å‡ã€‚é—®é¢˜ï¼š å¦‚ä½•é€šè¿‡Redis+Luaè„šæœ¬å®ç°åˆ†å¸ƒå¼é”æ§åˆ¶çƒ­ç‚¹Keyçš„é‡å»ºï¼Ÿ è‹¥ç¼“å­˜é›†ç¾¤å…¨éƒ¨å®•æœºï¼Œå¦‚ä½•é€šè¿‡Sentinelçš„ç†”æ–­é™çº§ç­–ç•¥é¿å…æ•°æ®åº“å´©æºƒï¼Ÿ è€ƒå¯Ÿç‚¹ï¼šé«˜å¹¶å‘åœºæ™¯ä¸‹çš„ç¼“å­˜è®¾è®¡ã€ç†”æ–­ç­–ç•¥ä¸å®¹ç¾æ„è¯†ã€‚ åœºæ™¯3ï¼šåˆ†åº“åˆ†è¡¨åçš„æ•°æ®è¿ç§»èƒŒæ™¯ï¼šå†å²èµ„æºè¡¨æŒ‰æœˆåˆ†ç‰‡åï¼Œéœ€å°†æ—§æ•°æ®è¿ç§»åˆ°æ–°åˆ†ç‰‡ç­–ç•¥ï¼ˆå¦‚ä»æŒ‰æ—¶é—´åˆ†ç‰‡æ”¹ä¸ºæŒ‰åŒºåŸŸ+æ—¶é—´åˆ†ç‰‡ï¼‰ã€‚é—®é¢˜ï¼š å¦‚ä½•è®¾è®¡æ•°æ®è¿ç§»æ–¹æ¡ˆä¿è¯ä¸šåŠ¡æ— æ„ŸçŸ¥ï¼Ÿæ˜¯å¦éœ€è¦åœæœºï¼Ÿ è¿ç§»è¿‡ç¨‹ä¸­å¦‚ä½•å¤„ç†æ–°æ—§æ•°æ®çš„åŒå†™ä¸€è‡´æ€§ï¼Ÿ è€ƒå¯Ÿç‚¹ï¼šåˆ†åº“åˆ†è¡¨è¿ç§»ç»éªŒã€æ•°æ®ä¸€è‡´æ€§ä¿éšœæ‰‹æ®µï¼ˆå¦‚å½±å­è¡¨ã€BinlogåŒæ­¥ï¼‰ã€‚ åœºæ™¯4ï¼šè·¨å›¢é˜Ÿåä½œå†²çªèƒŒæ™¯ï¼šå‰ç«¯å›¢é˜Ÿè¦æ±‚åç«¯åœ¨èµ„æºæŸ¥è¯¢æ¥å£ä¸­æ–°å¢ä¸€ä¸ªå­—æ®µï¼Œä½†è¯¥å­—æ®µéœ€å…³è”5å¼ è¡¨ä¸”è®¡ç®—è€—æ—¶ï¼Œå¯èƒ½å½±å“æ¥å£æ€§èƒ½ã€‚é—®é¢˜ï¼š å¦‚ä½•ä¸å‰ç«¯æ²Ÿé€šå¹³è¡¡éœ€æ±‚ä¸æ€§èƒ½ï¼Ÿ è‹¥å¿…é¡»å®ç°ï¼Œå¦‚ä½•é€šè¿‡ç¼“å­˜é¢„è®¡ç®—æˆ–å¼‚æ­¥åŠ è½½ä¼˜åŒ–å“åº”æ—¶é—´ï¼Ÿ è€ƒå¯Ÿç‚¹ï¼šæŠ€æœ¯æ–¹æ¡ˆæƒè¡¡èƒ½åŠ›ã€æ²Ÿé€šæŠ€å·§ä¸æ€§èƒ½ä¼˜åŒ–æ€è·¯ã€‚ åœºæ™¯5ï¼šçº¿ä¸Šæ•…éšœæ’æŸ¥ï¼ˆç»“åˆç®€å†ä¸­çš„æ€§èƒ½ä¼˜åŒ–æ¡ˆä¾‹ï¼‰èƒŒæ™¯ï¼šæŸå¤©ç›‘æ§æ˜¾ç¤ºèµ„æºæŸ¥è¯¢æ¥å£å“åº”æ—¶é—´ä»150msçªå¢è‡³3sï¼Œä½†Rediså’Œæ•°æ®åº“æŒ‡æ ‡æ­£å¸¸ã€‚é—®é¢˜ï¼š å¯èƒ½çš„æ•…éšœç‚¹æœ‰å“ªäº›ï¼Ÿå¦‚ä½•é€šè¿‡Arthasæˆ–æ—¥å¿—å¿«é€Ÿå®šä½ï¼Ÿ å¦‚æœå‘ç°æ˜¯ElasticsearchèšåˆæŸ¥è¯¢å˜æ…¢ï¼Œå¦‚ä½•ä¼˜åŒ–åˆ†ç‰‡ç­–ç•¥æˆ–æŸ¥è¯¢è¯­å¥ï¼Ÿ è€ƒå¯Ÿç‚¹ï¼šå…¨é“¾è·¯ç›‘æ§æ„è¯†ã€æ•…éšœæ’æŸ¥æ–¹æ³•è®ºä¸å·¥å…·ä½¿ç”¨ç†Ÿç»ƒåº¦ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://daiyafeigithub.github.io/simonzzz/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"é¢è¯•","slug":"é¢è¯•","permalink":"https://daiyafeigithub.github.io/simonzzz/tags/%E9%9D%A2%E8%AF%95/"}]},{"title":"é¢è¯•é¢˜","slug":"skills/interview/interview5","date":"2025-04-07T07:20:48.000Z","updated":"2025-04-07T07:20:48.000Z","comments":true,"path":"2025/04/07/skills/interview/interview5/","permalink":"https://daiyafeigithub.github.io/simonzzz/2025/04/07/skills/interview/interview5/","excerpt":"","text":"ä¸€ã€Spring Bootè‡ªåŠ¨é…ç½®çš„æ ¸å¿ƒè¿‡ç¨‹ï¼š å¯åŠ¨è§¦å‘ï¼šé€šè¿‡@EnableAutoConfigurationå¯ç”¨è‡ªåŠ¨é…ç½®ã€‚ åŠ è½½é…ç½®ç±»ï¼šä»META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.importsè¯»å–å€™é€‰é…ç½®ç±»ã€‚ æ¡ä»¶è¿‡æ»¤ï¼šåŸºäº@Conditionalç³»åˆ—æ³¨è§£ï¼ˆå¦‚@ConditionalOnClassã€@ConditionalOnMissingBeanï¼‰ç­›é€‰æœ‰æ•ˆé…ç½®ã€‚ åº”ç”¨é…ç½®ï¼šæŒ‰ä¼˜å…ˆçº§é¡ºåºå®ä¾‹åŒ–ç¬¦åˆæ¡ä»¶çš„Beanï¼Œå®Œæˆè‡ªåŠ¨è£…é…ã€‚ æ•´ä¸ªè¿‡ç¨‹éµå¾ªâ€çº¦å®šä¼˜äºé…ç½®â€ï¼Œå‡å°‘æ‰‹åŠ¨è®¾ç½®ï¼Œæå‡å¼€å‘æ•ˆç‡ã€‚ äºŒã€springbootæ‰“åŒ…æˆwarçš„æ–¹å¼å°†Spring Booté¡¹ç›®æ‰“åŒ…ä¸ºWARåªéœ€ä¸¤æ­¥ï¼š ä¿®æ”¹pom.xmlå°†æ‰“åŒ…æ–¹å¼æ”¹ä¸ºwarå¹¶æ·»åŠ providedèŒƒå›´çš„Tomcatä¾èµ–ï¼› è®©ä¸»ç±»ç»§æ‰¿SpringBootServletInitializerå¹¶é‡å†™configureæ–¹æ³•**ã€‚æœ€åç”¨mvn packageå‘½ä»¤ç”ŸæˆWARæ–‡ä»¶å³å¯éƒ¨ç½²åˆ°å¤–éƒ¨å®¹å™¨ã€‚ ä¸‰ã€springbootçš„æ ¸å¿ƒæ³¨è§£ @SpringBootApplicationï¼šç»„åˆäº†@Configurationã€@EnableAutoConfigurationå’Œ@ComponentScanä¸‰ä¸ªæ³¨è§£ï¼Œç”¨äºå¯åŠ¨ä¸€ä¸ªSpring Bootåº”ç”¨ã€‚ å››ã€springbootçš„å…¨å±€å¼‚å¸¸å¤„ç†Spring Boot å…¨å±€å¼‚å¸¸å¤„ç†çš„æ ¸å¿ƒå®ç°æ–¹å¼ï¼š @ControllerAdvice + @ExceptionHandlerå®šä¹‰å…¨å±€å¼‚å¸¸å¤„ç†ç±»ï¼Œç”¨ @ControllerAdvice æ ‡æ³¨ï¼Œå†…éƒ¨æ–¹æ³•ç”¨ @ExceptionHandler æ•è·ç‰¹å®šå¼‚å¸¸ã€‚ è¿”å›ç»Ÿä¸€ç»“æ„åœ¨å¤„ç†æ–¹æ³•ä¸­å°è£…ç»Ÿä¸€çš„é”™è¯¯å“åº”ï¼ˆå¦‚é”™è¯¯ç ã€é”™è¯¯ä¿¡æ¯ï¼‰ã€‚ è¦†ç›–é»˜è®¤å¼‚å¸¸å¤„ç†å¯è¦†ç›– Spring Boot é»˜è®¤çš„ /error å¤„ç†ï¼Œå®ç°è‡ªå®šä¹‰å¼‚å¸¸é¡µé¢æˆ– JSON å“åº”ã€‚ ç¤ºä¾‹ä»£ç ï¼š 123456789101112131415161718192021@ControllerAdvicepublic class GlobalExceptionHandler &#123; @ExceptionHandler(Exception.class) public ResponseEntity&lt;ErrorResponse&gt; handleException(Exception e) &#123; return ResponseEntity .status(500) .body(new ErrorResponse(500, e.getMessage())); &#125;&#125;``` ç‰¹ç‚¹ï¼š**ç®€å•æ³¨è§£é©±åŠ¨**ï¼Œ**ç»Ÿä¸€å¼‚å¸¸æ‹¦æˆª**ï¼Œ**æ”¯æŒ REST å’Œé¡µé¢**ã€‚## äº”ã€åœ¨ Spring Boot ä¸­è·å–é…ç½®æ–‡ä»¶ï¼ˆ`application.yml` æˆ– `application.properties`ï¼‰ä¸­çš„é…ç½®æœ‰ä»¥ä¸‹å‡ ç§å¸¸ç”¨æ–¹å¼ï¼š---### 1. **`@Value` æ³¨è§£ç›´æ¥æ³¨å…¥**```java@Value(&quot;$&#123;é…ç½®é”®å&#125;&quot;)private String configValue; ç¤ºä¾‹ï¼šé…ç½®æ–‡ä»¶ï¼š 1app.name=MyApp ä»£ç è·å–ï¼š 12@Value(&quot;$&#123;app.name&#125;&quot;)private String appName; 2. @ConfigurationProperties ç»‘å®šåˆ°å¯¹è±¡é€‚åˆåˆ†ç»„è·å–å¤šä¸ªé…ç½®é¡¹ã€‚æ­¥éª¤ï¼š å®šä¹‰é…ç½®ç±»ï¼š1234567@ConfigurationProperties(prefix = &quot;app&quot;) // æŒ‡å®šé…ç½®å‰ç¼€@Component // æˆ–é€šè¿‡@EnableConfigurationPropertieså¯ç”¨public class AppConfig &#123; private String name; private int version; // getter/setter&#125; é…ç½®æ–‡ä»¶ï¼š123app: name: MyApp version: 1 ç›´æ¥æ³¨å…¥ä½¿ç”¨ï¼š12@Autowiredprivate AppConfig appConfig; 3. é€šè¿‡ Environment å¯¹è±¡åŠ¨æ€è·å–1234@Autowiredprivate Environment env;String value = env.getProperty(&quot;é…ç½®é”®å&quot;); 4. @PropertySource è¯»å–è‡ªå®šä¹‰é…ç½®æ–‡ä»¶123456@Configuration@PropertySource(&quot;classpath:custom.properties&quot;)public class CustomConfig &#123; @Value(&quot;$&#123;custom.key&#125;&quot;) private String customValue;&#125; æ³¨æ„äº‹é¡¹ï¼š ä¼˜å…ˆçº§ï¼šSpring Boot é…ç½®åŠ è½½é¡ºåºä¸ºï¼šå‘½ä»¤è¡Œå‚æ•° &gt; application-&#123;profile&#125;.yml &gt; application.yml &gt; é»˜è®¤å€¼ã€‚ å¤šç¯å¢ƒé…ç½®ï¼šä½¿ç”¨ spring.profiles.active=dev æŒ‡å®šç¯å¢ƒï¼ˆå¦‚ application-dev.ymlï¼‰ã€‚ ç±»å‹å®‰å…¨ï¼šæ¨èä½¿ç”¨ @ConfigurationProperties é¿å…ç¡¬ç¼–ç å’Œç±»å‹é”™è¯¯ã€‚ é€‰æ‹©æ–¹å¼æ ¹æ®åœºæ™¯ï¼š ç®€å•å€¼ â†’ @Value åˆ†ç»„é…ç½® â†’ @ConfigurationProperties åŠ¨æ€è·å– â†’ Environment å…­ã€Spring Boot åŠ è½½ æ‰€æœ‰ç±»å‹é…ç½®æ–‡ä»¶ çš„é¡ºåºï¼ˆä¼˜å…ˆçº§ä»é«˜åˆ°ä½ï¼‰ï¼š1. å¤–éƒ¨é…ç½®ï¼ˆä¼˜å…ˆçº§æœ€é«˜ï¼‰ å‘½ä»¤è¡Œå‚æ•°ï¼ˆ--key=valueï¼Œå¦‚ java -jar app.jar --server.port=8081ï¼‰ æ“ä½œç³»ç»Ÿç¯å¢ƒå˜é‡ï¼ˆå¦‚ export SERVER_PORT=8081ï¼‰ Java ç³»ç»Ÿå±æ€§ï¼ˆ-Dkey=valueï¼Œå¦‚ -Dserver.port=8081ï¼‰ 2. å¤–éƒ¨é…ç½®æ–‡ä»¶ config/ ç›®å½•ä¸‹çš„é…ç½®æ–‡ä»¶ï¼ˆæŒ‰ä»¥ä¸‹é¡ºåºï¼‰ï¼š é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ /config/application.&#123;properties|yml&#125; é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ application.&#123;properties|yml&#125; classpath:/config/application.&#123;properties|yml&#125;ï¼ˆresources/config/ï¼‰ classpath:/application.&#123;properties|yml&#125;ï¼ˆresources/ï¼‰ 3. Profile ä¸“å±é…ç½® **application-&#123;profile&#125;.&#123;properties|yml&#125;**ï¼ˆå¦‚ application-dev.ymlï¼‰ é€šè¿‡ spring.profiles.active æŒ‡å®šç”Ÿæ•ˆçš„ Profileï¼ˆå¦‚ devã€prodï¼‰ 4. é»˜è®¤é…ç½®ï¼ˆä¼˜å…ˆçº§æœ€ä½ï¼‰ @PropertySource æŒ‡å®šçš„è‡ªå®šä¹‰æ–‡ä»¶ï¼ˆå¦‚ @PropertySource(&quot;classpath:custom.properties&quot;)ï¼‰ Spring Boot é»˜è®¤é…ç½®ï¼ˆå¦‚ SpringApplication.setDefaultPropertiesï¼‰ æ€»ç»“ï¼ˆåŠ è½½é¡ºåºï¼‰ï¼š å‘½ä»¤è¡Œå‚æ•° &gt; ç¯å¢ƒå˜é‡ &gt; Java ç³»ç»Ÿå±æ€§ å¤–éƒ¨ /config/ ç›®å½•é…ç½® &gt; å¤–éƒ¨æ ¹ç›®å½•é…ç½® &gt; classpath:/config/ &gt; classpath:/ **application-&#123;profile&#125;.&#123;properties|yml&#125;**ï¼ˆProfile ä¸“å±é…ç½®ï¼‰ @PropertySource è‡ªå®šä¹‰æ–‡ä»¶ &gt; Spring Boot é»˜è®¤å€¼ å…³é”®ç‚¹ï¼š ç›¸åŒé…ç½®ï¼ŒååŠ è½½çš„ä¼šè¦†ç›–å…ˆåŠ è½½çš„ã€‚ Profile æœºåˆ¶å…è®¸ä¸åŒç¯å¢ƒä½¿ç”¨ä¸åŒé…ç½®ï¼ˆå¦‚ devã€testã€prodï¼‰ã€‚ å¤–éƒ¨é…ç½®ä¼˜å…ˆçº§ &gt; JAR åŒ…å†…éƒ¨é…ç½®ï¼Œä¾¿äºéƒ¨ç½²æ—¶åŠ¨æ€è°ƒæ•´ã€‚ é€‚ç”¨äºï¼špropertiesã€ymlã€yaml ç­‰æ‰€æœ‰ Spring Boot æ”¯æŒçš„é…ç½®æ–‡ä»¶æ ¼å¼ã€‚ ä¸ƒã€åœ¨ Spring Bootï¼ˆç‰¹åˆ«æ˜¯ç»“åˆ Spring Cloud æ—¶ï¼‰ï¼Œ**bootstrap é…ç½®æ–‡ä»¶**çš„åŠ è½½é€»è¾‘å¦‚ä¸‹ï¼š ä¼˜å…ˆçº§æœ€é«˜ï¼šæ¯” application æ–‡ä»¶æ›´æ—©åŠ è½½ï¼Œç”¨äºç³»ç»Ÿçº§é…ç½®ï¼ˆå¦‚åŠ å¯†ä¿¡æ¯ã€Consul&#x2F;Nacos é…ç½®ä¸­å¿ƒè¿æ¥å‚æ•°ï¼‰ã€‚ åŠ è½½é¡ºåºï¼š å…ˆåŠ è½½ bootstrap.yml/propertiesï¼ˆæˆ– bootstrap-&#123;profile&#125;.ymlï¼‰ å†åŠ è½½ application.yml/properties å…¸å‹åœºæ™¯ï¼šé…ç½®ä¸­å¿ƒçš„åœ°å€ã€åŠ å¯†å¯†é’¥ã€Spring Cloud ç›¸å…³é…ç½®ï¼ˆå¦‚ spring.cloud.nacos.configï¼‰ã€‚ é»˜è®¤å…³é—­ï¼šéœ€ä¾èµ– spring-cloud-starter-bootstrapï¼ˆæ—§ç‰ˆï¼‰æˆ–é€šè¿‡ spring.config.use-legacy-processing=true å¯ç”¨ï¼ˆæ–°ç‰ˆ Spring Cloud 2020+ï¼‰ã€‚ ä¸€å¥è¯ï¼šbootstrap æ˜¯â€œé…ç½®çš„é…ç½®â€ï¼Œå…ˆäº application åŠ è½½ï¼Œé€‚åˆåˆå§‹åŒ–å…³é”®åŸºç¡€è®¾æ–½ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://daiyafeigithub.github.io/simonzzz/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"é¢è¯•","slug":"é¢è¯•","permalink":"https://daiyafeigithub.github.io/simonzzz/tags/%E9%9D%A2%E8%AF%95/"}]},{"title":"å¤šçº¿ç¨‹é¢è¯•é¢˜","slug":"skills/interview/interview3","date":"2025-04-07T07:20:48.000Z","updated":"2025-04-07T07:20:48.000Z","comments":true,"path":"2025/04/07/skills/interview/interview3/","permalink":"https://daiyafeigithub.github.io/simonzzz/2025/04/07/skills/interview/interview3/","excerpt":"","text":"ä¸€ã€åŸºç¡€çŸ¥è¯† ä»€ä¹ˆæ˜¯çº¿ç¨‹ï¼Ÿçº¿ç¨‹å’Œè¿›ç¨‹çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ çº¿ç¨‹æ˜¯ç¨‹åºæ‰§è¡Œæµçš„æœ€å°å•ä½ï¼Œä¸€ä¸ªè¿›ç¨‹å¯ä»¥åŒ…å«å¤šä¸ªçº¿ç¨‹ã€‚ åŒºåˆ«ï¼š è¿›ç¨‹æ˜¯èµ„æºåˆ†é…çš„åŸºæœ¬å•ä½ï¼Œçº¿ç¨‹æ˜¯ CPU è°ƒåº¦çš„åŸºæœ¬å•ä½ã€‚ çº¿ç¨‹å…±äº«è¿›ç¨‹çš„å†…å­˜ç©ºé—´ï¼Œè€Œè¿›ç¨‹æœ‰ç‹¬ç«‹çš„å†…å­˜ç©ºé—´ã€‚ çº¿ç¨‹é—´é€šä¿¡æ›´å®¹æ˜“ï¼Œè¿›ç¨‹é—´é€šä¿¡éœ€è¦ IPCï¼ˆå¦‚ç®¡é“ã€æ¶ˆæ¯é˜Ÿåˆ—ç­‰ï¼‰ã€‚ Java ä¸­å¦‚ä½•åˆ›å»ºçº¿ç¨‹ï¼Ÿæœ‰å‡ ç§æ–¹å¼ï¼Ÿåˆ†åˆ«æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ï¼Ÿ æ–¹å¼ï¼š ç»§æ‰¿ Thread ç±»å¹¶é‡å†™ run() æ–¹æ³•ã€‚ 12Thread t = new Thread(() -&gt; System.out.println(&quot;Thread running&quot;));t.start(); ä¼˜ç‚¹ï¼šç®€å•ç›´æ¥ï¼›ç¼ºç‚¹ï¼šç”±äº Java ä¸æ”¯æŒå¤šç»§æ‰¿ï¼Œé™åˆ¶äº†ç±»çš„æ‰©å±•æ€§ã€‚ å®ç° Runnable æ¥å£ã€‚ 12Runnable task = () -&gt; System.out.println(&quot;Runnable task&quot;);new Thread(task).start(); ä¼˜ç‚¹ï¼šæ›´çµæ´»ï¼Œæ”¯æŒå¤šç»§æ‰¿ï¼›ç¼ºç‚¹ï¼šæ— è¿”å›å€¼å’Œå¼‚å¸¸å¤„ç†èƒ½åŠ›ã€‚ ä½¿ç”¨ Callable å’Œ Futureã€‚ 1234ExecutorService executor = Executors.newSingleThreadExecutor();Future&lt;Integer&gt; result = executor.submit(() -&gt; 42);System.out.println(result.get());executor.shutdown(); ä¼˜ç‚¹ï¼šæ”¯æŒè¿”å›å€¼å’Œå¼‚å¸¸å¤„ç†ï¼›ç¼ºç‚¹ï¼šä¾èµ–çº¿ç¨‹æ± ã€‚ start() æ–¹æ³•å’Œ run() æ–¹æ³•çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ start() å¯åŠ¨æ–°çº¿ç¨‹å¹¶è°ƒç”¨ run() æ–¹æ³•ï¼Œè€Œç›´æ¥è°ƒç”¨ run() åªæ˜¯åœ¨å½“å‰çº¿ç¨‹ä¸­æ‰§è¡Œæ–¹æ³•ï¼Œä¸ä¼šå¯åŠ¨æ–°çº¿ç¨‹ã€‚ çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸæœ‰å“ªäº›çŠ¶æ€ï¼Ÿè¯·è¯¦ç»†æè¿°æ¯ä¸ªçŠ¶æ€åŠå…¶è½¬æ¢æ¡ä»¶ã€‚ çŠ¶æ€ï¼š Newï¼šçº¿ç¨‹è¢«åˆ›å»ºä½†å°šæœªå¯åŠ¨ã€‚ Runnableï¼šçº¿ç¨‹å·²å¯åŠ¨ï¼Œæ­£åœ¨ç­‰å¾… CPU æ—¶é—´ç‰‡ã€‚ Blocked&#x2F;Waitingï¼šçº¿ç¨‹å› ç­‰å¾…é”æˆ–èµ„æºè€Œé˜»å¡ã€‚ Timed Waitingï¼šçº¿ç¨‹å¤„äºç­‰å¾…çŠ¶æ€ï¼Œä½†è®¾ç½®äº†è¶…æ—¶æ—¶é—´ã€‚ Terminatedï¼šçº¿ç¨‹æ‰§è¡Œå®Œæ¯•æˆ–è¢«ç»ˆæ­¢ã€‚ ä»€ä¹ˆæ˜¯å®ˆæŠ¤çº¿ç¨‹ï¼ˆDaemon Threadï¼‰ï¼Ÿå¦‚ä½•è®¾ç½®å®ˆæŠ¤çº¿ç¨‹ï¼Ÿ å®ˆæŠ¤çº¿ç¨‹æ˜¯ä¸ºå…¶ä»–çº¿ç¨‹æä¾›æœåŠ¡çš„çº¿ç¨‹ï¼Œå½“æ‰€æœ‰ç”¨æˆ·çº¿ç¨‹ç»“æŸæ—¶ï¼Œå®ˆæŠ¤çº¿ç¨‹è‡ªåŠ¨ç»ˆæ­¢ã€‚ è®¾ç½®æ–¹æ³•ï¼šthread.setDaemon(true); å¦‚ä½•è·å–å½“å‰çº¿ç¨‹çš„å¼•ç”¨ï¼Ÿå¦‚ä½•è·å–ä¸»çº¿ç¨‹çš„å¼•ç”¨ï¼Ÿ è·å–å½“å‰çº¿ç¨‹ï¼šThread.currentThread(); è·å–ä¸»çº¿ç¨‹ï¼šé€šè¿‡ Thread.currentThread() åœ¨ä¸»çº¿ç¨‹ä¸­è°ƒç”¨å³å¯ã€‚ äºŒã€çº¿ç¨‹åŒæ­¥ä¸å¹¶å‘æ§åˆ¶ ä»€ä¹ˆæ˜¯çº¿ç¨‹å®‰å…¨ï¼Ÿä»€ä¹ˆæƒ…å†µä¸‹ä¼šå‡ºç°çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Ÿ çº¿ç¨‹å®‰å…¨æ˜¯æŒ‡å¤šä¸ªçº¿ç¨‹è®¿é—®å…±äº«èµ„æºæ—¶ï¼Œç¨‹åºèƒ½æ­£ç¡®è¿è¡Œè€Œä¸å‡ºç°æ•°æ®ä¸ä¸€è‡´çš„æƒ…å†µã€‚ å¸¸è§é—®é¢˜ï¼šç«æ€æ¡ä»¶ã€æ­»é”ã€æ´»é”ã€é¥¥é¥¿ã€‚ Java ä¸­æœ‰å“ªäº›å®ç°çº¿ç¨‹åŒæ­¥çš„æ–¹å¼ï¼Ÿ synchronized å…³é”®å­—ï¼šä¿®é¥°æ–¹æ³•æˆ–ä»£ç å—ï¼Œä¿è¯åŒä¸€æ—¶åˆ»åªæœ‰ä¸€ä¸ªçº¿ç¨‹è®¿é—®ã€‚ ReentrantLockï¼šæ˜¾å¼é”ï¼Œæ”¯æŒå…¬å¹³é”ã€å¯ä¸­æ–­é”ç­‰é«˜çº§åŠŸèƒ½ã€‚ ReadWriteLockï¼šå…è®¸å¤šä¸ªè¯»çº¿ç¨‹åŒæ—¶è®¿é—®ï¼Œä½†å†™çº¿ç¨‹ç‹¬å ã€‚ synchronized çš„é”æœºåˆ¶æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿå®ƒæœ‰å“ªäº›ä½¿ç”¨åœºæ™¯ï¼Ÿ å·¥ä½œåŸç†ï¼šåŸºäºå¯¹è±¡å¤´çš„ Monitor é”æœºåˆ¶ï¼Œç¡®ä¿åŒä¸€æ—¶åˆ»åªæœ‰ä¸€ä¸ªçº¿ç¨‹æŒæœ‰é”ã€‚ åœºæ™¯ï¼šä¿æŠ¤å…±äº«èµ„æºçš„è®¿é—®ï¼Œå¦‚è®¡æ•°å™¨ã€ç¼“å­˜ã€‚ synchronized å’Œ ReentrantLock çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿåœ¨ä»€ä¹ˆæƒ…å†µä¸‹é€‰æ‹©ä½¿ç”¨å®ƒä»¬ï¼Ÿ åŒºåˆ«ï¼š synchronized æ˜¯éšå¼é”ï¼Œè¯­æ³•ç®€å•ï¼›ReentrantLock æ˜¯æ˜¾å¼é”ï¼ŒåŠŸèƒ½å¼ºå¤§ã€‚ ReentrantLock æ”¯æŒå…¬å¹³é”ã€å¯ä¸­æ–­é”ã€å°è¯•é”ç­‰ç‰¹æ€§ã€‚ é€‰æ‹©ï¼šä¼˜å…ˆä½¿ç”¨ synchronizedï¼Œé™¤ééœ€è¦ ReentrantLock çš„é«˜çº§åŠŸèƒ½ã€‚ ä»€ä¹ˆæ˜¯æ­»é”ï¼Ÿå¦‚ä½•é¿å…æ­»é”ï¼Ÿ æ­»é”ï¼šå¤šä¸ªçº¿ç¨‹äº’ç›¸ç­‰å¾…å¯¹æ–¹é‡Šæ”¾èµ„æºï¼Œå¯¼è‡´æ— æ³•ç»§ç»­æ‰§è¡Œã€‚ é¿å…æ–¹æ³•ï¼š æŒ‰å›ºå®šé¡ºåºè·å–é”ã€‚ ä½¿ç”¨è¶…æ—¶æœºåˆ¶ï¼ˆå¦‚ tryLockï¼‰ã€‚ é¿å…åµŒå¥—é”ã€‚ ä»€ä¹ˆæ˜¯çº¿ç¨‹é—´çš„é€šä¿¡ï¼Ÿå¦‚ä½•å®ç°çº¿ç¨‹é—´çš„é€šä¿¡ï¼Ÿ çº¿ç¨‹é—´é€šä¿¡ï¼šé€šè¿‡å…±äº«å˜é‡æˆ–æ¶ˆæ¯ä¼ é€’åè°ƒçº¿ç¨‹è¡Œä¸ºã€‚ å®ç°æ–¹å¼ï¼š wait()ã€notify() å’Œ notifyAll()ã€‚ Condition æ¥å£ã€‚ ä»€ä¹ˆæ˜¯æ´»é”å’Œé¥¥é¥¿ï¼Ÿå®ƒä»¬ä¸æ­»é”æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ æ´»é”ï¼šçº¿ç¨‹ä¸æ–­å°è¯•æ“ä½œï¼Œä½†å§‹ç»ˆå¤±è´¥ã€‚ é¥¥é¥¿ï¼šæŸäº›çº¿ç¨‹é•¿æœŸå¾—ä¸åˆ°èµ„æºã€‚ åŒºåˆ«ï¼šæ­»é”æ˜¯çº¿ç¨‹äº’ç›¸ç­‰å¾…ï¼Œæ´»é”æ˜¯çº¿ç¨‹ä¸æ–­å°è¯•ï¼Œé¥¥é¥¿æ˜¯èµ„æºåˆ†é…ä¸å‡ã€‚ ä¸‰ã€é«˜çº§å¹¶å‘å·¥å…· Java å¹¶å‘åŒ…ï¼ˆjava.util.concurrentï¼‰æä¾›äº†å“ªäº›æ ¸å¿ƒå·¥å…·ç±»ï¼Ÿ çº¿ç¨‹æ± ï¼šExecutorServiceã€ThreadPoolExecutorã€‚ åŒæ­¥å·¥å…·ï¼šCountDownLatchã€CyclicBarrierã€Semaphoreã€‚ å¹¶å‘é›†åˆï¼šConcurrentHashMapã€CopyOnWriteArrayListã€‚ å¦‚ä½•ä½¿ç”¨çº¿ç¨‹æ± ï¼Ÿçº¿ç¨‹æ± æœ‰å“ªäº›æ ¸å¿ƒå‚æ•°ï¼Ÿå¦‚ä½•é…ç½®ä¸€ä¸ªåˆé€‚çš„çº¿ç¨‹æ± ï¼Ÿ æ ¸å¿ƒå‚æ•°ï¼š æ ¸å¿ƒçº¿ç¨‹æ•°ï¼ˆcorePoolSizeï¼‰ æœ€å¤§çº¿ç¨‹æ•°ï¼ˆmaximumPoolSizeï¼‰ é˜Ÿåˆ—å®¹é‡ï¼ˆworkQueueï¼‰ ç©ºé—²çº¿ç¨‹å­˜æ´»æ—¶é—´ï¼ˆkeepAliveTimeï¼‰ é…ç½®ï¼šæ ¹æ®ä»»åŠ¡ç±»å‹ï¼ˆCPU å¯†é›†å‹ã€IO å¯†é›†å‹ï¼‰è°ƒæ•´çº¿ç¨‹æ•°ã€‚ Future å’Œ CompletableFuture çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•ä½¿ç”¨å®ƒä»¬å¤„ç†å¼‚æ­¥ä»»åŠ¡ï¼Ÿ Futureï¼šåªæ”¯æŒç®€å•çš„å¼‚æ­¥ç»“æœè·å–ã€‚ CompletableFutureï¼šæ”¯æŒé“¾å¼è°ƒç”¨å’Œç»„åˆæ“ä½œã€‚ ç¤ºä¾‹ï¼š 123CompletableFuture.supplyAsync(() -&gt; &quot;Hello&quot;) .thenApply(s -&gt; s + &quot; World&quot;) .thenAccept(System.out::println); ä»€ä¹ˆæ˜¯ Fork&#x2F;Join æ¡†æ¶ï¼Ÿå®ƒçš„é€‚ç”¨åœºæ™¯æ˜¯ä»€ä¹ˆï¼Ÿ é€‚ç”¨åœºæ™¯ï¼šé€’å½’åˆ†æ²»é—®é¢˜ï¼Œå¦‚æ’åºã€æœç´¢ã€‚ Atomic ç±»çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿå¸¸è§çš„ Atomic ç±»æœ‰å“ªäº›ï¼Ÿ æä¾›åŸå­æ“ä½œï¼Œé¿å…é”å¼€é”€ã€‚ å¸¸è§ç±»ï¼šAtomicIntegerã€AtomicLongã€AtomicReferenceã€‚ ConcurrentHashMap å’Œæ™®é€š HashMap çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿå®ƒæ˜¯å¦‚ä½•å®ç°çº¿ç¨‹å®‰å…¨çš„ï¼Ÿ åŒºåˆ«ï¼šConcurrentHashMap æ”¯æŒå¹¶å‘è®¿é—®ï¼Œè€Œ HashMap ä¸æ”¯æŒã€‚ å®ç°ï¼šåˆ†æ®µé”ï¼ˆSegment Lockï¼‰æˆ– CAS æ“ä½œã€‚ CopyOnWriteArrayList æ˜¯ä»€ä¹ˆï¼Ÿå®ƒçš„é€‚ç”¨åœºæ™¯å’Œç¼ºç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ åœºæ™¯ï¼šè¯»å¤šå†™å°‘çš„åœºæ™¯ã€‚ ç¼ºç‚¹ï¼šå†™æ“ä½œä»£ä»·é«˜ï¼Œå ç”¨æ›´å¤šå†…å­˜ã€‚ å››ã€å¹¶å‘ç¼–ç¨‹ä¸­çš„å¸¸è§é—®é¢˜ ä»€ä¹ˆæ˜¯å¯è§æ€§ã€åŸå­æ€§å’Œæœ‰åºæ€§ï¼Ÿå¦‚ä½•ä¿è¯å®ƒä»¬ï¼Ÿ å¯è§æ€§ï¼šé€šè¿‡ volatile æˆ–é”ä¿è¯ã€‚ åŸå­æ€§ï¼šé€šè¿‡ synchronized æˆ– Atomic ç±»ä¿è¯ã€‚ æœ‰åºæ€§ï¼šé€šè¿‡ volatile æˆ– happens-before è§„åˆ™ä¿è¯ã€‚ volatile å…³é”®å­—çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿå®ƒèƒ½è§£å†³å“ªäº›é—®é¢˜ï¼Ÿ ä½œç”¨ï¼šä¿è¯å˜é‡çš„å¯è§æ€§å’Œç¦æ­¢æŒ‡ä»¤é‡æ’åºã€‚ è§£å†³é—®é¢˜ï¼šé¿å…å¤šçº¿ç¨‹ç¯å¢ƒä¸‹å˜é‡ä¸å¯è§æˆ–é‡æ’åºå¯¼è‡´çš„é—®é¢˜ã€‚ åŒé‡æ£€æŸ¥é”å®šï¼ˆDouble-Checked Lockingï¼‰æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨ volatile ä¿®é¥°å•ä¾‹å¯¹è±¡ï¼Ÿ é˜²æ­¢æŒ‡ä»¤é‡æ’åºå¯¼è‡´çš„åŠåˆå§‹åŒ–é—®é¢˜ã€‚ ä»€ä¹ˆæ˜¯ä¼ªå…±äº«ï¼ˆFalse Sharingï¼‰ï¼Ÿå¦‚ä½•é¿å…ä¼ªå…±äº«ï¼Ÿ é¿å…æ–¹æ³•ï¼šé€šè¿‡å¡«å……å­—èŠ‚ï¼ˆPaddingï¼‰è®©å˜é‡åˆ†å¸ƒåœ¨ä¸åŒç¼“å­˜è¡Œã€‚ å¦‚ä½•ä¼˜é›…åœ°åœæ­¢ä¸€ä¸ªçº¿ç¨‹ï¼Ÿæœ‰å“ªäº›æ–¹æ³•å¯ä»¥å®ç°ï¼Ÿ æ–¹æ³•ï¼š ä½¿ç”¨æ ‡å¿—ä½ã€‚ ä½¿ç”¨ interrupt() æ–¹æ³•ã€‚ çº¿ç¨‹ä¸­æ–­çš„ä¸‰ç§æ–¹å¼æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•æ­£ç¡®å¤„ç†ä¸­æ–­ï¼Ÿ æ–¹å¼ï¼š è°ƒç”¨ interrupt()ã€‚ æ£€æŸ¥ isInterrupted()ã€‚ æ•è· InterruptedExceptionã€‚ äº”ã€å®é™…åº”ç”¨åœºæ™¯ å¦‚ä½•è®¾è®¡ä¸€ä¸ªç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å‹ï¼Ÿæœ‰å“ªäº›å®ç°æ–¹å¼ï¼Ÿ å®ç°ï¼šä½¿ç”¨ BlockingQueue æˆ– synchronized + wait/notifyã€‚ å¦‚ä½•å®ç°ä¸€ä¸ªçº¿ç¨‹å®‰å…¨çš„å•ä¾‹æ¨¡å¼ï¼Ÿæœ‰å“ªäº›æ–¹æ³•ï¼Ÿ æ–¹æ³•ï¼š é¥¿æ±‰å¼ã€‚ æ‡’æ±‰å¼ + synchronizedã€‚ åŒé‡æ£€æŸ¥é”å®š + volatileã€‚ é™æ€å†…éƒ¨ç±»ã€‚ æšä¸¾ã€‚ ï¼ˆå‰©ä½™é—®é¢˜çš„ç­”æ¡ˆç•¥ï¼Œå¯ä»¥æ ¹æ®éœ€è¦ç»§ç»­è¡¥å……ã€‚ï¼‰","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://daiyafeigithub.github.io/simonzzz/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"Java","slug":"Java","permalink":"https://daiyafeigithub.github.io/simonzzz/tags/Java/"},{"name":"å¤šçº¿ç¨‹","slug":"å¤šçº¿ç¨‹","permalink":"https://daiyafeigithub.github.io/simonzzz/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/"},{"name":"çº¿ç¨‹æ± ","slug":"çº¿ç¨‹æ± ","permalink":"https://daiyafeigithub.github.io/simonzzz/tags/%E7%BA%BF%E7%A8%8B%E6%B1%A0/"}]},{"title":"Mysqlå¦‚ä½•ä¼˜åŒ–æ…¢SQL","slug":"skills/mysql/sqlBeBetterInMysql","date":"2025-04-07T07:20:48.000Z","updated":"2025-04-07T07:20:48.000Z","comments":true,"path":"2025/04/07/skills/mysql/sqlBeBetterInMysql/","permalink":"https://daiyafeigithub.github.io/simonzzz/2025/04/07/skills/mysql/sqlBeBetterInMysql/","excerpt":"","text":"åœ¨ MySQL ä¸­ï¼Œé’ˆå¯¹æ…¢ SQL çš„ä¼˜åŒ–æ˜¯ä¸€ä¸ªå¸¸è§çš„æ€§èƒ½è°ƒä¼˜ä»»åŠ¡ã€‚æ…¢ SQL é€šå¸¸æ˜¯ç”±äºæŸ¥è¯¢æ•ˆç‡ä½ä¸‹ã€ç´¢å¼•ç¼ºå¤±ã€æ•°æ®é‡è¿‡å¤§æˆ–æ•°æ®åº“è®¾è®¡ä¸åˆç†ç­‰åŸå› å¼•èµ·çš„ã€‚ä»¥ä¸‹æ˜¯ä¼˜åŒ–æ…¢ SQL çš„è¯¦ç»†æ­¥éª¤å’Œæ–¹æ³•ï¼š 1. å®šä½æ…¢ SQL(1) å¼€å¯æ…¢æŸ¥è¯¢æ—¥å¿—MySQL æä¾›äº†æ…¢æŸ¥è¯¢æ—¥å¿—åŠŸèƒ½ï¼Œå¯ä»¥è®°å½•æ‰§è¡Œæ—¶é—´è¶…è¿‡æŒ‡å®šé˜ˆå€¼çš„ SQL è¯­å¥ã€‚ é…ç½®å‚æ•°ï¼š1234567891011-- æŸ¥çœ‹å½“å‰æ…¢æŸ¥è¯¢æ—¥å¿—æ˜¯å¦å¼€å¯SHOW VARIABLES LIKE &#x27;slow_query_log&#x27;;-- è®¾ç½®æ…¢æŸ¥è¯¢æ—¥å¿—è·¯å¾„SET GLOBAL slow_query_log_file = &#x27;/path/to/slow_query.log&#x27;;-- è®¾ç½®æ…¢æŸ¥è¯¢æ—¶é—´é˜ˆå€¼ï¼ˆå•ä½ï¼šç§’ï¼‰SET GLOBAL long_query_time = 1;-- å¼€å¯æ…¢æŸ¥è¯¢æ—¥å¿—SET GLOBAL slow_query_log = &#x27;ON&#x27;; æ…¢æŸ¥è¯¢æ—¥å¿—ä¼šè®°å½•æ‰§è¡Œæ—¶é—´è¶…è¿‡ long_query_time çš„ SQLã€‚ (2) ä½¿ç”¨ EXPLAIN åˆ†ææŸ¥è¯¢è®¡åˆ’é€šè¿‡ EXPLAIN å‘½ä»¤å¯ä»¥æŸ¥çœ‹ SQL çš„æ‰§è¡Œè®¡åˆ’ï¼Œåˆ†ææŸ¥è¯¢æ˜¯å¦ä½¿ç”¨äº†ç´¢å¼•ä»¥åŠæ‰«æäº†å¤šå°‘è¡Œæ•°æ®ã€‚ 1EXPLAIN SELECT * FROM table_name WHERE column_name = &#x27;value&#x27;; é‡ç‚¹å…³æ³¨ä»¥ä¸‹å­—æ®µï¼š typeï¼šæŸ¥è¯¢ç±»å‹ï¼ˆå¦‚ ALL è¡¨ç¤ºå…¨è¡¨æ‰«æï¼Œindex è¡¨ç¤ºç´¢å¼•æ‰«æï¼Œref è¡¨ç¤ºä½¿ç”¨ç´¢å¼•æŸ¥æ‰¾ï¼‰ã€‚ rowsï¼šæ‰«æçš„è¡Œæ•°ï¼Œè¶Šå°è¶Šå¥½ã€‚ Extraï¼šé¢å¤–ä¿¡æ¯ï¼ˆå¦‚ Using whereã€Using filesortã€Using temporary ç­‰ï¼Œå¯èƒ½è¡¨æ˜æ€§èƒ½é—®é¢˜ï¼‰ã€‚ 2. ä¼˜åŒ– SQL æŸ¥è¯¢(1) ä½¿ç”¨åˆé€‚çš„ç´¢å¼• åˆ›å»ºç´¢å¼•ï¼š åœ¨ç»å¸¸ç”¨äºè¿‡æ»¤ï¼ˆWHEREï¼‰ã€æ’åºï¼ˆORDER BYï¼‰æˆ–è¿æ¥ï¼ˆJOINï¼‰çš„åˆ—ä¸Šåˆ›å»ºç´¢å¼•ã€‚ ç¤ºä¾‹ï¼š1CREATE INDEX idx_column_name ON table_name(column_name); å¤åˆç´¢å¼•ï¼š å¦‚æœæŸ¥è¯¢æ¶‰åŠå¤šä¸ªæ¡ä»¶ï¼Œå¯ä»¥åˆ›å»ºå¤åˆç´¢å¼•ï¼ˆè”åˆç´¢å¼•ï¼‰ï¼Œä½†è¦æ³¨æ„ç´¢å¼•åˆ—çš„é¡ºåºã€‚ ç¤ºä¾‹ï¼š1CREATE INDEX idx_col1_col2 ON table_name(col1, col2); (2) é¿å…å…¨è¡¨æ‰«æ å‡å°‘ä¸å¿…è¦çš„åˆ—ï¼š åªæŸ¥è¯¢éœ€è¦çš„åˆ—ï¼Œé¿å…ä½¿ç”¨ SELECT *ã€‚ ç¤ºä¾‹ï¼š1SELECT col1, col2 FROM table_name WHERE condition; é™åˆ¶è¿”å›è¡Œæ•°ï¼š ä½¿ç”¨ LIMIT é™åˆ¶è¿”å›çš„è¡Œæ•°ï¼Œå°¤å…¶æ˜¯åˆ†é¡µæŸ¥è¯¢æ—¶ã€‚ ç¤ºä¾‹ï¼š1SELECT * FROM table_name WHERE condition LIMIT 10; (3) ä¼˜åŒ– JOIN æ“ä½œ ç¡®ä¿è¿æ¥åˆ—æœ‰ç´¢å¼•ï¼š åœ¨ JOIN æ“ä½œä¸­ï¼Œç¡®ä¿è¿æ¥æ¡ä»¶çš„åˆ—ä¸Šæœ‰ç´¢å¼•ã€‚ é¿å…ç¬›å¡å°”ç§¯ï¼š ç¡®ä¿ JOIN æ¡ä»¶æ˜ç¡®ï¼Œé¿å…æ— æ¡ä»¶è¿æ¥å¯¼è‡´çš„ç¬›å¡å°”ç§¯ã€‚ (4) é¿å…å¤æ‚çš„å­æŸ¥è¯¢ æ”¹å†™å­æŸ¥è¯¢ä¸º JOINï¼š å­æŸ¥è¯¢å¯èƒ½ä¼šå¯¼è‡´æ€§èƒ½é—®é¢˜ï¼Œå°½é‡å°†å…¶æ”¹å†™ä¸º JOINã€‚ ç¤ºä¾‹ï¼š12345678-- åŸå§‹å­æŸ¥è¯¢SELECT * FROM table1 WHERE id IN (SELECT id FROM table2 WHERE condition);-- æ”¹å†™ä¸º JOINSELECT table1.* FROM table1 JOIN table2 ON table1.id = table2.id WHERE table2.condition; (5) ä½¿ç”¨è¦†ç›–ç´¢å¼• è¦†ç›–ç´¢å¼•æ˜¯æŒ‡æŸ¥è¯¢çš„æ‰€æœ‰åˆ—éƒ½åŒ…å«åœ¨ç´¢å¼•ä¸­ï¼Œä»è€Œé¿å…å›è¡¨æ“ä½œã€‚ ç¤ºä¾‹ï¼š12-- å‡è®¾æœ‰ä¸€ä¸ªå¤åˆç´¢å¼• (col1, col2)SELECT col1, col2 FROM table_name WHERE col1 = &#x27;value&#x27;; 3. æ•°æ®åº“å±‚é¢ä¼˜åŒ–(1) è°ƒæ•´ MySQL é…ç½® è°ƒæ•´ç¼“å†²åŒºå¤§å°ï¼š å¢åŠ  innodb_buffer_pool_sizeï¼Œæå‡ InnoDB è¡¨çš„æŸ¥è¯¢æ€§èƒ½ã€‚ ç¤ºä¾‹ï¼š1SET GLOBAL innodb_buffer_pool_size = 4G; ä¼˜åŒ–æŸ¥è¯¢ç¼“å­˜ï¼ˆMySQL 8.0 å·²ç§»é™¤ï¼‰ï¼š å¦‚æœä½¿ç”¨çš„æ˜¯ MySQL 5.x ç‰ˆæœ¬ï¼Œå¯ä»¥å¯ç”¨æŸ¥è¯¢ç¼“å­˜ã€‚ ç¤ºä¾‹ï¼š12SET GLOBAL query_cache_type = 1;SET GLOBAL query_cache_size = 64M; (2) åˆ†åŒºè¡¨ å¯¹äºå¤§è¡¨ï¼Œå¯ä»¥ä½¿ç”¨åˆ†åŒºè¡¨æ¥æé«˜æŸ¥è¯¢æ•ˆç‡ã€‚ ç¤ºä¾‹ï¼š1234567CREATE TABLE partitioned_table ( id INT, created_at DATE) PARTITION BY RANGE (YEAR(created_at)) ( PARTITION p2020 VALUES LESS THAN (2021), PARTITION p2021 VALUES LESS THAN (2022)); (3) æ•°æ®å½’æ¡£ å°†å†å²æ•°æ®è¿ç§»åˆ°å½’æ¡£è¡¨ä¸­ï¼Œå‡å°‘ä¸»è¡¨çš„æ•°æ®é‡ã€‚ 4. åº”ç”¨å±‚é¢ä¼˜åŒ–(1) ç¼“å­˜æŸ¥è¯¢ç»“æœ ä½¿ç”¨åº”ç”¨å±‚ç¼“å­˜ï¼ˆå¦‚ Redisã€Memcachedï¼‰å­˜å‚¨é¢‘ç¹æŸ¥è¯¢çš„ç»“æœï¼Œå‡å°‘æ•°æ®åº“å‹åŠ›ã€‚ (2) å¼‚æ­¥å¤„ç† å¯¹äºè€—æ—¶çš„æŸ¥è¯¢æˆ–å†™æ“ä½œï¼Œå¯ä»¥é‡‡ç”¨å¼‚æ­¥æ–¹å¼å¤„ç†ï¼Œé¿å…é˜»å¡ä¸»çº¿ç¨‹ã€‚ (3) æ‰¹é‡æ“ä½œ å¯¹äºå¤§é‡æ•°æ®çš„æ’å…¥æˆ–æ›´æ–°æ“ä½œï¼Œå°½é‡é‡‡ç”¨æ‰¹é‡å¤„ç†ï¼Œå‡å°‘å•æ¡è¯­å¥çš„å¼€é”€ã€‚ 5. ç›‘æ§ä¸æµ‹è¯•(1) ä½¿ç”¨æ€§èƒ½ç›‘æ§å·¥å…· ä½¿ç”¨å·¥å…·ï¼ˆå¦‚ MySQL è‡ªå¸¦çš„ Performance Schema æˆ–ç¬¬ä¸‰æ–¹å·¥å…·å¦‚ pt-query-digestï¼‰åˆ†ææ…¢æŸ¥è¯¢ã€‚ ç¤ºä¾‹ï¼š1SELECT * FROM performance_schema.events_statements_summary_by_digest; (2) æµ‹è¯•ä¼˜åŒ–æ•ˆæœ ä½¿ç”¨ EXPLAIN å’Œ SHOW PROFILES åˆ†æä¼˜åŒ–å‰åçš„æŸ¥è¯¢æ€§èƒ½ã€‚ ç¤ºä¾‹ï¼š1SHOW PROFILES; æ€»ç»“ä¼˜åŒ–æ…¢ SQL æ˜¯ä¸€ä¸ªç³»ç»Ÿæ€§å·¥ç¨‹ï¼Œé€šå¸¸éœ€è¦ä»ä»¥ä¸‹å‡ ä¸ªæ–¹é¢å…¥æ‰‹ï¼š å®šä½é—®é¢˜ï¼šé€šè¿‡æ…¢æŸ¥è¯¢æ—¥å¿—å’Œ EXPLAIN æ‰¾åˆ°ç“¶é¢ˆã€‚ ä¼˜åŒ–æŸ¥è¯¢ï¼šåˆç†ä½¿ç”¨ç´¢å¼•ã€é¿å…å…¨è¡¨æ‰«æã€æ”¹å†™å¤æ‚æŸ¥è¯¢ã€‚ è°ƒæ•´é…ç½®ï¼šä¼˜åŒ– MySQL å‚æ•°å’Œè¡¨ç»“æ„ã€‚ åº”ç”¨ä¼˜åŒ–ï¼šå¼•å…¥ç¼“å­˜ã€å¼‚æ­¥å¤„ç†ç­‰æ‰‹æ®µå‡è½»æ•°æ®åº“å‹åŠ›ã€‚ é€šè¿‡ä»¥ä¸Šæ–¹æ³•ï¼Œå¯ä»¥æœ‰æ•ˆæå‡æ…¢ SQL çš„æ‰§è¡Œæ•ˆç‡ï¼Œæ”¹å–„æ•°æ®åº“çš„æ•´ä½“æ€§èƒ½ã€‚å¦‚æœä»æœ‰å…·ä½“é—®é¢˜ï¼Œè¯·æä¾› SQL å’Œè¡¨ç»“æ„ï¼Œæˆ‘å¯ä»¥è¿›ä¸€æ­¥åˆ†æï¼","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://daiyafeigithub.github.io/simonzzz/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"MySql","slug":"MySql","permalink":"https://daiyafeigithub.github.io/simonzzz/tags/MySql/"}]},{"title":"å¤šçº¿ç¨‹å¼€å‘","slug":"skills/interview/interview2","date":"2025-04-07T07:10:13.000Z","updated":"2025-04-07T07:10:13.000Z","comments":true,"path":"2025/04/07/skills/interview/interview2/","permalink":"https://daiyafeigithub.github.io/simonzzz/2025/04/07/skills/interview/interview2/","excerpt":"","text":"å¤šçº¿ç¨‹ä½¿ç”¨123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144package basic.multipleThread;import java.util.concurrent.*;public class ThreadPool &#123; private void makeThreadPool() &#123; // ç›´æ¥å¯åŠ¨çº¿ç¨‹çš„æ–¹å¼ï¼ˆä¸æ¨èï¼‰ ThreadExtend threadExtend = new ThreadExtend(); threadExtend.start(); ThreadRunnable threadRunable = new ThreadRunnable(); Thread thread = new Thread(threadRunable); thread.start(); ThreadCallable threadCallable = new ThreadCallable(); FutureTask&lt;String&gt; futureTask = new FutureTask&lt;&gt;(threadCallable); try &#123; futureTask.run(); // æˆ–è€…ä½¿ç”¨çº¿ç¨‹æ± æ¥æ‰§è¡Œ String result = futureTask.get(); System.out.println(&quot;Callable Result: &quot; + result); &#125; catch (InterruptedException | ExecutionException e) &#123; e.printStackTrace(); &#125; &#125; private void createThreadPoolExamples() &#123; // 1. ä½¿ç”¨ FixedThreadPool ExecutorService fixedThreadPool = Executors.newFixedThreadPool(3); fixedThreadPool.submit(new ThreadExtend()); fixedThreadPool.submit(new ThreadRunnable()); Future&lt;String&gt; futureFromFixedThreadPool = fixedThreadPool.submit(new ThreadCallable()); try &#123; String result = futureFromFixedThreadPool.get(5, TimeUnit.SECONDS); System.out.println(&quot;FixedThreadPool Callable Result: &quot; + result); &#125; catch (InterruptedException | ExecutionException | TimeoutException e) &#123; e.printStackTrace(); &#125; finally &#123; fixedThreadPool.shutdown(); &#125; // 2. ä½¿ç”¨ CachedThreadPool ExecutorService cachedThreadPool = Executors.newCachedThreadPool(); cachedThreadPool.submit(new ThreadExtend()); cachedThreadPool.submit(new ThreadRunnable()); Future&lt;String&gt; futureFromCachedThreadPool = cachedThreadPool.submit(new ThreadCallable()); try &#123; String result = futureFromCachedThreadPool.get(5, TimeUnit.SECONDS); System.out.println(&quot;CachedThreadPool Callable Result: &quot; + result); &#125; catch (InterruptedException | ExecutionException | TimeoutException e) &#123; e.printStackTrace(); &#125; finally &#123; cachedThreadPool.shutdown(); &#125; // 3. ä½¿ç”¨ SingleThreadExecutor ExecutorService singleThreadExecutor = Executors.newSingleThreadExecutor(); singleThreadExecutor.submit(new ThreadExtend()); singleThreadExecutor.submit(new ThreadRunnable()); Future&lt;String&gt; futureFromSingleThreadExecutor = singleThreadExecutor.submit(new ThreadCallable()); try &#123; String result = futureFromSingleThreadExecutor.get(5, TimeUnit.SECONDS); System.out.println(&quot;SingleThreadExecutor Callable Result: &quot; + result); &#125; catch (InterruptedException | ExecutionException | TimeoutException e) &#123; e.printStackTrace(); &#125; finally &#123; singleThreadExecutor.shutdown(); &#125; // 4. ä½¿ç”¨ ScheduledThreadPool ScheduledExecutorService scheduledThreadPool = Executors.newScheduledThreadPool(3); scheduledThreadPool.schedule(new ThreadExtend(), 1, TimeUnit.SECONDS); scheduledThreadPool.schedule(new ThreadRunnable(), 1, TimeUnit.SECONDS); ScheduledFuture&lt;String&gt; futureFromScheduledThreadPool = scheduledThreadPool.schedule(new ThreadCallable(), 1, TimeUnit.SECONDS); try &#123; String result = futureFromScheduledThreadPool.get(5, TimeUnit.SECONDS); System.out.println(&quot;ScheduledThreadPool Callable Result: &quot; + result); &#125; catch (InterruptedException | ExecutionException | TimeoutException e) &#123; e.printStackTrace(); &#125; finally &#123; scheduledThreadPool.shutdown(); &#125; // 5. ä½¿ç”¨ WorkStealingPool ExecutorService workStealingPool = Executors.newWorkStealingPool(); workStealingPool.submit(new ThreadExtend()); workStealingPool.submit(new ThreadRunnable()); Future&lt;String&gt; futureFromWorkStealingPool = workStealingPool.submit(new ThreadCallable()); try &#123; String result = futureFromWorkStealingPool.get(5, TimeUnit.SECONDS); System.out.println(&quot;WorkStealingPool Callable Result: &quot; + result); &#125; catch (InterruptedException | ExecutionException | TimeoutException e) &#123; e.printStackTrace(); &#125; finally &#123; workStealingPool.shutdown(); &#125; &#125; public static void main(String[] args) &#123; ThreadPool threadPool = new ThreadPool(); threadPool.makeThreadPool(); threadPool.createThreadPoolExamples(); &#125;&#125;// ç¤ºä¾‹å®ç°ï¼šThreadExtendclass ThreadExtend extends Thread &#123; @Override public void run() &#123; System.out.println(&quot;ThreadExtend is running...&quot;); // æ¨¡æ‹Ÿä»»åŠ¡é€»è¾‘ try &#123; Thread.sleep(1000); &#125; catch (InterruptedException e) &#123; Thread.currentThread().interrupt(); System.err.println(&quot;ThreadExtend was interrupted: &quot; + e.getMessage()); &#125; &#125;&#125;// ç¤ºä¾‹å®ç°ï¼šThreadRunnableclass ThreadRunnable implements Runnable &#123; @Override public void run() &#123; System.out.println(&quot;ThreadRunnable is running...&quot;); // æ¨¡æ‹Ÿä»»åŠ¡é€»è¾‘ try &#123; Thread.sleep(1000); &#125; catch (InterruptedException e) &#123; Thread.currentThread().interrupt(); System.err.println(&quot;ThreadRunnable was interrupted: &quot; + e.getMessage()); &#125; &#125;&#125;// ç¤ºä¾‹å®ç°ï¼šThreadCallableclass ThreadCallable implements Callable&lt;String&gt; &#123; @Override public String call() throws Exception &#123; System.out.println(&quot;ThreadCallable is running...&quot;); // æ¨¡æ‹Ÿä»»åŠ¡é€»è¾‘ Thread.sleep(1000); return &quot;Callable Task Completed&quot;; &#125;&#125; ä¼˜åŒ–ç‚¹æ€»ç»“ å¼‚å¸¸å¤„ç†å¢å¼ºï¼šä¸º Future.get() æ–¹æ³•æ·»åŠ è¶…æ—¶æœºåˆ¶ï¼Œå¹¶æ•è·å¯èƒ½çš„å¼‚å¸¸ï¼ˆå¦‚ TimeoutException å’Œ ExecutionExceptionï¼‰ï¼Œç¡®ä¿ç¨‹åºçš„å¥å£®æ€§ã€‚ èµ„æºç®¡ç†æ”¹è¿›ï¼šåœ¨ finally å—ä¸­è°ƒç”¨ executor.shutdown()ï¼Œç¡®ä¿çº¿ç¨‹æ± åœ¨ä»»åŠ¡å®Œæˆåè¢«æ­£ç¡®å…³é—­ã€‚ å¤šç§çº¿ç¨‹æ± åˆ›å»ºæ–¹å¼ï¼šå±•ç¤ºäº† FixedThreadPoolã€CachedThreadPoolã€SingleThreadExecutorã€ScheduledThreadPool å’Œ WorkStealingPool äº”ç§åˆ›å»ºçº¿ç¨‹æ± çš„æ–¹å¼ï¼Œå¹¶å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨è¿™äº›çº¿ç¨‹æ± æ¥æäº¤ä»»åŠ¡ã€‚ ä»£ç å°è£…æ€§æå‡ï¼šå°†çº¿ç¨‹ä»»åŠ¡çš„å¯åŠ¨é€»è¾‘å°è£…åˆ° ThreadPool ç±»ä¸­ï¼Œæé«˜ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://daiyafeigithub.github.io/simonzzz/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"Java","slug":"Java","permalink":"https://daiyafeigithub.github.io/simonzzz/tags/Java/"},{"name":"å¤šçº¿ç¨‹","slug":"å¤šçº¿ç¨‹","permalink":"https://daiyafeigithub.github.io/simonzzz/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/"},{"name":"çº¿ç¨‹æ± ","slug":"çº¿ç¨‹æ± ","permalink":"https://daiyafeigithub.github.io/simonzzz/tags/%E7%BA%BF%E7%A8%8B%E6%B1%A0/"}]},{"title":"Java å¹¶å‘å·¥å…·ï¼šCountDownLatch ä¸ CyclicBarrier è¯¦è§£","slug":"skills/point/countdownlatchAndCycleBarrier","date":"2025-01-08T06:10:11.000Z","updated":"2025-01-08T06:10:11.000Z","comments":true,"path":"2025/01/08/skills/point/countdownlatchAndCycleBarrier/","permalink":"https://daiyafeigithub.github.io/simonzzz/2025/01/08/skills/point/countdownlatchAndCycleBarrier/","excerpt":"","text":"Java å¹¶å‘å·¥å…·ï¼šCountDownLatch ä¸ CyclicBarrier è¯¦è§£åœ¨å¤šçº¿ç¨‹ç¼–ç¨‹ä¸­ï¼Œåè°ƒå¤šä¸ªçº¿ç¨‹çš„æ‰§è¡Œé¡ºåºæ˜¯ä¸€ä¸ªå¸¸è§çš„éœ€æ±‚ã€‚CountDownLatch å’Œ CyclicBarrier æ˜¯ Java å¹¶å‘åŒ… java.util.concurrent æä¾›çš„ä¸¤ä¸ªåŒæ­¥å·¥å…·ç±»ï¼Œå®ƒä»¬å¯ä»¥å¸®åŠ©æˆ‘ä»¬è½»æ¾å®ç°çº¿ç¨‹é—´çš„åä½œã€‚æœ¬æ–‡å°†é€šè¿‡å®é™…ä¾‹å­è¯¦ç»†è®²è§£ä¸¤è€…çš„åŸç†ã€åŒºåˆ«ä»¥åŠé€‚ç”¨åœºæ™¯ã€‚ ä¸€ã€CountDownLatch è®²è§£1. CountDownLatch çš„æ ¸å¿ƒæ¦‚å¿µCountDownLatch æ˜¯ä¸€ä¸ªåŒæ­¥å·¥å…·ç±»ï¼Œå…è®¸ä¸€ä¸ªæˆ–å¤šä¸ªçº¿ç¨‹ç­‰å¾…å…¶ä»–çº¿ç¨‹å®Œæˆä¸€ç³»åˆ—æ“ä½œåç»§ç»­æ‰§è¡Œã€‚å®ƒçš„æ ¸å¿ƒæ˜¯åŸºäºä¸€ä¸ªè®¡æ•°å™¨ï¼š åˆå§‹å€¼ä¸ºæŒ‡å®šçš„è®¡æ•°å€¼ï¼ˆcountï¼‰ã€‚ æ¯æ¬¡è°ƒç”¨ countDown() æ–¹æ³•æ—¶ï¼Œè®¡æ•°å™¨å‡ 1ã€‚ å½“è®¡æ•°å™¨å‡åˆ° 0 æ—¶ï¼Œæ‰€æœ‰ç­‰å¾…çš„çº¿ç¨‹ä¼šè¢«å”¤é†’å¹¶ç»§ç»­æ‰§è¡Œã€‚ ç‰¹ç‚¹ï¼š è®¡æ•°å™¨ä¸å¯é‡ç½®ï¼Œåªèƒ½ä½¿ç”¨ä¸€æ¬¡ã€‚ ä¸»è¦ç”¨äºâ€œä¸€ä¸ªçº¿ç¨‹ç­‰å¾…å¤šä¸ªçº¿ç¨‹å®Œæˆä»»åŠ¡â€çš„åœºæ™¯ã€‚ 2. CountDownLatch çš„å…¸å‹åº”ç”¨åœºæ™¯å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªç‰©æµç³»ç»Ÿï¼Œä¸»çº¿ç¨‹éœ€è¦ç­‰å¾…ä¸‰ä¸ªä»“åº“åˆ†åˆ«å®Œæˆè´§ç‰©å‡†å¤‡åæ‰èƒ½å¯åŠ¨è¿è¾“ä»»åŠ¡ã€‚è¿™ç§åœºæ™¯éå¸¸é€‚åˆä½¿ç”¨ CountDownLatchã€‚ 3. ç¤ºä¾‹ä»£ç ä»¥ä¸‹æ˜¯ä¸€ä¸ªå®Œæ•´çš„ CountDownLatch ä½¿ç”¨ç¤ºä¾‹ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647import java.util.concurrent.CountDownLatch;public class LogisticsSystemWithCountDownLatch &#123; public static void main(String[] args) &#123; // åˆ›å»ºä¸€ä¸ª CountDownLatchï¼Œåˆå§‹è®¡æ•°ä¸º 3ï¼ˆä»£è¡¨ 3 ä¸ªä»“åº“ï¼‰ CountDownLatch latch = new CountDownLatch(3); // å¯åŠ¨ 3 ä¸ªä»“åº“çº¿ç¨‹ for (int i = 1; i &lt;= 3; i++) &#123; new Thread(new WarehouseTask(i, latch)).start(); &#125; try &#123; // ä¸»çº¿ç¨‹ç­‰å¾…æ‰€æœ‰ä»“åº“å®Œæˆä»»åŠ¡ latch.await(); System.out.println(&quot;æ‰€æœ‰ä»“åº“è´§ç‰©å·²å‡†å¤‡å®Œæ¯•ï¼Œå¼€å§‹è¿è¾“ï¼&quot;); &#125; catch (InterruptedException e) &#123; Thread.currentThread().interrupt(); System.out.println(&quot;ä¸»çº¿ç¨‹è¢«ä¸­æ–­: &quot; + e.getMessage()); &#125; &#125; // ä»“åº“ä»»åŠ¡ç±» static class WarehouseTask implements Runnable &#123; private final int warehouseId; private final CountDownLatch latch; public WarehouseTask(int warehouseId, CountDownLatch latch) &#123; this.warehouseId = warehouseId; this.latch = latch; &#125; @Override public void run() &#123; try &#123; System.out.println(&quot;ä»“åº“ &quot; + warehouseId + &quot; æ­£åœ¨å‡†å¤‡è´§ç‰©...&quot;); Thread.sleep((long) (Math.random() * 2000)); // æ¨¡æ‹Ÿå‡†å¤‡æ—¶é—´ System.out.println(&quot;ä»“åº“ &quot; + warehouseId + &quot; å·²å®Œæˆè´§ç‰©å‡†å¤‡ï¼&quot;); latch.countDown(); // å®Œæˆä»»åŠ¡ï¼Œè®¡æ•°å™¨å‡ 1 &#125; catch (InterruptedException e) &#123; Thread.currentThread().interrupt(); System.out.println(&quot;ä»“åº“ &quot; + warehouseId + &quot; å‘ç”Ÿå¼‚å¸¸: &quot; + e.getMessage()); &#125; &#125; &#125;&#125; 4. è¾“å‡ºç¤ºä¾‹è¿è¡Œä¸Šè¿°ä»£ç åï¼Œå¯èƒ½å¾—åˆ°å¦‚ä¸‹è¾“å‡ºï¼ˆéšæœºæ—¶é—´å¯¼è‡´æ¯æ¬¡ç»“æœç•¥æœ‰ä¸åŒï¼‰ï¼š 1234567ä»“åº“ 1 æ­£åœ¨å‡†å¤‡è´§ç‰©...ä»“åº“ 2 æ­£åœ¨å‡†å¤‡è´§ç‰©...ä»“åº“ 3 æ­£åœ¨å‡†å¤‡è´§ç‰©...ä»“åº“ 3 å·²å®Œæˆè´§ç‰©å‡†å¤‡ï¼ä»“åº“ 1 å·²å®Œæˆè´§ç‰©å‡†å¤‡ï¼ä»“åº“ 2 å·²å®Œæˆè´§ç‰©å‡†å¤‡ï¼æ‰€æœ‰ä»“åº“è´§ç‰©å·²å‡†å¤‡å®Œæ¯•ï¼Œå¼€å§‹è¿è¾“ï¼ 5. æ ¸å¿ƒæ–¹æ³• **await()**ï¼šè®©å½“å‰çº¿ç¨‹ç­‰å¾…ï¼Œç›´åˆ°è®¡æ•°å™¨å‡åˆ° 0ã€‚ **countDown()**ï¼šå°†è®¡æ•°å™¨å‡ 1ã€‚ ä¸å¯é‡ç½®ï¼šä¸€æ—¦è®¡æ•°å™¨å‡åˆ° 0ï¼Œæ— æ³•å†æ¬¡ä½¿ç”¨ã€‚ äºŒã€CyclicBarrier è®²è§£1. CyclicBarrier çš„æ ¸å¿ƒæ¦‚å¿µCyclicBarrier æ˜¯ä¸€ä¸ªåŒæ­¥å·¥å…·ç±»ï¼Œå…è®¸å¤šä¸ªçº¿ç¨‹ç›¸äº’ç­‰å¾…ï¼Œç›´åˆ°æ‰€æœ‰çº¿ç¨‹éƒ½åˆ°è¾¾æŸä¸ªå±éšœç‚¹åå†ç»§ç»­æ‰§è¡Œã€‚å®ƒçš„æ ¸å¿ƒæ˜¯åŸºäºä¸€ä¸ªè®¡æ•°å™¨ï¼š åˆå§‹å€¼ä¸ºå‚ä¸çº¿ç¨‹çš„æ•°é‡ï¼ˆpartiesï¼‰ã€‚ æ¯æ¬¡è°ƒç”¨ await() æ–¹æ³•æ—¶ï¼Œè®¡æ•°å™¨å‡ 1ã€‚ å½“è®¡æ•°å™¨å‡åˆ° 0 æ—¶ï¼Œæ‰€æœ‰ç­‰å¾…çš„çº¿ç¨‹ä¼šè¢«å”¤é†’å¹¶ç»§ç»­æ‰§è¡Œã€‚ ç‰¹ç‚¹ï¼š è®¡æ•°å™¨å¯ä»¥é‡ç½®ï¼Œæ”¯æŒå¤šæ¬¡åŒæ­¥ã€‚ å¯ä»¥è®¾ç½®å±éšœåŠ¨ä½œï¼ˆRunnableï¼‰ï¼Œå½“æ‰€æœ‰çº¿ç¨‹åˆ°è¾¾å±éšœç‚¹æ—¶æ‰§è¡Œç‰¹å®šé€»è¾‘ã€‚ 2. CyclicBarrier çš„å…¸å‹åº”ç”¨åœºæ™¯å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªç‰©æµç³»ç»Ÿï¼Œå¤šä¸ªä»“åº“éœ€è¦åŒæ—¶å®Œæˆè´§ç‰©è£…è½¦åæ‰èƒ½ç»Ÿä¸€å‘è½¦ã€‚è¿™ç§åœºæ™¯éå¸¸é€‚åˆä½¿ç”¨ CyclicBarrierã€‚ 3. ç¤ºä¾‹ä»£ç ä»¥ä¸‹æ˜¯ä¸€ä¸ªå®Œæ•´çš„ CyclicBarrier ä½¿ç”¨ç¤ºä¾‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354import java.util.concurrent.BrokenBarrierException;import java.util.concurrent.CyclicBarrier;public class LogisticsSystemWithCyclicBarrier &#123; // å®šä¹‰ä»“åº“æ•°é‡ private static final int WAREHOUSE_COUNT = 3; public static void main(String[] args) &#123; // åˆ›å»ºä¸€ä¸ª CyclicBarrierï¼ŒæŒ‡å®šå‚ä¸çº¿ç¨‹æ•°ï¼Œå¹¶è®¾ç½®å±éšœåŠ¨ä½œ CyclicBarrier cyclicBarrier = new CyclicBarrier(WAREHOUSE_COUNT, () -&gt; &#123; System.out.println(&quot;æ‰€æœ‰ä»“åº“è´§ç‰©å·²è£…è½¦ï¼Œå¼€å§‹ç»Ÿä¸€å‘è½¦ï¼&quot;); &#125;); // å¯åŠ¨æ¯ä¸ªä»“åº“çš„çº¿ç¨‹ for (int i = 1; i &lt;= WAREHOUSE_COUNT; i++) &#123; new Thread(new WarehouseTask(i, cyclicBarrier)).start(); &#125; &#125; // ä»“åº“ä»»åŠ¡ç±» static class WarehouseTask implements Runnable &#123; private final int warehouseId; private final CyclicBarrier cyclicBarrier; public WarehouseTask(int warehouseId, CyclicBarrier cyclicBarrier) &#123; this.warehouseId = warehouseId; this.cyclicBarrier = cyclicBarrier; &#125; @Override public void run() &#123; try &#123; // 1. å‡†å¤‡è´§ç‰© System.out.println(&quot;ä»“åº“ &quot; + warehouseId + &quot; æ­£åœ¨å‡†å¤‡è´§ç‰©...&quot;); Thread.sleep((long) (Math.random() * 2000)); // æ¨¡æ‹Ÿå‡†å¤‡æ—¶é—´ // 2. è£…è½¦ System.out.println(&quot;ä»“åº“ &quot; + warehouseId + &quot; æ­£åœ¨è£…è½¦...&quot;); Thread.sleep((long) (Math.random() * 2000)); // æ¨¡æ‹Ÿè£…è½¦æ—¶é—´ // åˆ°è¾¾å±éšœç‚¹ï¼Œç­‰å¾…å…¶ä»–ä»“åº“ System.out.println(&quot;ä»“åº“ &quot; + warehouseId + &quot; å·²å®Œæˆè£…è½¦ï¼Œç­‰å¾…å…¶ä»–ä»“åº“...&quot;); cyclicBarrier.await(); // 3. å‘è½¦ï¼ˆå±éšœåŠ¨ä½œå®Œæˆåï¼Œæ‰€æœ‰çº¿ç¨‹ç»§ç»­æ‰§è¡Œï¼‰ System.out.println(&quot;ä»“åº“ &quot; + warehouseId + &quot; çš„è´§ç‰©å·²å‘è½¦ï¼&quot;); &#125; catch (InterruptedException | BrokenBarrierException e) &#123; Thread.currentThread().interrupt(); System.out.println(&quot;ä»“åº“ &quot; + warehouseId + &quot; å‘ç”Ÿå¼‚å¸¸: &quot; + e.getMessage()); &#125; &#125; &#125;&#125; 4. è¾“å‡ºç¤ºä¾‹è¿è¡Œä¸Šè¿°ä»£ç åï¼Œå¯èƒ½å¾—åˆ°å¦‚ä¸‹è¾“å‡ºï¼š 12345678910111213ä»“åº“ 1 æ­£åœ¨å‡†å¤‡è´§ç‰©...ä»“åº“ 2 æ­£åœ¨å‡†å¤‡è´§ç‰©...ä»“åº“ 3 æ­£åœ¨å‡†å¤‡è´§ç‰©...ä»“åº“ 1 æ­£åœ¨è£…è½¦...ä»“åº“ 3 æ­£åœ¨è£…è½¦...ä»“åº“ 2 æ­£åœ¨è£…è½¦...ä»“åº“ 1 å·²å®Œæˆè£…è½¦ï¼Œç­‰å¾…å…¶ä»–ä»“åº“...ä»“åº“ 2 å·²å®Œæˆè£…è½¦ï¼Œç­‰å¾…å…¶ä»–ä»“åº“...ä»“åº“ 3 å·²å®Œæˆè£…è½¦ï¼Œç­‰å¾…å…¶ä»–ä»“åº“...æ‰€æœ‰ä»“åº“è´§ç‰©å·²è£…è½¦ï¼Œå¼€å§‹ç»Ÿä¸€å‘è½¦ï¼ä»“åº“ 1 çš„è´§ç‰©å·²å‘è½¦ï¼ä»“åº“ 2 çš„è´§ç‰©å·²å‘è½¦ï¼ä»“åº“ 3 çš„è´§ç‰©å·²å‘è½¦ï¼ 5. æ ¸å¿ƒæ–¹æ³• **await()**ï¼šè®©å½“å‰çº¿ç¨‹ç­‰å¾…ï¼Œç›´åˆ°æ‰€æœ‰çº¿ç¨‹éƒ½åˆ°è¾¾å±éšœç‚¹ã€‚ å±éšœåŠ¨ä½œï¼šå¯ä»¥åœ¨æ„é€ å‡½æ•°ä¸­ä¼ å…¥ä¸€ä¸ª Runnableï¼Œå½“æ‰€æœ‰çº¿ç¨‹åˆ°è¾¾å±éšœç‚¹æ—¶æ‰§è¡Œã€‚ å¯é‡ç½®ï¼šè®¡æ•°å™¨å¯ä»¥é‡æ–°è®¾ç½®ï¼Œæ”¯æŒå¤šæ¬¡åŒæ­¥ã€‚ ä¸‰ã€CountDownLatch ä¸ CyclicBarrier çš„å¯¹æ¯” ç‰¹æ€§ CountDownLatch CyclicBarrier è®¡æ•°å™¨é‡ç½® ä¸å¯é‡ç½®ï¼Œåªèƒ½ä½¿ç”¨ä¸€æ¬¡ å¯ä»¥é‡ç½®ï¼Œæ”¯æŒå¤šæ¬¡åŒæ­¥ çº¿ç¨‹è§’è‰² ä¸€ä¸ªæˆ–å¤šä¸ªçº¿ç¨‹ç­‰å¾…å…¶ä»–çº¿ç¨‹å®Œæˆä»»åŠ¡ å¤šä¸ªçº¿ç¨‹ç›¸äº’ç­‰å¾…ï¼Œç›´åˆ°æ‰€æœ‰çº¿ç¨‹éƒ½åˆ°è¾¾å±éšœç‚¹ å±éšœåŠ¨ä½œ ä¸æ”¯æŒ æ”¯æŒåœ¨æ‰€æœ‰çº¿ç¨‹åˆ°è¾¾å±éšœç‚¹åæ‰§è¡Œä¸€ä¸ªå±éšœåŠ¨ä½œ å…¸å‹åº”ç”¨åœºæ™¯ ç­‰å¾…æŸäº›ä»»åŠ¡å®Œæˆåæ‰èƒ½ç»§ç»­æ‰§è¡Œ éœ€è¦å¤šä¸ªçº¿ç¨‹ååŒå®Œæˆä»»åŠ¡åå†ç»§ç»­æ‰§è¡Œ å®ç°æ–¹å¼ åŸºäº AQSï¼ˆAbstractQueuedSynchronizerï¼‰å®ç° åŸºäº ReentrantLock å’Œ Condition å®ç° å››ã€æ€»ç»“ CountDownLatch æ›´é€‚åˆâ€œä¸€ä¸ªçº¿ç¨‹ç­‰å¾…å¤šä¸ªçº¿ç¨‹å®Œæˆä»»åŠ¡â€çš„åœºæ™¯ï¼Œä¾‹å¦‚ä¸»çº¿ç¨‹ç­‰å¾…å­çº¿ç¨‹å®Œæˆåˆå§‹åŒ–ã€ä»»åŠ¡åˆ†é…ç­‰ã€‚ CyclicBarrier æ›´é€‚åˆâ€œå¤šä¸ªçº¿ç¨‹ç›¸äº’ç­‰å¾…ï¼Œç›´åˆ°æ‰€æœ‰çº¿ç¨‹éƒ½å®Œæˆä»»åŠ¡åå†ç»§ç»­æ‰§è¡Œâ€çš„åœºæ™¯ï¼Œä¾‹å¦‚å¤šä»“åº“ååŒå·¥ä½œã€æ‰¹é‡æ•°æ®å¤„ç†ç­‰ã€‚ é€šè¿‡æœ¬æ–‡çš„è®²è§£å’Œç¤ºä¾‹ä»£ç ï¼Œç›¸ä¿¡ä½ å·²ç»æŒæ¡äº† CountDownLatch å’Œ CyclicBarrier çš„ä½¿ç”¨æ–¹æ³•åŠå…¶é€‚ç”¨åœºæ™¯ã€‚å¸Œæœ›è¿™äº›å†…å®¹èƒ½å¸®åŠ©ä½ åœ¨å¹¶å‘ç¼–ç¨‹ä¸­æ›´åŠ å¾—å¿ƒåº”æ‰‹ï¼","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://daiyafeigithub.github.io/simonzzz/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"å¤šçº¿ç¨‹","slug":"å¤šçº¿ç¨‹","permalink":"https://daiyafeigithub.github.io/simonzzz/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/"},{"name":"æ•™ç¨‹","slug":"æ•™ç¨‹","permalink":"https://daiyafeigithub.github.io/simonzzz/tags/%E6%95%99%E7%A8%8B/"},{"name":"cycleBarrier","slug":"cycleBarrier","permalink":"https://daiyafeigithub.github.io/simonzzz/tags/cycleBarrier/"},{"name":"countDownLatch","slug":"countDownLatch","permalink":"https://daiyafeigithub.github.io/simonzzz/tags/countDownLatch/"}]}],"categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://daiyafeigithub.github.io/simonzzz/categories/%E6%8A%80%E6%9C%AF/"},{"name":"æ—…æ¸¸","slug":"æ—…æ¸¸","permalink":"https://daiyafeigithub.github.io/simonzzz/categories/%E6%97%85%E6%B8%B8/"},{"name":"è½¯è€ƒ","slug":"è½¯è€ƒ","permalink":"https://daiyafeigithub.github.io/simonzzz/categories/%E8%BD%AF%E8%80%83/"}],"tags":[{"name":"RabbitMQ","slug":"RabbitMQ","permalink":"https://daiyafeigithub.github.io/simonzzz/tags/RabbitMQ/"},{"name":"Java","slug":"Java","permalink":"https://daiyafeigithub.github.io/simonzzz/tags/Java/"},{"name":"å¤šçº¿ç¨‹","slug":"å¤šçº¿ç¨‹","permalink":"https://daiyafeigithub.github.io/simonzzz/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/"},{"name":"çº¿ç¨‹æ± ","slug":"çº¿ç¨‹æ± ","permalink":"https://daiyafeigithub.github.io/simonzzz/tags/%E7%BA%BF%E7%A8%8B%E6%B1%A0/"},{"name":"AI","slug":"AI","permalink":"https://daiyafeigithub.github.io/simonzzz/tags/AI/"},{"name":"Python","slug":"Python","permalink":"https://daiyafeigithub.github.io/simonzzz/tags/Python/"},{"name":"æ—…æ¸¸","slug":"æ—…æ¸¸","permalink":"https://daiyafeigithub.github.io/simonzzz/tags/%E6%97%85%E6%B8%B8/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://daiyafeigithub.github.io/simonzzz/tags/%E6%8A%80%E6%9C%AF/"},{"name":"æ•™ç¨‹","slug":"æ•™ç¨‹","permalink":"https://daiyafeigithub.github.io/simonzzz/tags/%E6%95%99%E7%A8%8B/"},{"name":"deepseek","slug":"deepseek","permalink":"https://daiyafeigithub.github.io/simonzzz/tags/deepseek/"},{"name":"è½¯è€ƒ","slug":"è½¯è€ƒ","permalink":"https://daiyafeigithub.github.io/simonzzz/tags/%E8%BD%AF%E8%80%83/"},{"name":"ä¸­çº§è½¯è€ƒ","slug":"ä¸­çº§è½¯è€ƒ","permalink":"https://daiyafeigithub.github.io/simonzzz/tags/%E4%B8%AD%E7%BA%A7%E8%BD%AF%E8%80%83/"},{"name":"mysql","slug":"mysql","permalink":"https://daiyafeigithub.github.io/simonzzz/tags/mysql/"},{"name":"é¢è¯•","slug":"é¢è¯•","permalink":"https://daiyafeigithub.github.io/simonzzz/tags/%E9%9D%A2%E8%AF%95/"},{"name":"MySql","slug":"MySql","permalink":"https://daiyafeigithub.github.io/simonzzz/tags/MySql/"},{"name":"cycleBarrier","slug":"cycleBarrier","permalink":"https://daiyafeigithub.github.io/simonzzz/tags/cycleBarrier/"},{"name":"countDownLatch","slug":"countDownLatch","permalink":"https://daiyafeigithub.github.io/simonzzz/tags/countDownLatch/"}]}